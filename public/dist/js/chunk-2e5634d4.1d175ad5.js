(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e5634d4"],{"0070":function(t,e,n){"use strict";n("60443")},"073e":function(t,e,n){},"0d92":function(t,e,n){"use strict";n("073e")},1365:function(t,e,n){},1417:function(t,e,n){"use strict";n("d085")},"1b40":function(t,e,n){"use strict";n.d(e,"a",(function(){return x})),n.d(e,"c",(function(){return i["a"]})),n.d(e,"b",(function(){return L})),n.d(e,"d",(function(){return S}));var i=n("2b0e");
/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */function a(t){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){return o(t)||c(t)||l()}function o(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function c(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(){return"undefined"!==typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function d(t,e){f(t,e),Object.getOwnPropertyNames(e.prototype).forEach((function(n){f(t.prototype,e.prototype,n)})),Object.getOwnPropertyNames(e).forEach((function(n){f(t,e,n)}))}function f(t,e,n){var i=n?Reflect.getOwnMetadataKeys(e,n):Reflect.getOwnMetadataKeys(e);i.forEach((function(i){var a=n?Reflect.getOwnMetadata(i,e,n):Reflect.getOwnMetadata(i,e);n?Reflect.defineMetadata(i,a,t,n):Reflect.defineMetadata(i,a,t)}))}var p={__proto__:[]},v=p instanceof Array;function h(t){return function(e,n,i){var a="function"===typeof e?e:e.constructor;a.__decorators__||(a.__decorators__=[]),"number"!==typeof i&&(i=void 0),a.__decorators__.push((function(e){return t(e,n,i)}))}}function m(t){var e=a(t);return null==t||"object"!==e&&"function"!==e}function g(t,e){var n=e.prototype._init;e.prototype._init=function(){var e=this,n=Object.getOwnPropertyNames(t);if(t.$options.props)for(var i in t.$options.props)t.hasOwnProperty(i)||n.push(i);n.forEach((function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0})}))};var i=new e;e.prototype._init=n;var a={};return Object.keys(i).forEach((function(t){void 0!==i[t]&&(a[t]=i[t])})),a}var y=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.name=e.name||t._componentTag||t.name;var n=t.prototype;Object.getOwnPropertyNames(n).forEach((function(t){if("constructor"!==t)if(y.indexOf(t)>-1)e[t]=n[t];else{var i=Object.getOwnPropertyDescriptor(n,t);void 0!==i.value?"function"===typeof i.value?(e.methods||(e.methods={}))[t]=i.value:(e.mixins||(e.mixins=[])).push({data:function(){return s({},t,i.value)}}):(i.get||i.set)&&((e.computed||(e.computed={}))[t]={get:i.get,set:i.set})}})),(e.mixins||(e.mixins=[])).push({data:function(){return g(this,t)}});var a=t.__decorators__;a&&(a.forEach((function(t){return t(e)})),delete t.__decorators__);var r=Object.getPrototypeOf(t.prototype),o=r instanceof i["a"]?r.constructor:i["a"],c=o.extend(e);return _(c,t,o),u()&&d(c,t),c}var C={prototype:!0,arguments:!0,callee:!0,caller:!0};function _(t,e,n){Object.getOwnPropertyNames(e).forEach((function(i){if(!C[i]){var a=Object.getOwnPropertyDescriptor(t,i);if(!a||a.configurable){var s=Object.getOwnPropertyDescriptor(e,i);if(!v){if("cid"===i)return;var r=Object.getOwnPropertyDescriptor(n,i);if(!m(s.value)&&r&&r.value===s.value)return}0,Object.defineProperty(t,i,s)}}}))}function k(t){return"function"===typeof t?b(t):function(e){return b(e,t)}}k.registerHooks=function(t){y.push.apply(y,r(t))};var x=k;var O="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function w(t,e,n){if(O&&!Array.isArray(t)&&"function"!==typeof t&&!t.hasOwnProperty("type")&&"undefined"===typeof t.type){var i=Reflect.getMetadata("design:type",e,n);i!==Object&&(t.type=i)}}function L(t){return void 0===t&&(t={}),function(e,n){w(t,e,n),h((function(e,n){(e.props||(e.props={}))[n]=t}))(e,n)}}function S(t,e){void 0===e&&(e={});var n=e.deep,i=void 0!==n&&n,a=e.immediate,s=void 0!==a&&a;return h((function(e,n){"object"!==typeof e.watch&&(e.watch=Object.create(null));var a=e.watch;"object"!==typeof a[t]||Array.isArray(a[t])?"undefined"===typeof a[t]&&(a[t]=[]):a[t]=[a[t]],a[t].push({handler:n,deep:i,immediate:s})}))}},"1da1":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("d3b7");function i(t,e,n,i,a,s,r){try{var o=t[s](r),c=o.value}catch(l){return void n(l)}o.done?e(c):Promise.resolve(c).then(i,a)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(a,s){var r=t.apply(e,n);function o(t){i(r,a,s,o,c,"next",t)}function c(t){i(r,a,s,o,c,"throw",t)}o(void 0)}))}}},2054:function(t,e,n){"use strict";n("3ba4")},"29aa":function(t,e,n){"use strict";n("971c")},"321a":function(t,e,n){"use strict";n("b0c0"),n("9911");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"linkPopup"},[e("h2",{staticClass:"dialog-title"},[t._v(t._s(t.operation.name))]),e("div",{staticClass:"channel-wrap"},[e("div",{staticClass:"channel-qr-wrap"},[e("span",{staticClass:"prefix"}),e("span",{staticClass:"qr-way"},[t._v("方式一：")]),e("div",{staticClass:"qr-wrap"},[e("div",{staticClass:"description"},[t._v("渠道二维码")]),e("vue-qr",{attrs:{text:t.operation.link,size:150,callback:t.qrCallback}})],1)]),e("div",{staticClass:"seprator"}),e("div",{staticClass:"channel-text-wrap"},[e("span",{staticClass:"prefix"}),e("span",{staticClass:"qr-way"},[t._v("方式二：")]),e("div",{staticClass:"link-wrap"},[e("div",{staticClass:"description"},[t._v("渠道链接")]),e("div",{staticClass:"qr-link"},[t._v(t._s(t.operation.link))])])])]),e("div",{staticClass:"footer"},[e("a-button",{on:{click:function(e){return t.downFile()}}},[t._v("下载二维码")]),e("a-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary",id:"copyLink","data-clipboard-text":t.ourl},on:{click:function(e){return t.copy()}}},[t._v("复制链接")])],1)])},a=[],s=n("b311"),r=n.n(s),o=n("658f5"),c=n.n(o),l={components:{vueQr:c.a},props:{operation:{type:Object,default:function(){return{}}}},data:function(){return{ourl:this.operation.link,base64:""}},methods:{qrCallback:function(t){this.base64=t},copy:function(t){var e=this,n=new r.a("#copyLink");n.on("success",(function(t){e.$message.success("复制成功"),n.destroy()})),n.on("error",(function(t){e.$message.error("该浏览器不支持自动复制"),n.destroy()}))},downFile:function(){var t=document.createElement("a");t.href=this.base64,t.download="".concat(this.operation.name,".jpg"),document.body.appendChild(t),t.click(),t.remove()}}},u=l,d=(n("c771"),n("2877")),f=Object(d["a"])(u,i,a,!1,null,"6835b6a9",null);e["a"]=f.exports},3517:function(t,e,n){},"36b4":function(t,e,n){"use strict";n.d(e,"m",(function(){return s})),n.d(e,"b",(function(){return r})),n.d(e,"p",(function(){return o})),n.d(e,"k",(function(){return c})),n.d(e,"l",(function(){return l})),n.d(e,"q",(function(){return u})),n.d(e,"g",(function(){return d})),n.d(e,"h",(function(){return f})),n.d(e,"r",(function(){return p})),n.d(e,"o",(function(){return v})),n.d(e,"c",(function(){return h})),n.d(e,"n",(function(){return m})),n.d(e,"e",(function(){return g})),n.d(e,"d",(function(){return y})),n.d(e,"i",(function(){return b})),n.d(e,"a",(function(){return C})),n.d(e,"t",(function(){return _})),n.d(e,"f",(function(){return k})),n.d(e,"j",(function(){return x})),n.d(e,"s",(function(){return O}));var i=n("b775"),a={list:"/custservice/account/list",uploadMedia:"/client_group/upload/uploadMedia",add:"/custservice/account/add",update:"/custservice/account/update",delete:"/custservice/account/delete",info:"/custservice/account/info",channelSave:"/custservice/customerservicechannel/save",channelUpdate:"/custservice/customerservicechannel/update",getchannelList:"/custservice/customerservicechannel/list",channelDelete:"/custservice/customerservicechannel/delete",getkeyword:"/custservice/account/getkeyword",saveReceptionSet:"/custservice/account/saveReceptionSet",receptionistsList:"/custservice/customerserviceservicer/list",getByMember:"/custservice/data/getByMember",getByChannel:"/custservice/data/getByChannel",overview:"/custservice/data/overview",getListByMember:"/custservice/data/getListByMember",getListByChannel:"/custservice/data/getListByChannel",memberExport:"/custservice/data/memberExport",attendenceExport:"/custservice/data/attendenceExport",getOnLineDetailByMember:"/custservice/data/getOnLineDetailByMember"};function s(t){return Object(i["b"])({url:a.getOnLineDetailByMember,method:"post",data:t})}function r(t){return Object(i["b"])({url:a.attendenceExport,method:"post",data:t,responseType:"blob"})}function o(t){return Object(i["b"])({url:a.memberExport,method:"post",data:t,responseType:"blob"})}function c(t){return Object(i["b"])({url:a.getListByChannel,method:"post",data:t})}function l(t){return Object(i["b"])({url:a.getListByMember,method:"post",data:t})}function u(t){return Object(i["b"])({url:a.overview,method:"post",data:t})}function d(t){return Object(i["b"])({url:a.getByChannel,method:"post",data:t})}function f(t){return Object(i["b"])({url:a.getByMember,method:"post",data:t})}function p(t){return Object(i["b"])({url:a.receptionistsList,method:"post",data:t})}function v(t){return Object(i["b"])({url:a.getkeyword,method:"post",data:t})}function h(t){return Object(i["b"])({url:a.channelDelete,method:"post",data:t})}function m(t){return Object(i["b"])({url:a.getchannelList,method:"post",data:t})}function g(t){return Object(i["b"])({url:a.channelUpdate,method:"post",data:t})}function y(t){return Object(i["b"])({url:a.channelSave,method:"post",data:t})}function b(t){return Object(i["b"])({url:a.list,method:"post",data:t})}function C(t){return Object(i["b"])({url:a.add,method:"post",data:t})}function _(t){return Object(i["b"])({url:a.update,method:"post",data:t})}function k(t){return Object(i["b"])({url:a.delete,method:"post",data:t})}function x(t){return Object(i["b"])({url:a.info,method:"post",data:t})}function O(t){return Object(i["b"])({url:a.saveReceptionSet,method:"post",data:t})}},"3ba4":function(t,e,n){},4856:function(t,e,n){},"487a":function(t,e,n){(function(e,n){t.exports=n()})(0,(function(){"use strict";var t="@@InfiniteScroll",e=function(t,e){var n,i,a,s,r,o=function(){t.apply(s,r),i=n};return function(){if(s=this,r=arguments,n=Date.now(),a&&(clearTimeout(a),a=null),i){var t=e-(n-i);t<0?o():a=setTimeout((function(){o()}),t)}else o()}},n=function(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop},i=document.defaultView.getComputedStyle,a=function(t){var e=t;while(e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType){var n=i(e).overflowY;if("scroll"===n||"auto"===n)return e;e=e.parentNode}return window},s=function(t){return t===window?document.documentElement.clientHeight:t.clientHeight},r=function(t){return t===window?n(window):t.getBoundingClientRect().top+n(window)},o=function(t){var e=t.parentNode;while(e){if("HTML"===e.tagName)return!0;if(11===e.nodeType)return!1;e=e.parentNode}return!1},c=function(){if(!this.binded){this.binded=!0;var t=this,n=t.el,i=n.getAttribute("infinite-scroll-throttle-delay"),s=200;i&&(s=Number(t.vm[i]||i),(isNaN(s)||s<0)&&(s=200)),t.throttleDelay=s,t.scrollEventTarget=a(n),t.scrollListener=e(l.bind(t),t.throttleDelay),t.scrollEventTarget.addEventListener("scroll",t.scrollListener),this.vm.$on("hook:beforeDestroy",(function(){t.scrollEventTarget.removeEventListener("scroll",t.scrollListener)}));var r=n.getAttribute("infinite-scroll-disabled"),o=!1;r&&(this.vm.$watch(r,(function(e){t.disabled=e,!e&&t.immediateCheck&&l.call(t)})),o=Boolean(t.vm[r])),t.disabled=o;var c=n.getAttribute("infinite-scroll-distance"),u=0;c&&(u=Number(t.vm[c]||c),isNaN(u)&&(u=0)),t.distance=u;var d=n.getAttribute("infinite-scroll-immediate-check"),f=!0;d&&(f=Boolean(t.vm[d])),t.immediateCheck=f,f&&l.call(t);var p=n.getAttribute("infinite-scroll-listen-for-event");p&&t.vm.$on(p,(function(){l.call(t)}))}},l=function(t){var e=this.scrollEventTarget,i=this.el,a=this.distance;if(!0===t||!this.disabled){var o=n(e),c=o+s(e),l=!1;if(e===i)l=e.scrollHeight-c<=a;else{var u=r(i)-r(e)+i.offsetHeight+o;l=c+a>=u}l&&this.expression&&this.expression()}},u={bind:function(e,n,i){e[t]={el:e,vm:i.context,expression:n.value};var a=arguments;e[t].vm.$on("hook:mounted",(function(){e[t].vm.$nextTick((function(){o(e)&&c.call(e[t],a),e[t].bindTryCount=0;var n=function n(){e[t].bindTryCount>10||(e[t].bindTryCount++,o(e)?c.call(e[t],a):setTimeout(n,50))};n()}))}))},unbind:function(e){e&&e[t]&&e[t].scrollEventTarget&&e[t].scrollEventTarget.removeEventListener("scroll",e[t].scrollListener)}},d=function(t){t.directive("InfiniteScroll",u)};return window.Vue&&(window.infiniteScroll=u,Vue.use(d)),u.install=d,u}))},"506c":function(t,e,n){},60443:function(t,e,n){},6290:function(t,e,n){"use strict";n("caad"),n("2532"),n("fb6a");var i=function(){var t=this,e=t._self._c;return e("div",[t.isEdit?e("a-button",{staticClass:"add-tag-button",attrs:{size:"small"},on:{click:t.showInput}},[e("a-icon",{attrs:{type:"plus"}}),t._v(" 添加 ")],1):t._e(),t.inputVisible?e("a-input",{ref:"input",style:{width:"120px"},attrs:{type:"text",size:"small",inputVisible:"false",maxLength:10,value:t.inputValue},on:{change:t.handleInputChange,blur:t.handleInputConfirm,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.stopPropagation(),t.handleInputConfirm.apply(null,arguments))}}}):t._e(),t._l(t.tagslist.tags,(function(n,i){return[n.tagName.length>20?e("a-tooltip",{key:i},[e("a-tag",{key:n.tagId,attrs:{closable:t.closable,color:t.tagIdList.includes(n.tagId)?"blue":""},on:{close:function(e){return t.closeTag(n)},click:function(e){return t.checkedTag(n)}}},[t._v(" "+t._s("".concat(n.tagName.slice(0,20),"..."))+" ")])],1):e("a-tag",{key:n.tagId,attrs:{closable:t.closable,color:t.tagIdList.includes(n.tagId)?"blue":""},on:{close:function(e){return t.closeTag(n)},click:function(e){return t.checkedTag(n)}}},[t._v(" "+t._s(n.tagName)+" ")])]}))],2)},a=[],s=n("2909"),r=(n("d81d"),n("c740"),n("a434"),n("498a"),n("99af"),{name:"TagComponents",props:{selectTagList:{type:[Array],default:function(){return[]}},tagslist:{type:[Object],default:function(){return{}}},closable:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},isSelect:{type:Boolean,default:!0}},data:function(){return{inputVisible:!1,inputValue:"",index:"",selectTags:[]}},computed:{tagIdList:function(){var t;return(null===(t=this.selectTagList)||void 0===t?void 0:t.map((function(t){return t.tagId})))||[]}},methods:{closeTag:function(t){var e=this.tagslist.tags.findIndex((function(e){return e.tagName===t.tagName}));this.tagslist.tags.splice(e,1),this.$emit("closeTag",t)},showInput:function(){this.inputVisible=!0,this.$nextTick((function(){this.$refs.input.focus()}))},checkedTag:function(t){if(this.isSelect){var e=this.selectTagList.findIndex((function(e){if(e.tagId===t.tagId)return e}));e>=0?this.selectTagList.splice(e,1):this.selectTagList.push(t)}},handleInputChange:function(t){var e;this.inputValue=null===(e=t.target.value)||void 0===e?void 0:e.trim()},clean:function(){this.inputValue="",this.inputVisible=!1},handleInputConfirm:function(){var t,e=this.inputValue;if(e){var n=this.tagslist.tags||[],i={tagName:e},a=null===(t=n)||void 0===t?void 0:t.map((function(t){return t.tagName}));null!==a&&void 0!==a&&a.includes(i.tagName)?this.$message.warning("存在重复标签"):(e&&(n=[].concat(Object(s["a"])(n),[i])),this.tagslist.tags=n,this.$emit("addTag",{value:e,tagItem:this.tagslist,callBack:this.clean}))}else this.clean()}}}),o=r,c=(n("0070"),n("2877")),l=Object(c["a"])(o,i,a,!1,null,"22a32bc5",null);e["a"]=l.exports},6392:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[t.kefu?t._e():e("div",{staticClass:"error-tips"},[e("a-icon",{attrs:{type:"exclamation-circle"}}),t._v("   您暂时还没开通微信客服功能，请前去开通 ")],1),e("a-tabs",{on:{change:t.tabChange},model:{value:t.defaultVal,callback:function(e){t.defaultVal=e},expression:"defaultVal"}},[e("a-tab-pane",{key:"1",attrs:{tab:"微信客服"}},[e("ChannelList")],1),e("a-tab-pane",{key:"2",attrs:{tab:"数据统计"}},[e("DataStatic",{attrs:{timerNum:t.timerNum}})],1),e("a-tab-pane",{key:"3",attrs:{tab:"在线接待员列表"}},[e("OnlineList")],1),e("a-tab-pane",{key:"4",attrs:{tab:"排队列表"}},[e("QueueList")],1),e("a-tab-pane",{key:"5",attrs:{tab:"会话列表"}},[e("StateList")],1),e("a-tab-pane",{key:"6",attrs:{tab:"访问记录"}},[e("VisitList")],1)],1)],1)},a=[],s=n("9ab4"),r=n("1b40"),o=(n("b0c0"),function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"serviceWx"},[e("div",{staticClass:"customer-integral-inner"},[t._m(0),e("div",{staticClass:"wx-container"},[e("div",{staticClass:"content-wrap"},[t._m(1),e("section",{staticClass:"wx-customer-accounts"},[e("div",{staticClass:"account-content"},[e("ul",{staticClass:"accounts"},[t._l(t.customerServiceList,(function(n){return e("li",{key:n.kfid,staticClass:"account-block"},[e("img",{attrs:{src:n.img,alt:""}}),e("div",{staticClass:"account-info"},[e("span",{staticClass:"account-name"},[t._v(t._s(n.name))]),e("span",{staticClass:"account-company"},[t._v("@"+t._s(t.corpName))])]),e("div",{staticClass:"dropdown-wrap"},[e("a-dropdown",[e("span",{staticClass:"ant-dropdown-link"},[e("a-icon",{attrs:{type:"ellipsis"}})],1),e("a-menu",{staticStyle:{width:"90px","text-align":"center"},attrs:{slot:"overlay"},slot:"overlay"},[e("a-menu-item",{on:{click:function(e){return t.toDetail(n.kfid)}}},[e("a",{attrs:{href:"javascript:;"}},[t._v("详情")])]),e("a-menu-item",{on:{click:function(e){return t.editInfo(n.kfid)}}},[e("a",{attrs:{href:"javascript:;"}},[t._v("修改")])])],1)],1)],1)])})),this.customerServiceList.length<10?e("div",{staticClass:"account-add",on:{click:t.newlybuildBtn}},[e("span",{staticClass:"add"},[e("span",{staticClass:"icon-wrap"},[e("a-icon",{attrs:{type:"plus-circle"}})],1)]),e("span",{staticClass:"add-text"},[t._v("新建客服账号")])]):t._e()],2)])])]),e("SceneAccess")],1)]),e("a-modal",{attrs:{visible:t.visibleCodeTetail,footer:null,width:"750px"},on:{cancel:function(e){t.visibleCodeTetail=!1}}},[e("ListDetail",{attrs:{detailKfid:t.detailKfid}})],1),e("a-modal",{attrs:{width:"540px",centered:"",footer:null},on:{cancel:t.visibleLinkcancel},model:{value:t.visibleLink,callback:function(e){t.visibleLink=e},expression:"visibleLink"}},[e("LinkPopup",{attrs:{operation:t.operation}})],1)],1)}),c=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"nav-container"},[e("div",{staticStyle:{"border-left":"1px solid #e8e8e8",display:"flex"}},[e("div",{staticClass:"active base-tab"},[t._v("账号管理")])])])},function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"sence-header"},[e("b",{staticClass:"header-title"},[t._v("客服账号")]),e("span",{staticClass:"sub-title"},[t._v("最多可创建10个账号")])])}],l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"listDetail"},[e("h2",{staticClass:"dialog-title"},[t._v("查看详情")]),e("section",{staticClass:"service-detial-dialog-container"},[e("div",{staticClass:"detail-info"},[e("div",{staticClass:"header-first"},[t._v("账号信息")]),e("div",{staticClass:"account-block"},[e("img",{attrs:{src:t.detailInfo.img,alt:""}}),e("div",{staticClass:"account-info"},[e("span",{staticClass:"account-name",attrs:{title:"test"}},[t._v(t._s(t.detailInfo.name))]),e("span",{staticClass:"account-company"},[t._v("@"+t._s(t.detailInfo.companyName))])])])]),e("div",{staticClass:"detail-setting"},[e("div",{staticClass:"header-first header"},[t._v("接待设置")]),e("div",{staticClass:"line-normal"},[e("span",{staticClass:"prefix"},[t._v("人工值班时间：")]),e("span",{staticClass:"description"},[t._v(" "+t._s(t.getHMS(t.detailInfo.receptorStartTime))+"~"+t._s(t.getHMS(t.detailInfo.receptorEndTime))+" ")])]),e("div",{staticClass:"line-normal"},[e("span",{staticClass:"prefix"},[t._v("非人工时间话术：")]),e("span",{staticClass:"description"},[t._v(t._s(t.detailInfo.noReceptorReply))])]),e("div",{staticClass:"line-normal"},[e("span",{staticClass:"prefix"},[t._v("接待方式：")]),e("span",{staticClass:"description"},[t._v(t._s("1"==t.detailInfo.workType?"人工接待":"优先机器人接待"))])]),"1"==t.detailInfo.receptorType?e("div",t._l(t.detailInfo.receptorSetDto.workCycleServicerList,(function(n,i){return e("div",{key:i,staticClass:"block-area"},[e("div",{staticClass:"line-normal"},[e("span",{staticClass:"prefix center"},[t._v("接待员工：")]),e("span",{staticClass:"block-normal"},t._l(n.servicer,(function(n,i){return e("a-tag",{key:i,staticStyle:{"margin-bottom":"5px"}},[e("a-icon",{staticClass:"primaryColor",attrs:{type:"user"}}),t._v(t._s(n.name)+" ")],1)})),1)]),e("div",{staticClass:"line-normal"},[e("span",{staticClass:"prefix center"},[t._v("工作周期：")]),e("div",{staticClass:"block-normal"},t._l(n.weekDays.split(","),(function(n,i){return e("div",{key:i,staticClass:"block-day"},[t._v(" 周"+t._s(t.weekFilter(n))+" ")])})),0)]),e("div",{staticClass:"line-normal"},[e("span",{staticClass:"prefix"},[t._v("上线时间：")]),e("span",{staticClass:"description"},[t._v(t._s(t.getHMS(n.start))+"~"+t._s(t.getHMS(n.end)))])])])})),0):t._e(),"0"==t.detailInfo.receptorType?e("div",{staticClass:"line-normal"},[e("span",{staticClass:"prefix center"}),e("span",{staticClass:"block-normal"},t._l(t.detailInfo.receptorSetDto.allDayServicerList,(function(n,i){return e("a-tag",{key:i},[e("a-icon",{staticClass:"primaryColor",attrs:{type:"user"}}),t._v(t._s(n.name)+" ")],1)})),1)]):t._e(),"1"==t.detailInfo.receptorType&&t.detailInfo.receptorSetDto.spareServicerList.length>0?e("div",{staticClass:"line-normal"},[e("span",{staticClass:"prefix"},[t._v("备用员工：")]),e("span",{staticClass:"block-normal"},t._l(t.detailInfo.receptorSetDto.spareServicerList,(function(n,i){return e("a-tag",{key:i},[e("a-icon",{staticClass:"primaryColor",attrs:{type:"user"}}),t._v(t._s(n.name)+" ")],1)})),1)]):t._e(),"2"==t.detailInfo.workType?e("div",[e("div",{staticClass:"block-table"},[e("span",{staticClass:"prefix"},[t._v("自动回复：")]),e("div",{staticStyle:{height:"100%",width:"100%"}},[e("a-table",{staticClass:"table",attrs:{loading:t.tableLoading,"data-source":t.clientList,columns:t.columns,pagination:t.pagination},on:{change:t.tabchange},scopedSlots:t._u([{key:"keyWords",fn:function(n){return e("div",{},t._l(n,(function(n,i){return e("a-tag",{key:i,staticStyle:{"margin-rignt":"5px","margin-bottom":"5px"}},[t._v(" "+t._s(n)+" ")])})),1)}},{key:"contents",fn:function(n){return e("div",{},t._l(n,(function(n,i){return e("div",{key:i},[t._v(t._s(n.text))])})),0)}}],null,!1,2057849364)})],1)]),e("div",{staticClass:"line-normal"},[e("span",{staticClass:"prefix"},[t._v("商品回复:")]),e("span",{staticClass:"description"},[t._v(t._s("0"==t.detailInfo.isAutoProductReply?"已关闭":"已开启"))])]),e("div",{staticClass:"line-normal"},[e("span",{staticClass:"prefix"},[t._v("客服分类:")]),e("span",{staticClass:"description"},[t._v(t._s("0"==t.detailInfo.isOpenServicerProduct?"已关闭":""))]),"1"==t.detailInfo.isOpenServicerProduct?e("div",[e("div",{staticClass:"choose-staff-box"},[e("div",{staticClass:"choose-staff-header"},[e("span",[t._v("共"+t._s(t.setCustomer.length)+"个员工")]),t._m(0)])]),e("ul",{staticClass:"choose-staff-content"},t._l(t.setCustomer,(function(n,i){return e("li",{key:i},[e("div",{staticClass:"basic"},[e("img",{attrs:{src:n.source.thumbAvatar}}),e("span",{staticClass:"name"},[t._v(t._s(n.title))])]),e("div",{staticClass:"info-box"},[e("TagComponents",{attrs:{tagslist:n,selectTagList:n.selectTagList}})],1)])})),0)]):t._e()]),e("div",{staticClass:"line-normal"},[e("span",{staticClass:"prefix"},[t._v("自动转接人工客服：")]),e("span",{staticClass:"description"},[t._v(t._s("0"==t.detailInfo.isAutoChangeHuman?"已关闭":"已开启"))])]),"1"==t.detailInfo.isAutoChangeHuman?e("div",{staticClass:"block-normal"},[e("div",{staticClass:"block-text"},[t._v(t._s(t.detailInfo.changeHumenReply))])]):t._e(),e("div",{staticClass:"line-normal"},[e("span",{staticClass:"prefix"},[t._v("问题解决反馈：")]),e("span",{staticClass:"description"},[t._v(t._s("0"==t.detailInfo.isOpenProFeedBack?"已关闭":"已开启"))])]),"1"==t.detailInfo.isOpenProFeedBack?e("div",{staticClass:"block-normal"},[e("div",{staticClass:"block-text"},[t._v("问题「已解决」："+t._s(t.detailInfo.solvedReply))])]):t._e(),"1"==t.detailInfo.isOpenProFeedBack?e("div",{staticClass:"block-normal"},[e("div",{staticClass:"block-text"},[t._v("问题「未解决」："+t._s(t.detailInfo.unsolvedReply))])]):t._e(),e("div",{staticClass:"line-normal"},[e("span",{staticClass:"prefix"},[t._v("人工客服：")]),e("span",{staticClass:"description"},[t._v(t._s("0"==t.detailInfo.needHuman?"已关闭":"已开启"))])])]):t._e(),e("div",{staticClass:"line-normal"},[e("span",{staticClass:"prefix"},[t._v("优先接待：")]),e("span",{staticClass:"description"},[t._v(t._s("0"==t.detailInfo.isOpenPriorityQueue?"已关闭":"已开启"))])]),1===t.detailInfo.isOpenPriorityQueue?e("div",{staticClass:"line-normal"},[e("span",{staticClass:"prefix"},[t._v("非人工时间话术:")]),e("span",{staticClass:"description"},[t._v(t._s(t.detailInfo.noReceptorPriorityQueueReply))])]):t._e(),1===t.detailInfo.isOpenPriorityQueue?e("div",{staticClass:"line-normal"},[e("span",{staticClass:"prefix"},[t._v("优先排队回复:")]),e("div",{staticClass:"description",staticStyle:{height:"100%",width:"100%"}},[e("a-table",{staticClass:"table",attrs:{"data-source":t.priorityList,columns:t.columns,pagination:t.pagination},scopedSlots:t._u([{key:"keyWords",fn:function(n){return e("div",{},t._l(n,(function(n,i){return e("a-tag",{key:i,staticStyle:{"margin-rignt":"5px","margin-bottom":"5px"}},[t._v(" "+t._s(n)+" ")])})),1)}},{key:"contents",fn:function(n){return e("div",{},t._l(n,(function(n,i){return e("div",{key:i},[t._v(t._s(n.text))])})),0)}}],null,!1,2057849364)})],1)]):t._e(),t.detailInfo.ruleDto?e("div",[e("div",{staticClass:"header-first header"},[t._v("对话规则")]),e("div",{staticClass:"line-normal"},[e("span",{staticClass:"prefix"},[t._v("客服分配规则：")]),e("span",{staticClass:"description"},[t._v(t._s("0"==t.detailInfo.ruleDto.assignType?"轮流分配":"空闲分配"))])]),e("div",{staticClass:"line-normal"},[e("span",{staticClass:"prefix"},[t._v("优先分配：")]),e("span",{staticClass:"description"},[t._v(t._s("0"==t.detailInfo.ruleDto.isPriorityAssign?"已关闭":"已开启"))])]),e("div",{staticClass:"line-normal"},[e("span",{staticClass:"prefix"},[t._v("接待上限：")]),e("span",{staticClass:"description"},[t._v("一个员工最多同时接待"+t._s(t.detailInfo.ruleDto.limit)+"人咨询")])]),e("div",{staticClass:"line-normal"},[e("span",{staticClass:"prefix"},[t._v("排队话术：")]),e("span",{staticClass:"description"},[t._v(t._s("0"==t.detailInfo.ruleDto.isQueueSpeech?"已关闭":"已开启"))])]),"1"==t.detailInfo.ruleDto.isQueueSpeech?e("div",{staticClass:"block-normal"},[e("div",{staticClass:"block-text"},[t._v(t._s(t.detailInfo.ruleDto.speechContent))])]):t._e(),e("div",{staticClass:"line-normal"},[e("span",{staticClass:"prefix"},[t._v("自动结束对话：")]),e("span",{staticClass:"description"},[t._v("超过"+t._s(t.detailInfo.ruleDto.autoEnd)+"分钟，客户未回复消息时，将自动结束对话")])]),e("div",{staticClass:"line-normal"},[e("span",{staticClass:"prefix"},[t._v("自动结束排队：")]),0===t.detailInfo.ruleDto.isQueueDiscard?e("span",{staticClass:"description"},[t._v("已关闭")]):e("span",{staticClass:"description"},[t._v(" 超过"+t._s(t.detailInfo.ruleDto.queueDiscardTime)+"分钟未被接入，将自动结束排队 ")])])]):t._e(),t._e()])])])},u=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"info-box"},[e("span",[t._v("分类")])])}],d=n("5530"),f=(n("d3b7"),n("159b"),n("c740"),n("d81d"),n("36b4")),p=n("6290"),v=n("ca00"),h={components:{TagComponents:p["a"]},props:{detailKfid:{type:String,default:""}},data:function(){return{detailInfo:{},columns:[{title:"问题关键词",dataIndex:"keyWords",key:"keyWords",scopedSlots:{customRender:"keyWords"}},{title:"回复内容",dataIndex:"contents",key:"contents",scopedSlots:{customRender:"contents"}}],selectList:[],spareList:[],tableLoading:!1,staffAutoOnlineList:[],servicerProductTypeList:[],onlineTime:"",clientList:[],priorityList:[],pagination:{current:1,pageSize:10,total:0}}},created:function(){this.detailKfid&&this.getdetailInfo()},computed:{corpName:function(){var t,e,n,i;return(null===(t=this.$store)||void 0===t||null===(e=t.state)||void 0===e||null===(n=e.user)||void 0===n||null===(i=n.corp)||void 0===i?void 0:i.name)||"未获到公司名"},setCustomer:function(){var t,e,n,i=[];"allDay"===this.onlineTime?null===(e=this.selectList)||void 0===e||e.forEach((function(t){i.push(t)})):null===(n=this.staffAutoOnlineList)||void 0===n||n.forEach((function(t){t.staffIdList.forEach((function(t){i.push(t)}))}));return null===(t=this.spareList)||void 0===t||t.forEach((function(t){i.push(t)})),i.forEach((function(t){t.selectTagList=[]})),i=Object(v["k"])(i,"key"),this.servicerProductTypeList.length>0&&this.servicerProductTypeList.forEach((function(t){var e=i.findIndex((function(e){return t.servicerUserid===e.key}));i[e].tags=[],t.productTypeList.forEach((function(t,n){i[e].tags[n]={tagName:t}}))})),i}},methods:{getHMS:function(t){var e=parseInt(t/3600)<10?"0"+parseInt(t/3600):parseInt(t/3600),n=parseInt(t%3600/60)<10?"0"+parseInt(t%3600/60):parseInt(t%3600/60);return e+":"+n},getdetailInfo:function(){var t=this;Object(f["j"])({kfid:this.detailKfid}).then((function(e){if(e.data){var n;if(t.detailInfo=e.data,t.priorityList=e.data.priorityContentList.map((function(t){var e={key:t.contentId,contentId:t.contentId,keyWords:t.keyWords.map((function(t){return t})),contents:[{text:t.contentOne}]};return Object(d["a"])(Object(d["a"])({},e),{},{operation:e})})),t.onlineTime=0===t.detailInfo.receptorType?"allDay":"freedom",t.servicerProductTypeList=(null===(n=t.detailInfo)||void 0===n?void 0:n.receptorSetDto.servicerProductTypeList)||[],"allDay"===t.onlineTime){var i;t.selectList=null===(i=t.detailInfo)||void 0===i?void 0:i.receptorSetDto.allDayServicerList.map((function(t){t.title=t.name;var e=Object(d["a"])(Object(d["a"])({},t),{},{thumbAvatar:t.avatar,userid:t.servicerUserid});return t.key=String(t.servicerUserid),t.source=e,Object.assign({},t)}))}else{try{t.staffAutoOnlineList=t.detailInfo.receptorSetDto.workCycleServicerList.map((function(t){return{workcycleId:t.workcycleId,workCycle:t.weekDays.split(","),staffIdList:t.servicer.map((function(t){return{source:Object(d["a"])(Object(d["a"])({},t),{},{thumbAvatar:t.avatar,userid:t.servicerUserid}),key:String(t.servicerUserid),title:t.name}}))}}))}catch(a){}t.spareList=t.detailInfo.receptorSetDto.spareServicerList.map((function(t){return{source:Object(d["a"])(Object(d["a"])({},t),{},{thumbAvatar:t.avatar,userid:t.servicerUserid}),key:String(t.servicerUserid),title:t.name}}))}"2"==e.data.workType&&t.togetkeyword()}})).catch((function(e){t.$message.error(e)}))},togetkeyword:function(){var t=this;this.tableLoading=!0;var e={kfid:this.detailKfid,currentPage:this.pagination.current,pageSize:this.pagination.pageSize};Object(f["o"])(e).then((function(e){var n;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.list&&(t.pagination.total=e.data.total,t.clientList=e.data.list)})).finally((function(){t.tableLoading=!1}))},tabchange:function(t){var e=t.current;this.pagination.current=e,this.togetkeyword()},weekFilter:function(t){return"1"==t?"一":"2"==t?"二":"3"==t?"三":"4"==t?"四":"5"==t?"五":"6"==t?"六":"7"==t?"日":void 0}},watch:{detailKfid:{handler:function(t,e){this.getdetailInfo()}}}},m=h,g=(n("efa4"),n("2877")),y=Object(g["a"])(m,l,u,!1,null,"133685f0",null),b=y.exports,C=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"sence-header"},[e("b",{staticClass:"header-title"},[t._v("场景接入")]),e("a-button",{staticClass:"ant-btn",on:{click:t.seeLinkGenerated}},[t._v("查看已生成的链接")])],1),e("div",{staticClass:"wx-tab-container"},[e("div",{staticClass:"sence-links"},[e("div",{staticClass:"sence-link",on:{click:function(e){return t.toJumpUrl("0")}}},[e("img",{attrs:{src:"/imgs/wxCustomer/7.png",alt:""}}),e("span",[t._v("在视频号中接入")]),e("span",{staticClass:"icon-wrap"},[e("a-icon",{attrs:{type:"right"}})],1)]),e("div",{staticClass:"sence-link",on:{click:function(e){return t.toJumpUrl("1")}}},[e("img",{attrs:{src:"/imgs/wxCustomer/6.png",alt:""}}),e("span",[t._v("在小程序接入")]),e("span",{staticClass:"icon-wrap"},[e("a-icon",{attrs:{type:"right"}})],1)]),e("div",{staticClass:"sence-link",on:{click:function(e){return t.toJumpUrl("2")}}},[e("img",{attrs:{src:"/imgs/wxCustomer/5.png",alt:""}}),e("span",[t._v("在公众号菜单接入")]),e("span",{staticClass:"icon-wrap"},[e("a-icon",{attrs:{type:"right"}})],1)]),e("div",{staticClass:"sence-link",on:{click:function(e){return t.toJumpUrl("3")}}},[e("img",{attrs:{src:"/imgs/wxCustomer/4.png",alt:""}}),e("span",[t._v("在搜一搜品牌官方区接入")]),e("span",{staticClass:"icon-wrap"},[e("a-icon",{attrs:{type:"right"}})],1)]),e("div",{staticClass:"sence-link",on:{click:function(e){return t.toJumpUrl("4")}}},[e("img",{attrs:{src:"/imgs/wxCustomer/3.png",alt:""}}),e("span",[t._v("点击微信支付凭证接入")]),e("span",{staticClass:"icon-wrap"},[e("a-icon",{attrs:{type:"right"}})],1)]),e("div",{staticClass:"sence-link",on:{click:function(e){return t.toJumpUrl("5")}}},[e("img",{attrs:{src:"/imgs/wxCustomer/2.png",alt:""}}),e("span",[t._v("在APP中接入")]),e("span",{staticClass:"icon-wrap"},[e("a-icon",{attrs:{type:"right"}})],1)]),e("div",{staticClass:"sence-link",on:{click:function(e){return t.toJumpUrl("6")}}},[e("img",{attrs:{src:"/imgs/wxCustomer/1.png",alt:""}}),e("span",[t._v("在网页中接入")]),e("span",{staticClass:"icon-wrap"},[e("a-icon",{attrs:{type:"right"}})],1)])])])])},_=[],k={data:function(){return{}},methods:{toJumpUrl:function(t){this.$router.push({name:"sceneAccessDetail",query:{secenType:t}})},seeLinkGenerated:function(){this.$router.push({name:"linkGenerated"})}}},x=k,O=(n("c95d"),Object(g["a"])(x,C,_,!1,null,"12038d3d",null)),w=O.exports,L=n("321a"),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.customerServiceList=[],e.detailKfid="",e.visibleLink=!1,e.operation={link:"https://work.weixin.qq.com/kfid/kfc2f25bda85e21fe07?enc_scene=ENC9NoyHjBYHYDfTREyyxkyWt71KGWNjrLxNz6mz2TFu6aAPKQQF2aeKM7gnK2J9fHEMF",name:"weo"},e.visibleCodeTetail=!1,e}return Object(s["d"])(e,t),Object.defineProperty(e.prototype,"corpName",{get:function(){var t,e,n,i;return(null===(i=null===(n=null===(e=null===(t=this.$store)||void 0===t?void 0:t.state)||void 0===e?void 0:e.user)||void 0===n?void 0:n.corp)||void 0===i?void 0:i.name)||"未获到公司名"},enumerable:!1,configurable:!0}),e.prototype.created=function(){this.init()},e.prototype.mounted=function(){var t=JSON.parse(sessionStorage.getItem("customerOperation"));t&&(this.operation=t,this.visibleLink=!0)},e.prototype.visibleLinkcancel=function(){this.visibleLink=!1,sessionStorage.removeItem("customerOperation")},e.prototype.init=function(){var t=this;Object(f["i"])().then((function(e){t.customerServiceList=e.data.list})).catch((function(e){t.$message.error(e||e.message)}))},e.prototype.newlybuildBtn=function(){this.customerServiceList.length>=10?this.$message.warning("最多可创建10个账号"):this.$router.push({name:"accountConfiguration",query:{state:"add"}})},e.prototype.editInfo=function(t){this.$router.push({name:"accountConfiguration",query:{state:"edit",kfid:t}})},e.prototype.toDetail=function(t){this.detailKfid=t,this.visibleCodeTetail=!0},e.prototype.toDelete=function(t){var e=this;this.$confirm({title:"提示",icon:"",content:"删除后用户将无法发起咨询，如果该账号咨询入口已对外配置，建议先下掉咨询入口再删除账号哦～",onOk:function(){e.delSure(t)}})},e.prototype.delSure=function(t){var e=this;e.$confirm({title:"提示",icon:"",content:"删除后不可恢复，所有客户咨询入口将失效，确定删除吗？",onOk:function(){Object(f["f"])({kfid:t}).then((function(t){e.$message.success("删除成功"),e.init()})).catch((function(t){e.$message.error(t||t.message)}))}})},e=Object(s["c"])([Object(r["a"])({components:{ListDetail:b,LinkPopup:L["a"],SceneAccess:w}})],e),e}(r["c"]),T=S,I=T,D=(n("bb18"),Object(g["a"])(I,o,c,!1,null,"0283d67e",null)),P=D.exports,N=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("Gather",{attrs:{timerNum:t.timerNum}})],1)},j=[],E=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-wrap"},[e("footer",{staticClass:"foot"},[e("a-space",[t._v(" 客服账号: "),e("Account",{attrs:{timerNum:t.timerNum},on:{changeCustomer:t.changeCustomer}})],1),e("div",{staticClass:"page-bg"},[e("div",{staticClass:"data-dashboard"},[e("h2",[t._v("数据总览")]),e("span",[t._v(" 统计说明 "),e("a-tooltip",{attrs:{placement:"bottom"}},[e("template",{slot:"title"},[e("div",[e("span",{staticClass:"wt"},[t._v("访问客户数：")]),t._v("进入页面咨询的客户数，同一个客户多次进入页面咨询将重复计数")]),e("div",[e("span",{staticClass:"wt"},[t._v("接待会话数：")]),t._v("客户发起了咨询消息且员工回复的会话数")]),e("div",[e("span",{staticClass:"wt"},[t._v("平均首次响应时长：")]),t._v("客户发送的「首条消息」与接待员工首条「回复消息」的平均时间间隔")])]),e("a-icon",{staticStyle:{"margin-left":"4px"},attrs:{type:"question-circle"}})],2)],1)]),e("div",{staticClass:"data-wrap"},[e("div",{staticClass:"data"},[e("div",{staticClass:"inner inner4 inner-line"},[e("span",{staticClass:"num"},[t._v(t._s(t.todayList.visitCount||0))]),e("span",[t._v("今日访问数")])]),e("div",{staticClass:"inner inner4 inner-line"},[e("span",{staticClass:"num"},[t._v(t._s(t.todayList.receptCount||0))]),e("span",[t._v("今日会话量")])]),e("div",{staticClass:"inner inner4 inner-line"},[e("span",{staticClass:"num"},[t._v(t._s(t.todayList.queueCount||0))]),e("span",[t._v("正在排队人数")])]),e("div",{staticClass:"inner inner4 inner-line"},[e("span",{staticClass:"num"},[t._v(t._s(t.todayList.consultCount||0))]),e("span",[t._v("正在咨询人数")])]),e("div",{staticClass:"inner inner4 inner-line"},[e("span",{staticClass:"num"},[t._v(t._s(t.todayList.responseTimeAvg||0))]),e("span",[t._v("今日平均响应时长(秒)")])]),e("div",{staticClass:"inner inner4"},[e("span",{staticClass:"num"},[t._v(t._s(t.todayList.priorityRankCount||0))]),e("span",[t._v("今日触发优先排队次数")])])])]),e("div",{staticClass:"data-wrap"},[e("div",{staticClass:"data"},[e("div",{staticClass:"inner inner3 inner-line"},[e("span",{staticClass:"num"},[t._v(t._s(t.todayList.onlineCount||0))]),e("span",[t._v("在线人数")])]),e("div",{staticClass:"inner inner3 inner-line"},[e("span",{staticClass:"num"},[t._v(t._s(t.totalList.visitCount||0))]),e("span",[t._v("总访问数")])]),e("div",{staticClass:"inner inner3 inner-line"},[e("span",{staticClass:"num"},[t._v(t._s(t.totalList.receptCount||0))]),e("span",[t._v("总接待总数")])]),e("div",{staticClass:"inner inner3 inner-line"},[e("span",{staticClass:"num"},[t._v(t._s(t.totalList.responseTimeAvg||0))]),e("span",[t._v("总计平均响应时长(秒)")])]),e("div",{staticClass:"inner inner3"},[e("span",{staticClass:"num"},[t._v(t._s(t.totalList.priorityRankCount||0))]),e("span",[t._v("总计触发优先排队次数")])])])])])],1),e("section",[e("ChatData",{staticClass:"chat",attrs:{kfid:t.kfid,chatId:"gather",codeItem:t.codeItem,codeList:t.codeList}})],1)])},A=[],R=(n("a9e3"),n("6bd9")),M=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tendency-chart background-white"},[e("h4",[t._v("图表数据")]),e("a-radio-group",{staticClass:"changeRadio",attrs:{size:"default","button-style":"solid"},on:{change:t.changeGroup},model:{value:t.tabPosition,callback:function(e){t.tabPosition=e},expression:"tabPosition"}},t._l(t.customerStatus,(function(n){return e("a-radio-button",{key:n.value,attrs:{value:n.value}},[t._v(" "+t._s(n.text)+" ")])})),1),e("div",{staticClass:"select-date"},[e("div",[e("a-select",{staticStyle:{width:"100px","margin-right":"10px"},on:{change:t.changePeriodTime},model:{value:t.timeSpace,callback:function(e){t.timeSpace=e},expression:"timeSpace"}},t._l(t.periodTime,(function(n){return e("a-select-option",{key:n.id,attrs:{value:n.id}},[t._v(" "+t._s(n.text)+" ")])})),1),t._v(" 自定义: "),e("a-range-picker",{staticStyle:{width:"300px","margin-right":"10px"},attrs:{disabledDate:t.disabledDate},on:{change:t.changeDate},model:{value:t.startOrEndTime,callback:function(e){t.startOrEndTime=e},expression:"startOrEndTime"}},[e("a-icon",{attrs:{slot:"suffixIcon",type:"calendar"},slot:"suffixIcon"})],1),"todayCount"==t.tabPosition?e("span",[t._v(" 请选择员工: "),e("SelectMultiple",{staticStyle:{display:"inline-block"},attrs:{reactflag:t.reactflag,userName:t.staffId,kfid:t.kfid},on:{selectCustom:t.selectCustom}})],1):e("span",[t._v(" 请选择渠道: "),e("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择渠道",getPopupContainer:function(e){return e.parentNode||t.document.body}},on:{change:t.handleChange}},t._l(t.clientList,(function(n,i){return e("a-select-option",{key:i,attrs:{value:n.channelId}},[t._v(" "+t._s(n.channelName)+" ")])})),1)],1)],1),e("a-button",{on:{click:t.result}},[t._v("重置")])],1),e("div",{staticClass:"echarts",attrs:{id:"myChartbox"}}),e("div",{staticClass:"space-gray"}),e("TableData",{attrs:{dataList:t.dataList,tabPosition:t.tabPosition,kfid:t.kfid,clientList:t.clientList,staffData:t.staffData}})],1)},Y=[],$=n("ade3"),U=(n("7db0"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"tendency-chart"},[e("h4",[t._v("表格数据")]),e("div",{staticClass:"select-date"},[e("div",[e("a-select",{staticStyle:{width:"100px","margin-right":"10px"},on:{change:t.changePeriodTime},model:{value:t.timeSpace,callback:function(e){t.timeSpace=e},expression:"timeSpace"}},t._l(t.periodTime,(function(n){return e("a-select-option",{key:n.id,attrs:{value:n.id}},[t._v(" "+t._s(n.text)+" ")])})),1),t._v(" 自定义: "),e("a-range-picker",{staticStyle:{width:"300px","margin-right":"10px"},attrs:{disabledDate:t.disabledDate},on:{change:t.changeDate},model:{value:t.startOrEndTime,callback:function(e){t.startOrEndTime=e},expression:"startOrEndTime"}},[e("a-icon",{attrs:{slot:"suffixIcon",type:"calendar"},slot:"suffixIcon"})],1),"todayCount"==t.tabPosition?e("span",[t._v(" 请选择员工: "),e("SelectMultiple",{staticStyle:{display:"inline-block"},attrs:{userName:t.staffId,kfid:t.kfid},on:{selectCustom:t.selectCustom}})],1):e("span",[t._v(" 请选择渠道: "),e("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择渠道",allowClear:"",getPopupContainer:function(e){return e.parentNode||t.document.body}},on:{change:t.handleChange}},t._l(t.clientList,(function(n,i){return e("a-select-option",{key:i,attrs:{value:n.channelId}},[t._v(" "+t._s(n.channelName)+" ")])})),1)],1)],1),e("div",["todayCount"===this.tabPosition?e("a-button",{staticClass:"aks-border-but",staticStyle:{"margin-right":"10px"},attrs:{loading:t.attendloading},on:{click:function(e){return t.attendenceExportExport()}}},[t._v("考勤导出")]):t._e(),"todayCount"===this.tabPosition?e("a-button",{staticClass:"aks-border-but",attrs:{loading:t.btnloading},on:{click:function(e){return t.dailyStatisticsExport()}}},[t._v("成员导出")]):t._e()],1)]),e("a-table",{attrs:{columns:t.getColumns,"data-source":t.tabList},scopedSlots:t._u([{key:"info",fn:function(n){return e("div",{staticClass:"name-list"},[e("a-avatar",{staticClass:"portrait",attrs:{shape:"square",size:"default",src:n.img}}),e("div",[e("p",[t._v(t._s(n.name))])])],1)}},{key:"operation",fn:function(n){return e("div",{},[e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.getOnlineDetail(n)}}},[t._v("上下线明细")])],1)}}])}),e("a-modal",{attrs:{footer:null,width:"600px",destroyOnClose:"",centered:""},model:{value:t.visibleCodeTetail,callback:function(e){t.visibleCodeTetail=e},expression:"visibleCodeTetail"}},[e("h4",{staticClass:"title"},[t._v("上下线明细")]),e("div",{staticClass:"onlineBox"},[e("div",{staticClass:"box"},[e("a-table",{staticStyle:{"margin-top":"10px"},attrs:{columns:t.onlineColumns,"data-source":t.getOnLineList,pagination:t.paginationOnline},on:{change:t.onlineChange}})],1)])])],1)}),B=[],F=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-wrap"},[e("div",{staticClass:"button-name",on:{click:function(e){return e.stopPropagation(),t.selectFocusIsOpen.apply(null,arguments)},mouseenter:t.enter,mouseleave:t.leave}},[t.employeeName?e("span",{staticClass:"hidden"},[e("a-avatar",{attrs:{size:28,shape:"square",src:t.thumbAvatar}}),t._v(" "+t._s(t.employeeName)+" ")],1):e("span",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",color:"rgba(0, 0, 0, 0.25)"}},[t._v(" "+t._s(t.placeholderStr)+" ")]),t.closeCircle?e("span",{staticStyle:{color:"rgba(0, 0, 0, 0.25)"}},[t.employeeName&&1!=t.styleButton?e("a-icon",{attrs:{type:"close-circle",theme:"filled"},on:{click:function(e){return e.stopPropagation(),t.iconClear.apply(null,arguments)}}}):e("a-icon",{attrs:{type:"down"}})],1):t._e()]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"},{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],staticClass:"selectBox_list"},[e("div",{staticClass:"group-owner"},[e("header",{staticClass:"header"},[t._v("全部员工 ("+t._s(t.total)+")")]),e("div",{staticClass:"search-name"},[e("a-input-search",{attrs:{placeholder:"请输入员工后回车"},on:{search:t.onSearchName},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}})],1),e("ul",{staticClass:"list-wrap"},[e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.getDictionaryByCode,expression:"getDictionaryByCode"}],staticClass:"demo-infinite-container",attrs:{"infinite-scroll-disabled":t.busy,"infinite-scroll-distance":10}},t._l(t.groupOwners,(function(n){return e("li",{key:n.staffId,staticClass:"title-wrap",on:{click:function(e){return t.selectGroupOwner(n)}}},[e("a-space",{attrs:{size:12}},[e("a-avatar",{attrs:{size:30,src:n.avatar,shape:"square"}}),e("span",[t._v(t._s(n.name))])],1)],1)})),0)])])])])},H=[],z=n("2909"),q=(n("4de4"),n("25f0"),n("caad"),n("2532"),n("99af"),n("487a")),K=n.n(q),V=(n("1c9c"),{bind:function(t,e){function n(n){if(t.contains(n.target))return!1;e.expression&&e.value(n)}t.__vueClickOutside__=n,document.addEventListener("click",n)},update:function(){},unbind:function(t){document.removeEventListener("click",t.__vueClickOutside__),delete t.__vueClickOutside__}}),W={name:"SearchForm",directives:{clickoutside:V,infiniteScroll:K.a},props:{kfid:{type:String,default:""},userName:{type:String,default:""},userThumbAvatar:{type:String,default:""},reactflag:{type:Boolean,default:!1},placeholderStr:{type:String,default:"请选择员工"},closeCircle:{type:Boolean,default:!0}},data:function(){return{thumbAvatar:"",busy:!0,pagination:{current:1,pageSize:10,total:0},total:0,totalNum:0,selectRoleId:"3",employeeName:"",groupOwners:[],page:1,limit:10,value:[],searchName:"",styleButton:1,owners:[],isOpen:!1,loading:!1,buttonLoding:!1,ownersID:{data:[]}}},created:function(){},mounted:function(){},methods:{enter:function(){this.styleButton=2},leave:function(){this.styleButton=1},selectGroupOwner:function(t){this.employeeName=t.name,this.thumbAvatar=t.avatar,this.isOpen=!1,this.$emit("selectCustom",t)},iconClear:function(){this.employeeName="",this.isOpen=!1;var t={empty:"1"};this.groupOwners=[],this.page=1,this.searchName="",this.getDictionaryByCode(),this.$emit("selectCustom",t)},handleClose:function(){this.isOpen=!1},selectFocusIsOpen:function(){this.isOpen=!this.isOpen},ok:function(){var t=this.groupOwners.filter((function(t){if(t.defaultChecked)return t.userid})).map((function(t){return t.userid})),e=this.groupOwners.filter((function(t){if(t.defaultChecked)return t})).map((function(t){return{name:t.name,avatar:t.thumbAvatar}}));this.ownersID.data=e;var n=t.toString();this.isOpen=!this.isOpen,this.$store.commit("SET_STAFFIDS",n)},cancel:function(){var t=this;this.isOpen=!this.isOpen,this.groupOwners.forEach((function(e){var n=t.responseData.useridList.includes(e.userid);e.defaultChecked=!!n}));var e=this.groupOwners.filter((function(t){if(t.defaultChecked)return t})).map((function(t){return{name:t.name,avatar:t.thumbAvatar}}));this.ownersID.data=e},handleInfiniteOnLoad:function(){this.pagination.current++,this.loading&&this.getDictionaryByCode()},getDictionaryByCode:function(){var t=this;if(this.kfid){var e={kfid:this.kfid,currentPage:this.page,pageSize:this.limit,name:this.searchName||""};this.buttonLoding||(this.buttonLoding=!0,this.loading=!0,"0"!=this.total&&this.groupOwners.length>=this.total?this.busy=!0:Object(f["r"])(e).then((function(e){var n=e.data.list;t.total=e.data.total,t.page>1?t.groupOwners=[].concat(Object(z["a"])(t.groupOwners),Object(z["a"])(n)):t.groupOwners=Object(z["a"])(n),t.groupOwners.length>=t.total?t.busy=!0:(t.page=t.page+1,t.loading=!1)})).catch((function(e){t.$message.error(e)})).finally((function(){t.buttonLoding=!1})))}},onSearchName:function(){this.groupOwners=[],this.page=1,this.getDictionaryByCode()}},watch:{reactflag:{handler:function(t,e){!0===t&&(this.employeeName="",this.isOpen=!1,this.groupOwners=[],this.page=1,this.searchName="",this.getDictionaryByCode())}},kfid:function(){this.groupOwners=[],this.page=1,this.getDictionaryByCode()},userName:function(){},userThumbAvatar:function(){this.thumbAvatar=this.userThumbAvatar}}},G=W,Q=(n("7368"),Object(g["a"])(G,F,H,!1,null,"3f93ab86",null)),J=Q.exports,X={name:"TableData",components:{SelectMultiple:J},props:{kfid:{type:String,default:""},dataList:{type:Array,default:function(){return[]}},clientList:{type:Array,default:function(){return[]}},staffData:{type:Array,default:function(){return[]}},tabPosition:{type:String,default:""}},computed:{getColumns:function(){var t=[];return t="todayCount"===this.tabPosition?this.columnsDate:this.columnsStaff,t}},data:function(){return{getOnLineList:[],staffWxid:"",attendloading:!1,btnloading:!1,visibleCodeTetail:!1,tabList:[],startOrEndTime:void 0,day:"",staffId:"",timeSpace:7,channelId:"",onlineColumns:[{title:"状态",dataIndex:"statusTxt",key:"statusTxt"},{title:"时间",dataIndex:"createTime",key:"createTime"}],paginationOnline:{current:1,pageSize:10,total:0},columnsStaff:[{title:"渠道",dataIndex:"channelName",key:"channelName"},{title:"访问数",dataIndex:"accessNumber",key:"accessNumber"},{title:"接待数",dataIndex:"receptionNumber",key:"receptionNumber"},{title:"有效接待",dataIndex:"validReceptionNumber",key:"validReceptionNumber"},{title:"工作时间咨询数量",dataIndex:"workAccessNumber",key:"workAccessNumber"},{title:"平均响应时长",dataIndex:"avgResponseTime",key:"avgResponseTime"}],columnsDate:[{title:"员工",dataIndex:"info",scopedSlots:{customRender:"info"},key:"info"},{title:"接待状态",dataIndex:"statusTxt",key:"statusTxt",defaultSortOrder:"descend"},{title:"接待数量",dataIndex:"receptionNumber",key:"receptionNumber",defaultSortOrder:"descend",sorter:function(t,e){return t.receptionNumber-e.receptionNumber}},{title:"有效接待数量",dataIndex:"validReceptionNumber",key:"validReceptionNumber",defaultSortOrder:"descend",sorter:function(t,e){return t.validReceptionNumber-e.validReceptionNumber}},{title:"无效接待",dataIndex:"invalidReceptionNumber",key:"invalidReceptionNumber",defaultSortOrder:"descend",sorter:function(t,e){return t.invalidReceptionNumber-e.invalidReceptionNumber}},{title:"正在接入人数",dataIndex:"consultCount",key:"consultCount",defaultSortOrder:"descend",sorter:function(t,e){return t.consultCount-e.consultCount}},{title:"在线时长",dataIndex:"onLineTimeStr",key:"onLineTimeStr",defaultSortOrder:"descend",sorter:function(t,e){return t.onlineTime-e.onlineTime}},{title:"平均响应时长",dataIndex:"avgResponseTime",key:"avgResponseTime"},{title:"操作",dataIndex:"operation",align:"right",key:"operation",scopedSlots:{customRender:"operation"}}],pagination:{current:1,pageSize:10,total:0},paginationDetail:{current:1,pageSize:10,total:0},columns:[{title:"全部客户",dataIndex:"info",scopedSlots:{customRender:"info"},key:"info"},{title:"所属客服",dataIndex:"staffName",key:"staffName",scopedSlots:{customRender:"staffName"}},{title:"标签",dataIndex:"tagsList",key:"tagsList",scopedSlots:{customRender:"tagsList"}},{title:"客户状态",dataIndex:"status",key:"status",customRender:function(t){return t||"-"}},{title:"添加时间",dataIndex:"addTime",key:"addTime",customRender:function(t){return t||"-"}},{title:"上次对话时间",dataIndex:"lastTalkTime",key:"lastTalkTime",customRender:function(t){return t||"-"}},{title:"添加渠道",dataIndex:"addWayName",key:"addWayName",customRender:function(t){return t||"-"}},{title:"操作",dataIndex:"operation",align:"right",key:"operation",scopedSlots:{customRender:"operation"}}],periodTime:[{text:"今日",id:0},{text:"近三天",id:3},{text:"近一周",id:7},{text:"近一个月",id:30}]}},mounted:function(){this.changePeriodTime(this.timeSpace)},watch:{kfid:function(t){"todayCount"==this.tabPosition?this.getList():this.getChannel()},tabPosition:function(t){"todayCount"==t?this.getList():"todayAdd"==t&&this.getChannel()}},methods:{onlineChange:function(t){var e=t.current;this.paginationOnline.current=e,this.getOnlineList()},getOnlineDetail:function(t){this.staffWxid!==t.receptorId&&(this.paginationOnline.current=1),this.staffWxid=t.receptorId,this.getOnlineList(),this.visibleCodeTetail=!0},getOnlineList:function(){var t=this,e={staffWxid:this.staffWxid,currentPage:this.paginationOnline.current,pageSize:this.paginationOnline.pageSize};Object(f["m"])(e).then((function(e){var n,i;t.paginationOnline.total=e.data.total,t.getOnLineList=(null===(n=e.data)||void 0===n||null===(i=n.list)||void 0===i?void 0:i.map((function(t,e){return t.operation=t,"0"==t.status?t.statusTxt="在线":t.statusTxt="下线",t.key=e,t})))||[]})).catch((function(e){t.$message.error(e)}))},dailyStatisticsExport:function(){var t,e,n,i,a=this;if(this.tabList.length<=0)this.$message.warning("暂无数据");else{this.btnloading=!0;var s={kfid:this.kfid,startDate:(null===(t=this.startOrEndTime)||void 0===t||null===(e=t[0])||void 0===e?void 0:e.format("YYYY-MM-DD"))+" 00:00:00",endDate:(null===(n=this.startOrEndTime)||void 0===n||null===(i=n[1])||void 0===i?void 0:i.format("YYYY-MM-DD"))+" 23:59:59",staffWxid:this.staffId};Object(f["p"])(s).then((function(t){Object(v["e"])(t,".xlsx","成员详情列表"),a.btnloading=!1})).catch((function(t){a.btnloading=!1,a.$message.error(t)}))}},attendenceExportExport:function(){var t,e,n,i,a=this;if(this.tabList.length<=0)this.$message.warning("暂无数据");else{this.attendloading=!0;var s={kfid:this.kfid,startDate:(null===(t=this.startOrEndTime)||void 0===t||null===(e=t[0])||void 0===e?void 0:e.format("YYYY-MM-DD"))+" 00:00:00",endDate:(null===(n=this.startOrEndTime)||void 0===n||null===(i=n[1])||void 0===i?void 0:i.format("YYYY-MM-DD"))+" 23:59:59",staffWxid:this.staffId};Object(f["b"])(s).then((function(t){Object(v["e"])(t,".xlsx","考勤列表"),a.attendloading=!1})).catch((function(t){a.attendloading=!1,a.$message.error(t)}))}},jump:function(t){this.$router.push({name:"MemberDetail",query:{id:t.receptorId}})},getList:function(){var t,e,n,i,a=this;if(this.kfid){var s={kfid:this.kfid,startDate:(null===(t=this.startOrEndTime)||void 0===t||null===(e=t[0])||void 0===e?void 0:e.format("YYYY-MM-DD"))+" 00:00:00",endDate:(null===(n=this.startOrEndTime)||void 0===n||null===(i=n[1])||void 0===i?void 0:i.format("YYYY-MM-DD"))+" 23:59:59",staffWxid:this.staffId};Object(f["l"])(s).then((function(t){null!==t&&void 0!==t&&t.data&&a.disposeClientList(t.data)}))}},getChannel:function(){var t,e,n,i,a=this;if(this.kfid){var s={kfid:this.kfid,startDate:(null===(t=this.startOrEndTime)||void 0===t||null===(e=t[0])||void 0===e?void 0:e.format("YYYY-MM-DD"))+" 00:00:00",endDate:(null===(n=this.startOrEndTime)||void 0===n||null===(i=n[1])||void 0===i?void 0:i.format("YYYY-MM-DD"))+" 23:59:59",channelId:this.channelId};Object(f["k"])(s).then((function(t){null!==t&&void 0!==t&&t.data&&(a.tabList=t.data.map((function(t,e){return t.key=e,Object.assign({operation:t},t)})))}))}},disposeClientList:function(t){this.tabList=t.map((function(t,e){return t.info={name:t.name,img:t.img||""},"0"==t.status?t.statusTxt="在线":t.statusTxt="下线",t.key=e,Object.assign({operation:t},t)}))},selectCustom:function(t){this.staffId=(null===t||void 0===t?void 0:t.servicerUserid)||"","todayCount"==this.tabPosition?this.getList():this.getChannel()},handleChange:function(t){this.channelId=t,"todayCount"==this.tabPosition?this.getList():this.getChannel()},changePeriodTime:function(t){this.startOrEndTime=0===t?[this.$moment().subtract(t,"days"),this.$moment().subtract(t,"days")]:[this.$moment().subtract(t-1,"days"),this.$moment()],"todayCount"==this.tabPosition?this.getList():this.getChannel()},disabledDate:function(t){return t&&t>this.$moment().subtract("day")},changeDate:function(t){t.length>0&&("todayCount"==this.tabPosition?this.getList():this.getChannel())},change:function(t){var e=t.current;this.paginationDetail.current=e,"todayCount"==this.tabPosition?this.getList():this.getChannel()}}},Z=X,tt=(n("1417"),Object(g["a"])(Z,U,B,!1,null,"1d5fc287",null)),et=tt.exports,nt=n("313e"),it=n("4cb5"),at=n("9394"),st=n("2da7"),rt=n("4b2a"),ot=n("f95e"),ct=n("032e");nt["b"]([at["a"],st["a"],rt["a"],it["a"],ot["a"]]);var lt={name:"ChatData",components:{SelectMultiple:J,TableData:et},props:{kfid:{type:String,default:""},chatId:{type:String,default:""},codeItem:{type:Object,default:function(){return{}}},codeList:{type:Array,default:function(){return[]}}},computed:{codeId:function(){return this.$route.query.id||this.codeItem.id}},data:function(){return{tabPosition:"todayCount",searchName:"",timeSpace:7,reactflag:!1,startOrEndTime:void 0,dataList:[],staffData:[],clientList:[],channelId:void 0,staffId:"",customerStatus:[{value:"todayCount",text:"员工数据"},{value:"todayAdd",text:"渠道数据"}],periodTime:[{text:"今日",id:0},{text:"近三天",id:3},{text:"近一周",id:7},{text:"近一个月",id:30}],myChart:"",dateOrStaff:"date"}},mounted:function(){this.changePeriodTime(this.timeSpace),this.getList(),this.myChart=nt["a"](document.getElementById("myChartbox"))},methods:{handleChange:function(t){this.channelId=t,this.getData()},getList:function(){var t=this;if(this.kfid){var e={kfId:this.kfid,currentPage:1,pageSize:9999};Object(f["n"])(e).then((function(e){var n;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.list&&(t.clientList=e.data.list)}))}},exportForStaff:function(){return ct["i"]},exportForDate:function(){return ct["g"]},selectCustom:function(t){this.staffId=(null===t||void 0===t?void 0:t.servicerUserid)||"",this.reactflag=!1,this.getData()},result:function(){this.timeSpace=7,this.startOrEndTime=void 0,this.searchName="",this.staffId="",this.tabPosition="todayCount",this.reactflag=!0,this.channelId=void 0,this.changePeriodTime(this.timeSpace)},changeGroup:function(t){this.timeSpace=7,this.startOrEndTime=void 0,this.startOrEndTime=[this.$moment().subtract(6,"days"),this.$moment()],this.tabPosition=t.target.value,this.getData()},disabledDate:function(t){return t&&t>this.$moment().subtract("day")},changeDate:function(t){t.length>0&&this.getData()},changePeriodTime:function(t){this.startOrEndTime=0===t?[this.$moment().subtract(t,"days"),this.$moment().subtract(t,"days")]:[this.$moment().subtract(t-1,"days"),this.$moment()],this.getData()},getData:function(){var t,e,n,i,a=this;if(this.loading=!0,this.kfid){var s={kfid:this.kfid,startDate:(null===(t=this.startOrEndTime)||void 0===t||null===(e=t[0])||void 0===e?void 0:e.format("YYYY-MM-DD"))+" 00:00:00",endDate:(null===(n=this.startOrEndTime)||void 0===n||null===(i=n[1])||void 0===i?void 0:i.format("YYYY-MM-DD"))+" 23:59:59"};"todayCount"==this.tabPosition?(s.staffWxid=this.staffId,Object(f["h"])(s).then((function(t){var e;a.dataList=(null===(e=t.data)||void 0===e?void 0:e.map((function(t,e){return t.operation=t,t.key=e,t})))||[],a.renderContainer()})).catch((function(t){a.$message.error(t)})).finally((function(){a.loading=!1}))):(s.channelId=this.channelId,Object(f["g"])(s).then((function(t){var e;a.staffData=(null===(e=t.data)||void 0===e?void 0:e.map((function(t,e){return t.operation=t,t.key=e,t})))||[],a.renderContainer()})).catch((function(t){a.$message.error(t)})).finally((function(){a.loading=!1})))}},renderContainer:function(){var t,e,n=this,i=(this.customerStatus.find((function(t){return t.value===n.tabPosition})).text,[]);(i="todayCount"==this.tabPosition?this.dataList:this.staffData,this.myChart.clear(),"todayCount"==this.tabPosition)?this.myChart.setOption((t={tooltip:{},xAxis:{data:i.map((function(t){return t.date}))}},Object($["a"])(t,"tooltip",{trigger:"axis"}),Object($["a"])(t,"yAxis",{name:"接待数量",minInterval:1}),Object($["a"])(t,"grid",{left:"60px",right:"5%"}),Object($["a"])(t,"series",[{name:"接待数量",type:"line",data:i.map((function(t){return t.receptionNumber}))},{name:"平均响应时长",type:"line",data:i.map((function(t){return t.avgResponseTime}))},{name:"有效接待数量",type:"line",data:i.map((function(t){return t.validReceptionNumber}))}]),t)):this.myChart.setOption((e={tooltip:{},xAxis:{data:i.map((function(t){return t.date}))}},Object($["a"])(e,"tooltip",{trigger:"axis"}),Object($["a"])(e,"yAxis",{name:"接待数量",minInterval:1}),Object($["a"])(e,"grid",{left:"60px",right:"5%"}),Object($["a"])(e,"series",[{name:"访问数量",type:"line",data:i.map((function(t){return t.accessNumber}))},{name:"接待数量",type:"line",data:i.map((function(t){return t.receptionNumber}))},{name:"平均响应时长",type:"line",data:i.map((function(t){return t.avgResponseTime}))},{name:"有效接待数量",type:"line",data:i.map((function(t){return t.validReceptionNumber}))},{name:"工作时间咨询数量",type:"line",data:i.map((function(t){return t.workAccessNumber}))}]),e))}},watch:{kfid:function(t){this.getList(),this.getData()}}},ut=lt,dt=(n("29aa"),Object(g["a"])(ut,M,Y,!1,null,"53d8e710",null)),ft=dt.exports,pt=n("c7b7"),vt={name:"Gather",components:{usePerson:R["a"],ChatData:ft,Account:pt["a"]},props:{timerNum:{type:Number,default:0},codeItem:{type:Object,default:function(){return{}}},detailInfo:{type:Object,default:function(){return{}}}},watch:{},created:function(){},data:function(){return{kfid:"",today:"",todayList:{},totalList:{},codeList:[]}},mounted:function(){this.today=this.$moment().format("YYYY-MM-DD")},methods:{getOver:function(t){var e=this,n={kfid:this.kfid};"today"==t&&(n.startDate=this.today+" 00:00:00",n.endDate=this.today+" 23:59:59"),Object(f["q"])(n).then((function(n){"today"==t?e.todayList=n.data:e.totalList=n.data})).catch((function(t){e.$message.error(t)}))},changeCustomer:function(t){this.kfid=t,this.getOver("today"),this.getOver("total")},usePersionInfo:function(t,e){t.length<1?this.$message.warning("必须选择一个渠道码"):(this.codeList=t,this.$emit("backdetail",t),e())}}},ht=vt,mt=(n("6913"),Object(g["a"])(ht,E,A,!1,null,"1c7497ab",null)),gt=mt.exports,yt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultVal="1",e}return Object(s["d"])(e,t),Object(s["c"])([Object(r["b"])({default:0})],e.prototype,"timerNum",void 0),e=Object(s["c"])([Object(r["a"])({components:{Gather:gt}})],e),e}(r["c"]),bt=yt,Ct=bt,_t=Object(g["a"])(Ct,N,j,!1,null,"6c294d33",null),kt=_t.exports,xt=function(){var t=this,e=t._self._c;return e("div",[e("header",{staticClass:"header"},[e("div",{staticClass:"flex-box"},[e("span",{staticClass:"label"},[t._v("客服账号:")]),e("Account",{attrs:{timerNum:t.timerNum},on:{changeCustomer:t.changeCustomer}})],1),e("div",{staticClass:"flex-box"},[e("span",{staticClass:"label"},[t._v("排队时间:")]),e("a-range-picker",{attrs:{disabledDate:t.disabledDate},on:{change:t.changeContent},model:{value:t.startOrEndTime,callback:function(e){t.startOrEndTime=e},expression:"startOrEndTime"}})],1),e("div",{staticClass:"flex-box"},[e("span",{staticClass:"label"},[t._v("是否优先接待:")]),e("a-select",{staticClass:"select",attrs:{placeholder:"请选择",allowClear:""},on:{change:t.changeContent},model:{value:t.isPriority,callback:function(e){t.isPriority=e},expression:"isPriority"}},[e("a-select-option",{key:"1",attrs:{value:1}},[t._v("是")]),e("a-select-option",{key:"0",attrs:{value:0}},[t._v("否")])],1)],1),e("div",{staticClass:"flex-box"},[e("span",{staticClass:"label"},[t._v("接入状态:")]),e("a-select",{staticClass:"select",attrs:{placeholder:"请选择",allowClear:""},on:{change:t.changeContent},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.statusTextList,(function(n){return e("a-select-option",{key:n.vale,attrs:{value:n.value}},[t._v(" "+t._s(n.text)+" ")])})),1)],1),e("div",{staticClass:"flex-box"},[e("span",{staticClass:"label"},[t._v("是否展示历史数据:")]),e("a-select",{staticClass:"select",attrs:{placeholder:"请选择"},on:{change:t.changeContent},model:{value:t.isHistory,callback:function(e){t.isHistory=e},expression:"isHistory"}},[e("a-select-option",{key:"1",attrs:{value:1}},[t._v("是")]),e("a-select-option",{key:"0",attrs:{value:0}},[t._v("否")])],1)],1)]),e("a-table",{staticClass:"background-white",attrs:{pagination:t.pagination,columns:t.columns,"data-source":t.channelList,loading:t.loading},on:{change:t.change}})],1)},Ot=[],wt=n("b775"),Lt={getAvailableReceptorList:"/custservice/customerserviceservicer/getAvailableReceptorList",queuePage:"/custservice/queue/page",statePage:"/custservice/state/page",visitPage:"/custservice/visit/page"};function St(t){return Object(wt["b"])({url:Lt.getAvailableReceptorList,method:"post",data:t})}function Tt(t){return Object(wt["b"])({url:Lt.queuePage,method:"post",data:t})}function It(t){return Object(wt["b"])({url:Lt.statePage,method:"post",data:t})}function Dt(t){return Object(wt["b"])({url:Lt.visitPage,method:"post",data:t})}var Pt=n("c1df"),Nt=n.n(Pt),jt={name:"QueueList",components:{Account:pt["a"]},data:function(){return{channelList:[],timerNum:0,visibileForm:!1,serviceList:[],openNum:2,selectRoleIdList:[""],timeSpace:7,startOrEndTime:[Nt()().subtract(6,"day"),Nt()()],visibleUsePerson:!1,editData:{},keyword:"",openKfid:"",columns:[{title:"客服账号",key:"kfAccount",dataIndex:"kfAccount",scopedSlots:{customRender:"kfAccount"}},{title:"咨询客户",key:"externalUserName",dataIndex:"externalUserName",scopedSlots:{customRender:"externalUserName"}},{title:"进入排队时间",key:"createTime",dataIndex:"createTime",scopedSlots:{customRender:"createTime"}},{title:"是否优先接待",key:"isPriority",dataIndex:"isPriority",scopedSlots:{customRender:"isPriority"}},{title:"优先接待原因",key:"prioritySeason",dataIndex:"prioritySeason",width:300,scopedSlots:{customRender:"prioritySeason"}},{title:"接待状态",key:"status",dataIndex:"status",scopedSlots:{customRender:"status"}}],pagination:{current:1,pageSize:10,total:0},isPriority:void 0,isHistory:0,status:void 0,loading:!1,statusTextList:[{value:0,text:"未接入"},{value:1,text:"已接入"},{value:2,text:"已过期"}]}},created:function(){},methods:{changeCustomer:function(t){this.openKfid=t||"",this.pagination.current=1,this.getPageList()},disabledDate:function(t){return t&&t>Date.now()},changeContent:function(){this.pagination.current=1,this.getPageList()},change:function(t){var e=t.current;this.pagination.current=e,this.getPageList()},changeNum:function(){2===this.openNum?this.openNum=99:this.openNum=2},serviceCustomer:function(t){this.serviceList=t,this.visibleUsePerson=!1,this.getPageList()},getPageList:function(){var t,e,n,i,a=this,s={kfid:this.openKfid,currentPage:this.pagination.current,pageSize:this.pagination.pageSize,isHistory:this.isHistory,isPriority:this.isPriority,status:this.status,startDate:(null===(t=this.startOrEndTime)||void 0===t||null===(e=t[0])||void 0===e?void 0:e.format("YYYY-MM-DD"))+" 00:00:00",endDate:(null===(n=this.startOrEndTime)||void 0===n||null===(i=n[1])||void 0===i?void 0:i.format("YYYY-MM-DD"))+" 23:59:59"};this.loading=!0,Tt(s).then((function(t){var e;null!==t&&void 0!==t&&t.data&&(a.channelList=null===(e=t.data.list)||void 0===e?void 0:e.map((function(t,e){return Object(d["a"])({key:e},t)})),a.pagination.total=t.data.total)})).catch((function(t){a.$message.error(t||t.message)})).finally((function(){a.loading=!1}))}}},Et=jt,At=(n("e4e9"),Object(g["a"])(Et,xt,Ot,!1,null,"7daae40d",null)),Rt=At.exports,Mt=function(){var t=this,e=t._self._c;return e("div",[e("header",{staticClass:"header"},[e("div",{staticClass:"flex-box"},[e("span",{staticClass:"label"},[t._v("客服账号:")]),e("Account",{attrs:{timerNum:t.timerNum},on:{changeCustomer:t.changeCustomer}})],1)]),e("a-table",{staticClass:"background-white",attrs:{pagination:!1,columns:t.columns,"data-source":t.channelList,loading:t.loading},on:{change:t.change}})],1)},Yt=[],$t={name:"OnlineList",components:{Account:pt["a"]},data:function(){return{channelList:[],visibileForm:!1,serviceList:[],openNum:2,timerNum:0,selectRoleIdList:[""],timeSpace:7,startOrEndTime:[Nt()().subtract(6,"day"),Nt()()],visibleUsePerson:!1,editData:{},keyword:"",openKfid:"",loading:!1,columns:[{title:"客服账号",key:"kfAccount",dataIndex:"kfAccount",scopedSlots:{customRender:"kfAccount"}},{title:"接待员userId",key:"receptorId",dataIndex:"receptorId",scopedSlots:{customRender:"receptorId"}},{title:"接待员",key:"receptorName",dataIndex:"receptorName",scopedSlots:{customRender:"receptorName"}},{title:"最近一次上线时间",key:"lastUpTime",dataIndex:"lastUpTime",scopedSlots:{customRender:"lastUpTime"}}],pagination:{current:1,pageSize:10,total:0}}},created:function(){},methods:{changeCustomer:function(t){this.openKfid=t||"",this.pagination.current=1,this.getPageList()},disabledDate:function(t){return t&&t>Date.now()},searchName:function(){this.pagination.current=1,this.getPageList()},change:function(t){var e=t.current;this.pagination.current=e,this.getPageList()},changeNum:function(){2===this.openNum?this.openNum=99:this.openNum=2},serviceCustomer:function(t){this.serviceList=t,this.visibleUsePerson=!1,this.getPageList()},getPageList:function(){var t=this,e={kfId:this.openKfid};this.loading=!0,St(e).then((function(e){var n;null!==e&&void 0!==e&&e.data&&(t.channelList=null===(n=e.data)||void 0===n?void 0:n.map((function(t,e){return Object(d["a"])({key:e},t)})))})).catch((function(e){t.$message.error(e||e.message)})).finally((function(){t.loading=!1}))},changeDate:function(t){t.length>0&&this.getPageList()},serviceOk:function(){this.visibileForm=!1,this.getPageList()},editList:function(t){var e;this.visibileForm=!0,this.editData={begin:null===(e=this.$moment(1e3*t.sendTime))||void 0===e?void 0:e.format("YYYY-MM-DD HH:mm:ss"),openKfid:t.kfid,servicerUserid:t.servicerUserid||"",externalUserid:t.externalUserid||""}}}},Ut=$t,Bt=(n("2054"),Object(g["a"])(Ut,Mt,Yt,!1,null,"32f841e9",null)),Ft=Bt.exports,Ht=function(){var t=this,e=t._self._c;return e("div",[e("header",{staticClass:"header"},[e("div",{staticClass:"flex-box"},[e("span",{staticClass:"label"},[t._v("客服账号:")]),e("Account",{attrs:{timerNum:t.timerNum},on:{changeCustomer:t.changeCustomer}})],1),e("div",{staticClass:"flex-box"},[e("span",{staticClass:"label"},[t._v("会话状态:")]),e("a-select",{staticClass:"select",attrs:{placeholder:"请选择",allowClear:""},on:{change:t.changeContent},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.statusTextList,(function(n){return e("a-select-option",{key:n.vale,attrs:{value:n.value}},[t._v(" "+t._s(n.text)+" ")])})),1)],1),e("div",{staticClass:"flex-box"},[e("span",{staticClass:"label"},[t._v("创建时间:")]),e("a-range-picker",{attrs:{disabledDate:t.disabledDate},on:{change:t.changeContent},model:{value:t.startOrEndTime,callback:function(e){t.startOrEndTime=e},expression:"startOrEndTime"}})],1)]),e("a-table",{staticClass:"background-white",attrs:{pagination:t.pagination,columns:t.columns,"data-source":t.channelList,loading:t.loading},on:{change:t.change}})],1)},zt=[],qt={name:"StateList",components:{Account:pt["a"]},data:function(){return{timerNum:0,channelList:[],visibileForm:!1,serviceList:[],openNum:2,selectRoleIdList:[""],timeSpace:7,startOrEndTime:[Nt()().subtract(6,"day"),Nt()()],visibleUsePerson:!1,editData:{},keyword:"",openKfid:"",columns:[{title:"客服账号",key:"kfAccount",dataIndex:"kfAccount",scopedSlots:{customRender:"kfAccount"}},{title:"咨询客户",key:"externalUserName",dataIndex:"externalUserName",scopedSlots:{customRender:"externalUserName"}},{title:"接待员",key:"receptorName",dataIndex:"receptorName",scopedSlots:{customRender:"receptorName"}},{title:"会话状态",key:"status",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"创建时间",key:"createTime",dataIndex:"createTime",scopedSlots:{customRender:"createTime"}}],pagination:{current:1,pageSize:10,total:0},loading:!1,status:void 0,statusTextList:[{value:0,text:"未处理"},{value:1,text:"智能助手接入"},{value:2,text:"接待入池队列"},{value:3,text:"人工接入"},{value:4,text:"已结束"}]}},created:function(){},methods:{changeCustomer:function(t){this.openKfid=t||"",this.pagination.current=1,this.getPageList()},disabledDate:function(t){return t&&t>Date.now()},changeContent:function(){this.pagination.current=1,this.getPageList()},change:function(t){var e=t.current;this.pagination.current=e,this.getPageList()},getPageList:function(){var t,e,n,i,a=this,s={kfid:this.openKfid,currentPage:this.pagination.current,pageSize:this.pagination.pageSize,serviceState:this.status,createdTimeFrom:(null===(t=this.startOrEndTime)||void 0===t||null===(e=t[0])||void 0===e?void 0:e.format("YYYY-MM-DD"))+" 00:00:00",createdTimeTo:(null===(n=this.startOrEndTime)||void 0===n||null===(i=n[1])||void 0===i?void 0:i.format("YYYY-MM-DD"))+" 23:59:59"};this.loading=!0,It(s).then((function(t){var e;null!==t&&void 0!==t&&t.data&&(a.channelList=null===(e=t.data.list)||void 0===e?void 0:e.map((function(t,e){return Object(d["a"])(Object(d["a"])({},t),{},{key:e})})),a.pagination.total=t.data.total)})).catch((function(t){a.$message.error(t||t.message)})).finally((function(){a.loading=!1}))}}},Kt=qt,Vt=(n("87c9"),Object(g["a"])(Kt,Ht,zt,!1,null,"f06f266a",null)),Wt=Vt.exports,Gt=function(){var t=this,e=t._self._c;return e("div",[e("header",{staticClass:"header"},[e("div",{staticClass:"flex-box"},[e("span",{staticClass:"label"},[t._v("客服账号:")]),e("Account",{attrs:{timerNum:t.timerNum},on:{changeCustomer:t.changeCustomer}})],1),e("div",{staticClass:"flex-box"},[e("span",{staticClass:"label"},[t._v("接待方式:")]),e("a-select",{staticClass:"select",attrs:{placeholder:"请选择",allowClear:""},on:{change:t.changeContent},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.statusTextList,(function(n){return e("a-select-option",{key:n.vale,attrs:{value:n.value}},[t._v(" "+t._s(n.text)+" ")])})),1)],1),e("div",{staticClass:"flex-box"},[e("span",{staticClass:"label"},[t._v("创建时间:")]),e("a-range-picker",{attrs:{disabledDate:t.disabledDate},on:{change:t.changeContent},model:{value:t.startOrEndTime,callback:function(e){t.startOrEndTime=e},expression:"startOrEndTime"}})],1)]),e("a-table",{staticClass:"background-white",attrs:{pagination:t.pagination,columns:t.columns,loading:t.loading,"data-source":t.channelList},on:{change:t.change}})],1)},Qt=[],Jt={name:"VisitList",components:{Account:pt["a"]},data:function(){return{timerNum:0,channelList:[],visibileForm:!1,serviceList:[],selectRoleIdList:[""],timeSpace:7,startOrEndTime:[Nt()().subtract(6,"day"),Nt()()],visibleUsePerson:!1,editData:{},keyword:"",openKfid:"",columns:[{title:"客服账号",key:"kfAccount",dataIndex:"kfAccount",scopedSlots:{customRender:"kfAccount"}},{title:"咨询客户",key:"externalUserName",dataIndex:"externalUserName",scopedSlots:{customRender:"externalUserName"}},{title:"接待方式",key:"receptorType",dataIndex:"receptorType",scopedSlots:{customRender:"receptorType"}},{title:"接待客服",key:"receptorName",dataIndex:"receptorName",scopedSlots:{customRender:"receptorName"}},{title:"客户第一次咨询时间",key:"customerFirstAskTime",dataIndex:"customerFirstAskTime",scopedSlots:{customRender:"customerFirstAskTime"}},{title:"客服第一次回复时间",key:"servicerFirstAnswerTime",dataIndex:"servicerFirstAnswerTime",scopedSlots:{customRender:"servicerFirstAnswerTime"}},{title:"客服发送消息数",key:"servicerMsgCount",dataIndex:"servicerMsgCount",scopedSlots:{customRender:"servicerMsgCount"}},{title:"创建时间",key:"createTime",dataIndex:"createTime",scopedSlots:{customRender:"createTime"}}],pagination:{current:1,pageSize:10,total:0},loading:!1,status:void 0,statusTextList:[{value:0,text:"机器人"},{value:1,text:"机器人转人工"},{value:2,text:"人工"}]}},created:function(){},methods:{changeCustomer:function(t){this.openKfid=t||"",this.pagination.current=1,this.getPageList()},disabledDate:function(t){return t&&t>Date.now()},changeContent:function(){this.pagination.current=1,this.getPageList()},change:function(t){var e=t.current;this.pagination.current=e,this.getPageList()},serviceCustomer:function(t){this.serviceList=t,this.visibleUsePerson=!1,this.getPageList()},getPageList:function(){var t,e,n,i,a=this,s={kfid:this.openKfid,currentPage:this.pagination.current,pageSize:this.pagination.pageSize,receptorType:this.status,createdTimeFrom:(null===(t=this.startOrEndTime)||void 0===t||null===(e=t[0])||void 0===e?void 0:e.format("YYYY-MM-DD"))+" 00:00:00",createdTimeTo:(null===(n=this.startOrEndTime)||void 0===n||null===(i=n[1])||void 0===i?void 0:i.format("YYYY-MM-DD"))+" 23:59:59"};this.loading=!0,Dt(s).then((function(t){var e;null!==t&&void 0!==t&&t.data&&(a.channelList=null===(e=t.data.list)||void 0===e?void 0:e.map((function(t,e){return Object(d["a"])(Object(d["a"])({},t),{},{key:e,statusText:a.statusTextList[t.status]})})),a.pagination.total=t.data.total)})).catch((function(t){a.$message.error(t||t.message)})).finally((function(){a.loading=!1}))},changeDate:function(t){t.length>0&&this.getPageList()},serviceOk:function(){this.visibileForm=!1,this.getPageList()},editList:function(t){var e;this.visibileForm=!0,this.editData={begin:null===(e=this.$moment(1e3*t.sendTime))||void 0===e?void 0:e.format("YYYY-MM-DD HH:mm:ss"),openKfid:t.kfid,servicerUserid:t.servicerUserid||"",externalUserid:t.externalUserid||""}}}},Xt=Jt,Zt=(n("a8ac"),Object(g["a"])(Xt,Gt,Qt,!1,null,"26d419a0",null)),te=Zt.exports,ee=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultVal="1",e.timerNum=0,e}return Object(s["d"])(e,t),e.prototype.tabChange=function(){},Object.defineProperty(e.prototype,"kefu",{get:function(){var t;return null===(t=this.$store.state.user.live)||void 0===t?void 0:t.kefu},enumerable:!1,configurable:!0}),e=Object(s["c"])([Object(r["a"])({components:{ChannelList:P,DataStatic:kt,QueueList:Rt,OnlineList:Ft,StateList:Wt,VisitList:te}})],e),e}(r["c"]),ne=ee,ie=ne,ae=(n("0d92"),Object(g["a"])(ie,i,a,!1,null,"3189243b",null));e["default"]=ae.exports},6913:function(t,e,n){"use strict";n("ce65")},"6bd9":function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"use-person"},[e("ul",{staticClass:"a-line-omit",on:{click:function(e){t.visibleUsePerson=!0}}},[t._l(t.usePersionList,(function(n){return e("li",{key:n.key,staticClass:"a-line-omit"},[e("a-tooltip",{attrs:{title:n.title}},[n.icon?e("a-icon",{staticClass:"icon",attrs:{type:n.icon}}):e("a-avatar",{staticClass:"imgs",attrs:{size:23,src:n.source.thumbAvatar||t.defaultThumbAvatar}}),e("span",{staticClass:"title"},[t._v(" "+t._s(n.title)+" ")])],1)],1)})),t.usePersionList.length<1?e("p",{staticClass:"font-color-black-25"},[t._v(t._s(t.placeHolder))]):t._e()],2),t.usePersionList.length>2?e("span",{staticClass:"omit"},[t._v("等"+t._s(t.usePersionList.length)+"个账号")]):t._e(),e("a-icon",{attrs:{type:"caret-down"}})],1),e("a-modal",{attrs:{footer:null,width:"680px",centered:""},model:{value:t.visibleUsePerson,callback:function(e){t.visibleUsePerson=e},expression:"visibleUsePerson"}},[e("AddTransfer",t._b({attrs:{type:t.type,title:t.title,selectList:t.usePersionList,selectRoleIdList:t.selectRoleIdList},on:{serviceOk:t.serviceOk,cancle:function(e){t.visibleUsePerson=!1}}},"AddTransfer",t.source,!1))],1)],1)},a=[],s=(n("d81d"),n("1eb1")),r={name:"UsePerson",props:{defaultUsePerson:{type:[Array],default:function(){return[]}},placeHolder:{type:[String],default:""},type:{type:[String],default:""},title:{type:[String],default:"选择成员"},value:{type:[Array],default:function(){return[]}},needControlReturn:{type:Boolean,default:!1},source:{type:Object,default:function(){return{}}}},components:{AddTransfer:s["a"]},data:function(){return{defaultThumbAvatar:n("b5c3"),visibleUsePerson:!1,selectRoleIdList:[],usePersionList:this.value}},watch:{value:function(){this.usePersionList=this.value}},methods:{serviceOk:function(t){var e=this;t.length<1?this.usePersionList=this.defaultUsePerson:this.usePersionList=t,this.usePersionList.map((function(t){t.value=100})),this.needControlReturn||(this.visibleUsePerson=!1),this.$emit("input",this.usePersionList),this.$emit("usePersionInfo",this.usePersionList,(function(){e.visibleUsePerson=!1}))}}},o=r,c=(n("f0b2"),n("2877")),l=Object(c["a"])(o,i,a,!1,null,"de146f5e",null);e["a"]=l.exports},7368:function(t,e,n){"use strict";n("4856")},7806:function(t,e,n){},7963:function(t,e,n){},"87c9":function(t,e,n){"use strict";n("1365")},"971c":function(t,e,n){},a34a:function(t,e,n){},a8ac:function(t,e,n){"use strict";n("7806")},b311:function(t,e,n){
/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */
(function(e,n){t.exports=n()})(0,(function(){return function(){var t={686:function(t,e,n){"use strict";n.d(e,{default:function(){return N}});var i=n(279),a=n.n(i),s=n(370),r=n.n(s),o=n(817),c=n.n(o);function l(t){try{return document.execCommand(t)}catch(e){return!1}}var u=function(t){var e=c()(t);return l("cut"),e},d=u;function f(t){var e="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[e?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;return n.style.top="".concat(i,"px"),n.setAttribute("readonly",""),n.value=t,n}var p=function(t,e){var n=f(t);e.container.appendChild(n);var i=c()(n);return l("copy"),n.remove(),i},v=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},n="";return"string"===typeof t?n=p(t,e):t instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null===t||void 0===t?void 0:t.type)?n=p(t.value,e):(n=c()(t),l("copy")),n},h=v;function m(t){return m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}var g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.action,n=void 0===e?"copy":e,i=t.container,a=t.target,s=t.text;if("copy"!==n&&"cut"!==n)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==a){if(!a||"object"!==m(a)||1!==a.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===n&&a.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===n&&(a.hasAttribute("readonly")||a.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return s?h(s,{container:i}):a?"cut"===n?d(a):h(a,{container:i}):void 0},y=g;function b(t){return b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function k(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),t}function x(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}function O(t,e){return O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},O(t,e)}function w(t){var e=T();return function(){var n,i=I(t);if(e){var a=I(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return L(this,n)}}function L(t,e){return!e||"object"!==b(e)&&"function"!==typeof e?S(t):e}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function I(t){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},I(t)}function D(t,e){var n="data-clipboard-".concat(t);if(e.hasAttribute(n))return e.getAttribute(n)}var P=function(t){x(n,t);var e=w(n);function n(t,i){var a;return C(this,n),a=e.call(this),a.resolveOptions(i),a.listenClick(t),a}return k(n,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"===typeof t.action?t.action:this.defaultAction,this.target="function"===typeof t.target?t.target:this.defaultTarget,this.text="function"===typeof t.text?t.text:this.defaultText,this.container="object"===b(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=r()(t,"click",(function(t){return e.onClick(t)}))}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget,n=this.action(e)||"copy",i=y({action:n,container:this.container,target:this.target(e),text:this.text(e)});this.emit(i?"success":"error",{action:n,text:i,trigger:e,clearSelection:function(){e&&e.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(t){return D("action",t)}},{key:"defaultTarget",value:function(t){var e=D("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return D("text",t)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return h(t,e)}},{key:"cut",value:function(t){return d(t)}},{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"===typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach((function(t){n=n&&!!document.queryCommandSupported(t)})),n}}]),n}(a()),N=P},828:function(t){var e=9;if("undefined"!==typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}function i(t,n){while(t&&t.nodeType!==e){if("function"===typeof t.matches&&t.matches(n))return t;t=t.parentNode}}t.exports=i},438:function(t,e,n){var i=n(828);function a(t,e,n,i,a){var s=r.apply(this,arguments);return t.addEventListener(n,s,a),{destroy:function(){t.removeEventListener(n,s,a)}}}function s(t,e,n,i,s){return"function"===typeof t.addEventListener?a.apply(null,arguments):"function"===typeof n?a.bind(null,document).apply(null,arguments):("string"===typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return a(t,e,n,i,s)})))}function r(t,e,n,a){return function(n){n.delegateTarget=i(n.target,e),n.delegateTarget&&a.call(t,n)}}t.exports=s},879:function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"===typeof t||t instanceof String},e.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},370:function(t,e,n){var i=n(879),a=n(438);function s(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!i.string(e))throw new TypeError("Second argument must be a String");if(!i.fn(n))throw new TypeError("Third argument must be a Function");if(i.node(t))return r(t,e,n);if(i.nodeList(t))return o(t,e,n);if(i.string(t))return c(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function r(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function o(t,e,n){return Array.prototype.forEach.call(t,(function(t){t.addEventListener(e,n)})),{destroy:function(){Array.prototype.forEach.call(t,(function(t){t.removeEventListener(e,n)}))}}}function c(t,e,n){return a(document.body,t,e,n)}t.exports=s},817:function(t){function e(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),a=document.createRange();a.selectNodeContents(t),i.removeAllRanges(),i.addRange(a),e=i.toString()}return e}t.exports=e},279:function(t){function e(){}e.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var i=this;function a(){i.off(t,a),e.apply(n,arguments)}return a._=e,this.on(t,a,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,a=n.length;for(i;i<a;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],a=[];if(i&&e)for(var s=0,r=i.length;s<r;s++)i[s].fn!==e&&i[s].fn._!==e&&a.push(i[s]);return a.length?n[t]=a:delete n[t],this}},t.exports=e,t.exports.TinyEmitter=e}},e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={exports:{}};return t[i](a,a.exports,n),a.exports}return function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),n(686)}().default}))},b4f0:function(t,e,n){},b5c3:function(t,e,n){t.exports=n.p+"assets/default.c42b7ede.svg"},bb18:function(t,e,n){"use strict";n("3517")},c6b1:function(t,e,n){},c771:function(t,e,n){"use strict";n("a34a")},c7b7:function(t,e,n){"use strict";n("b0c0");var i=function(){var t=this,e=t._self._c;return e("a-select",{staticStyle:{width:"180px"},attrs:{allowClear:1==t.defaultType,placeholder:"请选择客服账号",dropdownMatchSelectWidth:!1,dropdownStyle:t.dropdownStyle},on:{change:t.change},scopedSlots:t._u([{key:"dropdownRender",fn:function(n){return e("div",{staticStyle:{padding:"10px 8px"}},[e("div",{on:{mousedown:function(t){return t.preventDefault()}}},[t._v("全部客服（"+t._s(t.items.length)+"）")]),e("v-nodes",{attrs:{vnodes:n}})],1)}}]),model:{value:t.kfid,callback:function(e){t.kfid=e},expression:"kfid"}},t._l(t.items,(function(n,i){return e("a-select-option",{key:i,attrs:{value:n.kfid}},[e("a-avatar",{attrs:{src:n.img,size:23,shape:"square"}}),t._v(" "+t._s(n.name)+" ")],1)})),1)},a=[],s=n("c7eb"),r=n("1da1"),o=(n("a9e3"),n("36b4")),c={name:"Account",props:{timerNum:{type:Number,default:0},defaultType:{type:Number,default:0}},setup:function(){},components:{VNodes:{functional:!0,render:function(t,e){return e.props.vnodes}}},data:function(){return{kfid:"",dropdownStyle:{width:"260px"},items:[]}},created:function(){var t=this;return Object(r["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.init();case 2:case"end":return e.stop()}}),e)})))()},methods:{init:function(){var t=this;Object(o["i"])().then((function(e){var n,i,a;0===t.defaultType?(t.kfid=null===(n=e.data)||void 0===n||null===(i=n.list)||void 0===i||null===(a=i[0])||void 0===a?void 0:a.kfid,t.$emit("changeCustomer",t.kfid)):t.kfid=void 0;t.items=e.data.list})).catch((function(e){t.$message.error(e)}))},clearList:function(){this.kfid=void 0},change:function(t){this.$emit("changeCustomer",t)}},watch:{timerNum:function(){this.init()}}},l=c,u=n("2877"),d=Object(u["a"])(l,i,a,!1,null,"532fb7b4",null);e["a"]=d.exports},c7eb:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("b636"),n("944a"),n("0c47"),n("23dc"),n("3410"),n("159b"),n("b0c0"),n("131a"),n("fb6a");var i=n("53ca");function a(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
a=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,s=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(D){u=function(t,e,n){return t[e]=n}}function d(t,e,n,i){var a=e&&e.prototype instanceof v?e:v,r=Object.create(a.prototype),o=new S(i||[]);return s(r,"_invoke",{value:x(t,n,o)}),r}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(D){return{type:"throw",arg:D}}}t.wrap=d;var p={};function v(){}function h(){}function m(){}var g={};u(g,o,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(T([])));b&&b!==e&&n.call(b,o)&&(g=b);var C=m.prototype=v.prototype=Object.create(g);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function a(s,r,o,c){var l=f(t[s],t,r);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==Object(i["a"])(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){a("next",t,o,c)}),(function(t){a("throw",t,o,c)})):e.resolve(d).then((function(t){u.value=t,o(u)}),(function(t){return a("throw",t,o,c)}))}c(l.arg)}var r;s(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){a(t,n,e,i)}))}return r=r?r.then(i,i):i()}})}function x(t,e,n){var i="suspendedStart";return function(a,s){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===a)throw s;return I()}for(n.method=a,n.arg=s;;){var r=n.delegate;if(r){var o=O(r,n);if(o){if(o===p)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=f(t,e,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}function O(t,e){var n=e.method,i=t.iterator[n];if(void 0===i)return e.delegate=null,"throw"===n&&t.iterator["return"]&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=f(i,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,p;var s=a.arg;return s?s.done?(e[t.resultName]=s.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=m,s(C,"constructor",{value:m,configurable:!0}),s(m,"constructor",{value:h,configurable:!0}),h.displayName=u(m,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,l,"GeneratorFunction")),t.prototype=Object.create(C),t},t.awrap=function(t){return{__await:t}},_(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,i,a,s){void 0===s&&(s=Promise);var r=new k(d(e,n,i,a),s);return t.isGeneratorFunction(n)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},_(C),u(C,l,"Generator"),u(C,o,(function(){return this})),u(C,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return r.type="throw",r.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],r=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var o=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(o&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(o){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var s=a;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var r=s?s.completion:{};return r.type=t,r.arg=e,s?(this.method="next",this.next=s.finallyLoc,p):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var a=i.arg;L(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}},c95d:function(t,e,n){"use strict";n("c6b1")},ce65:function(t,e,n){},d085:function(t,e,n){},e4e9:function(t,e,n){"use strict";n("7963")},efa4:function(t,e,n){"use strict";n("506c")},f0b2:function(t,e,n){"use strict";n("b4f0")}}]);