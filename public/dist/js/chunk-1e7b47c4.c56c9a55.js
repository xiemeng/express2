(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e7b47c4"],{"02ed":function(t,e,a){"use strict";
/*!
 * Copyright 2018 yangjunbao <yangjunbao@shimo.im>. All rights reserved.
 * @since 2018-11-02 19:47:25
 */
var n;function r(){return void 0===n&&(n=document.queryCommandSupported("copy")?"copy":!!document.queryCommandSupported("cut")&&"cut"),n}function i(t){var e=document.createElement("input");return e.style.cssText="position: absolute; top: -9999px; left: -9999px;",document.body.appendChild(e),e.value=t,e.readOnly=!0,e.select(),e.setSelectionRange(0,t.length),e}function o(t){var e=r();if(!e)return!1;var a=i(t);try{return document.execCommand(e)}catch(n){return!1}finally{document.body.removeChild(a)}}a.d(e,"a",(function(){return o})),o.isSupported=r},"0b3c":function(t,e,a){},"1bee":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"b",(function(){return i}));a("a9e3"),a("ac1f"),a("5319"),a("4d63"),a("25f0");function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD hh:mm:ss",a=e,n=new Date(Number(t)),r={"M+":n.getMonth()+1,"D+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),"S+":n.getMilliseconds()};for(var i in/(y+)/i.test(a)&&(a=a.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+i+")").test(a)&&(a=a.replace(RegExp.$1,1===RegExp.$1.length?r[i]:("00"+r[i]).substr((""+r[i]).length)));return a}function r(t){var e=parseInt(t/3600)<10?"0"+parseInt(t/3600):parseInt(t/3600),a=parseInt(t%3600/60)<10?"0"+parseInt(t%3600/60):parseInt(t%3600/60);return e+":"+a}function i(t,e){var a=Date.parse(new Date),n=o(a,t),r=new Date(n),i=r.getTime(),c=o(a,e),s=new Date(c),l=s.getTime();return"start"?i>=l:l<=i}function o(t,e){var a=new Date(t),n=a.getFullYear()+"-",r=(a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+"-",i=a.getDate()+" ";a.getHours(),a.getMinutes(),a.getSeconds();return n+r+i+e+":00"}},"1da1":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("d3b7");function n(t,e,a,n,r,i,o){try{var c=t[i](o),s=c.value}catch(l){return void a(l)}c.done?e(s):Promise.resolve(s).then(n,r)}function r(t){return function(){var e=this,a=arguments;return new Promise((function(r,i){var o=t.apply(e,a);function c(t){n(o,r,i,c,s,"next",t)}function s(t){n(o,r,i,c,s,"throw",t)}c(void 0)}))}}},2035:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return r}));a("c7eb"),a("1da1"),a("ac1f"),a("466d"),a("ace4"),a("d3b7"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("99af"),a("b680");var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file",a=t.split(","),n=a[0].match(/:(.*?);/)[1],r=n.split("/")[1],i=atob(a[1]),o=i.length,c=new Uint8Array(o);while(o--)c[o]=i.charCodeAt(o);return new File([c],"".concat(e,".").concat(r),{type:n})},r=function(t){if(null==t||""==t)return"0 Bytes";var e=new Array("Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"),a=0,n=parseFloat(t);a=Math.floor(Math.log(n)/Math.log(1024));var r=n/Math.pow(1024,a);return r=r.toFixed(2),r+e[a]}},2088:function(t,e,a){"use strict";a("7594")},"43a6":function(t,e,a){"use strict";a("713e")},5555:function(t,e,a){"use strict";a("0b3c")},"713e":function(t,e,a){},7594:function(t,e,a){},c7eb:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("b636"),a("944a"),a("0c47"),a("23dc"),a("3410"),a("159b"),a("b0c0"),a("131a"),a("fb6a");var n=a("53ca");function r(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
r=function(){return t};var t={},e=Object.prototype,a=e.hasOwnProperty,i=Object.defineProperty||function(t,e,a){t[e]=a.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(j){u=function(t,e,a){return t[e]=a}}function d(t,e,a,n){var r=e&&e.prototype instanceof p?e:p,o=Object.create(r.prototype),c=new C(n||[]);return i(o,"_invoke",{value:w(t,a,c)}),o}function f(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(j){return{type:"throw",arg:j}}}t.wrap=d;var h={};function p(){}function v(){}function m(){}var g={};u(g,c,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(O([])));b&&b!==e&&a.call(b,c)&&(g=b);var x=m.prototype=p.prototype=Object.create(g);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(i,o,c,s){var l=f(t[i],t,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==Object(n["a"])(d)&&a.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,c,s)}),(function(t){r("throw",t,c,s)})):e.resolve(d).then((function(t){u.value=t,c(u)}),(function(t){return r("throw",t,c,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(t,a){function n(){return new e((function(e,n){r(t,a,e,n)}))}return o=o?o.then(n,n):n()}})}function w(t,e,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return I()}for(a.method=r,a.arg=i;;){var o=a.delegate;if(o){var c=D(o,a);if(c){if(c===h)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var s=f(t,e,a);if("normal"===s.type){if(n=a.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(n="completed",a.method="throw",a.arg=s.arg)}}}function D(t,e){var a=e.method,n=t.iterator[a];if(void 0===n)return e.delegate=null,"throw"===a&&t.iterator["return"]&&(e.method="return",e.arg=void 0,D(t,e),"throw"===e.method)||"return"!==a&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+a+"' method")),h;var r=f(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function O(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(a.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:I}}function I(){return{value:void 0,done:!0}}return v.prototype=m,i(x,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:v,configurable:!0}),v.displayName=u(m,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),t.AsyncIterator=k,t.async=function(e,a,n,r,i){void 0===i&&(i=Promise);var o=new k(d(e,a,n,r),i);return t.isGeneratorFunction(a)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},S(x),u(x,l,"Generator"),u(x,c,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),a=[];for(var n in e)a.push(n);return a.reverse(),function t(){for(;a.length;){var n=a.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=O,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(a,n){return o.type="throw",o.arg=t,e.next=a,n&&(e.method="next",e.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),L(a),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var n=a.completion;if("throw"===n.type){var r=n.arg;L(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:O(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=void 0),h}},t}},d885:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"e",(function(){return o})),a.d(e,"c",(function(){return c})),a.d(e,"n",(function(){return s})),a.d(e,"o",(function(){return l})),a.d(e,"m",(function(){return u})),a.d(e,"l",(function(){return d})),a.d(e,"d",(function(){return f})),a.d(e,"a",(function(){return h})),a.d(e,"j",(function(){return p})),a.d(e,"h",(function(){return v})),a.d(e,"k",(function(){return m})),a.d(e,"g",(function(){return g})),a.d(e,"f",(function(){return y})),a.d(e,"i",(function(){return b}));var n=a("b775"),r={interactiveRadarAdd:"/client_transformation/interactradar/add",interactiveRadarList:"/client_transformation/interactradar/list",interactiveRadarDelete:"/client_transformation/interactradar/delete",interactiveRadarupdate:"/client_transformation/interactradar/update",interactiveRadarInfo:"/client_transformation/interactradar/info",interactiveRadarSave:"/client_transformation/interactradar/channel/save",channelLinks:"/client_transformation/interactradar/getChannelLinks",generateChannelLink:"/client_transformation/interactradar/generateChannelLink",interactradarList:"/client_transformation/interactradar/channel/list",interactradarUpdate:"/client_transformation/interactradar/channel/update",statisticOverview:"/client_transformation/interactradar/statisticOverview",statisticDetail:"/client_transformation/interactradar/statisticDetail",customerLog:"/client_transformation/interactradar/customerLog",getCustomerLogDetail:"/client_transformation/interactradar/customerLogDetail",channelLog:"/client_transformation/interactradar/channelLog"};function i(t){return Object(n["b"])({url:r.channelLog,method:"post",data:t})}function o(t){return Object(n["b"])({url:r.getCustomerLogDetail,method:"get",params:t})}function c(t){return Object(n["b"])({url:r.customerLog,method:"post",data:t})}function s(t){return Object(n["b"])({url:r.statisticDetail,method:"get",params:t})}function l(t){return Object(n["b"])({url:r.statisticOverview,method:"get",params:t})}function u(t){return Object(n["b"])({url:r.interactradarUpdate,method:"post",data:t})}function d(t){return Object(n["b"])({url:r.interactradarList,method:"get",params:t})}function f(t){return Object(n["b"])({url:r.generateChannelLink,method:"get",params:t})}function h(t){return Object(n["b"])({url:r.channelLinks,method:"get",params:t})}function p(t){return Object(n["b"])({url:r.interactiveRadarSave,method:"post",data:t})}function v(t){return Object(n["b"])({url:r.interactiveRadarInfo+"/"+t,method:"get"})}function m(t){return Object(n["b"])({url:r.interactiveRadarupdate,method:"post",data:t})}function g(t){return Object(n["b"])({url:r.interactiveRadarDelete,method:"post",data:t})}function y(t){return Object(n["b"])({url:r.interactiveRadarAdd,method:"post",data:t})}function b(t){return Object(n["b"])({url:r.interactiveRadarList,method:"post",data:t})}},ec58:function(t,e,a){"use strict";a.r(e);a("b0c0");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-box"},[e("a-tabs",{staticStyle:{"background-color":"rgb(255, 255, 255)"},attrs:{"active-key":t.$route.meta.seletedTab,animated:!1},on:{change:t.changeTab}},t._l(t.tabsList,(function(a){return e("a-tab-pane",{key:a.id,attrs:{tab:a.text}},[e("div",{staticStyle:{padding:"0 15px"}},[e("a-row",{attrs:{type:"flex",justify:"space-between"}},[e("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.$router.push({name:a.name,query:{state:"add",type:a.state}})}}},[t._v("新建雷达"+t._s(a.text))]),e("a-input-search",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入要搜索的名称",allowClear:""},on:{search:t.searchfunc},model:{value:t.onSearchData,callback:function(e){t.onSearchData=e},expression:"onSearchData"}})],1)],1)])})),1),e("div",{staticStyle:{"background-color":"rgb(255, 255, 255)"}},[e("span",{staticStyle:{padding:"0 15px"}},[e("TableData",{attrs:{onSearchData:t.onSearchDataStr}})],1)])],1)},r=[],i=function(){var t=this,e=t._self._c;return e("div",[e("a-table",{staticStyle:{"background-color":"#fff"},attrs:{columns:t.columns,"data-source":t.ListData,pagination:t.pagination,loading:t.activityLoading},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"staffName",fn:function(a,n){return e("span",{},[t._v(" "+t._s(n.staffName)+" ")])}},{key:"tags",fn:function(a,n){return e("span",{},[e("div",{staticClass:"media-box"},[e("div",{staticClass:"title"},[t._v(t._s(n.tags.title))]),e("div",{staticClass:"flex-row"},[e("div",{staticClass:"desc col-1"},[t._v(t._s(n.tags.desc))]),e("img",{attrs:{src:n.tags.coverUrl||"/imgs/default-cover.png"},on:{error:t.errorImg}})])])])}},{key:"task",fn:function(a,n){return e("span",{},[n.task.length>0&&Array.isArray(n.task)?e("div",{class:[{mheight:n.task.length>=4}]},t._l(n.task,(function(a,n){return e("a-tag",{key:n,staticStyle:{"margin-bottom":"5px"}},[t._v(" "+t._s(a)+" ")])})),1):e("div",[t._v("-")]),n.task.length>=4&&Array.isArray(n.task)?e("div",{staticClass:"clickable",on:{click:function(e){return t.openMore(e)}}},[e("span",[t._v("展开")])]):t._e()])}},{key:"addPeople",fn:function(a,n){return e("span",{},[e("a-tag",{staticStyle:{"font-size":"13px","margin-right":"5px","margin-bottom":"5px"}},[e("span",{staticStyle:{color:"#7da3d1"}},[e("a-icon",{attrs:{type:"user"}})],1),t._v(" "+t._s(n.addPeople)+" ")])],1)}},{key:"operation",fn:function(a,n){return e("span",{},[e("a",{on:{click:function(e){return t.shareSettings(n)}}},[t._v("分享")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{on:{click:function(e){return t.$router.push({name:n.routerDetails,query:{state:"details",type:n.typedata,id:n.radarId}})}}},[t._v("详情")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{on:{click:function(e){return t.$router.push({name:n.routerName,query:{state:"edit",type:n.typedata,id:n.radarId}})}}},[t._v("修改")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{on:{click:function(e){return t.delectIdsData(n)}}},[t._v("删除")])],1)}}])},[e("span",{attrs:{slot:"address"},slot:"address"},[t._v(" - ")])]),e("a-modal",{attrs:{visible:t.delvisible,footer:null,width:"416px",destroyOnClose:""},on:{ok:t.handleOk,cancel:function(e){t.delvisible=!1}}},[e("h2",{staticStyle:{"font-size":"17px","font-weight":"600"}},[t._v("提示")]),e("section",{staticStyle:{"max-height":"510px",overflow:"auto"}},[e("div",[t._v("是否删除雷达链接，删除后将无法使用该链接")])]),e("div",{staticStyle:{display:"flex","justify-content":"flex-end","margin-top":"24px"}},[e("a-button",{staticStyle:{"margin-right":"10px"},on:{click:function(e){t.delvisible=!1}}},[t._v("取消")]),e("a-button",{attrs:{type:"primary"},on:{click:t.delhandleOk}},[t._v("确定")])],1)]),e("a-modal",{attrs:{visible:t.shareData,footer:null,width:"900px",destroyOnClose:""},on:{cancel:function(e){t.shareData=!1}}},[e("ShareLink",{attrs:{radarIdData:t.radarIdData},on:{cancel:function(e){t.shareData=!1}}})],1)],1)},o=[],c=(a("d3b7"),a("d81d"),a("9911"),a("07ac"),a("d885")),s=a("1bee"),l=a("ca00"),u=a("2035"),d=function(){var t=this,e=t._self._c;return e("div",[e("h2",{staticStyle:{"font-size":"17px","font-weight":"600","text-align":"center"}},[t._v("分享雷达")]),e("section",{staticStyle:{"max-height":"510px",overflow:"auto"}},[e("a-divider",{staticStyle:{background:"#1890ff",width:"3px"},attrs:{type:"vertical"}}),e("span",{staticClass:"title"},[t._v(" 创建渠道链接 ")]),e("a-tooltip",{attrs:{title:"可根据不同投放渠道生成渠道链接，用于统计不同渠道雷达链接数据"}},[e("a-icon",{staticStyle:{"margin-left":"4px"},attrs:{type:"question-circle"}})],1),e("div",{staticClass:"top"},[e("a-row",{attrs:{type:"flex",justify:"space-between"}},[e("a-col",[e("a-form",{attrs:{layout:"inline"}},[e("a-form-item",{attrs:{label:"选择渠道",required:""}},[e("SelectData",{attrs:{listData:t.listData},on:{getinteractiveRadarSave:t.getinteractiveRadarSave,getinteractradarUpdate:t.getinteractradarUpdate,funcchannelId:t.funcchannelId},model:{value:t.titleDataStr,callback:function(e){t.titleDataStr=e},expression:"titleDataStr"}})],1)],1)],1),e("a-button",{attrs:{type:"primary"},on:{click:t.getGenerateChannelLink}},[t._v("生成渠道链接")])],1)],1),e("div",{staticClass:"top"},[e("a-divider",{staticStyle:{background:"#1890ff",width:"3px"},attrs:{type:"vertical"}}),e("span",{staticClass:"title"},[t._v(" 渠道列表 ")])],1),e("div",{staticStyle:{"margin-top":"18px"}},[e("a-table",{attrs:{columns:t.columnsCustomer,"data-source":t.customerData,pagination:!1},scopedSlots:t._u([{key:"creatorName",fn:function(a){return e("span",{},[e("a-tag",{staticStyle:{"font-size":"13px","margin-right":"5px","margin-bottom":"5px"}},[e("span",{staticStyle:{color:"#7da3d1"}},[e("a-icon",{attrs:{type:"user"}})],1),t._v(" "+t._s(a)+" ")])],1)}},{key:"channelLink",fn:function(a){return e("span",{},[a.length>0?e("div",{class:[{mheight:a.length>=100}]},[t._v(" "+t._s(a)+" ")]):t._e(),a.length>=100?e("div",{staticClass:"clickable",on:{click:function(e){return t.openMore(e)}}},[e("span",[t._v("展开")])]):t._e()])}},{key:"channelLinkQr",fn:function(a){return e("span",{},[e("vue-qr",{attrs:{text:a,size:80,margin:0}}),e("vue-qr",{staticStyle:{display:"none"},attrs:{text:a,size:500,margin:0,callback:t.qrCallback}})],1)}},{key:"source",fn:function(a,n){return e("span",{},[e("a-avatar",{attrs:{size:32,shape:"square",src:n.source?n.source.avatar:""}}),t._v(" "+t._s(n.source?n.source.userName:"")+" ")],1)}},{key:"operation",fn:function(a,n){return e("span",{},[e("a",{on:{click:function(e){return t.copyUrl(n.channelLink)}}},[t._v("复制链接")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{on:{click:function(e){return t.downFile(n.channelNameCn)}}},[t._v("下载二维码")])],1)}}])})],1)],1)])},f=[],h=a("c7eb"),p=a("1da1"),v=function(){var t=this,e=t._self._c;return e("div",[e("a-button",{staticStyle:{width:"250px",height:"36px"},on:{click:function(e){return e.stopPropagation(),t.selectFocusIsOpen.apply(null,arguments)}}},[e("a-row",{attrs:{type:"flex",justify:"space-between"}},[t.selectTitle?e("span",[t._v(t._s(t.selectTitle))]):e("span",{staticStyle:{color:"rgba(0, 0, 0, 0.45)"}},[t._v("请选择渠道")]),e("a-col",[t.selectTitle?e("span",[e("a-icon",{attrs:{type:"close-circle"},on:{click:function(e){return e.stopPropagation(),t.closeContent.apply(null,arguments)}}})],1):e("span",[e("a-icon",{attrs:{type:"down"}})],1)])],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowSelect,expression:"isShowSelect"},{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],staticClass:"selectBox_list"},[e("a-button",{staticStyle:{width:"100%",color:"rgba(0, 0, 0, 0.65)"},attrs:{type:"link",size:"large"},on:{click:function(e){t.addDataTf=!0}}},[e("a-icon",{attrs:{type:"plus"}}),t._v(" 添加渠道 ")],1),e("a-divider"),e("a-input",{directives:[{name:"show",rawName:"v-show",value:t.addDataTf,expression:"addDataTf"}],staticStyle:{margin:"10px 0 0 10px",width:"90%"},attrs:{suffix:t.suffixStr,maxLength:10},on:{pressEnter:t.pressEnter},model:{value:t.titleData,callback:function(e){t.titleData=e},expression:"titleData"}}),e("div",{staticStyle:{padding:"0 0 10px 16px","max-height":"220px","overflow-x":"hidden"}},[e("a-list",{attrs:{split:!1}},t._l(t.listData,(function(a,n){return e("a-list-item",{key:n},[e("a-button",{staticStyle:{width:"100%"},attrs:{type:"link",disabled:a.disabled},on:{click:function(e){return t.clickContent(a,a.channelNameCn)}}},[t._v(t._s(a.channelNameCn))]),e("div",{attrs:{slot:"actions"},slot:"actions"},[e("a-dropdown",[e("a-icon",{attrs:{type:"more"}}),e("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[e("a-menu-item",{key:"1",on:{click:function(e){return t.modifyFunc(a)}}},[t._v("修改")])],1)],1)],1)],1)})),1)],1)],1),e("a-modal",{attrs:{visible:t.visibleTf,footer:null,width:"499px",destroyOnClose:""},on:{cancel:function(e){t.visibleTf=!1}}},[e("h2",{staticStyle:{"align-items":"center","justify-content":"center",display:"flex","font-size":"17px","font-weight":"600"}},[t._v(" 修改名称 ")]),e("section",{staticStyle:{"max-height":"510px",overflow:"auto"}},[e("div",{staticStyle:{padding:"10px"}},[e("a-form",{attrs:{layout:"inline"}},[e("a-form-item",{attrs:{label:"渠道名称"}},[e("a-input",{staticStyle:{width:"190%"},attrs:{suffix:t.ModifysuffixStr,maxLength:10},model:{value:t.ModifytitleData,callback:function(e){t.ModifytitleData=e},expression:"ModifytitleData"}})],1)],1)],1)]),e("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[e("a-button",{staticStyle:{"margin-right":"10px"},on:{click:function(e){t.visibleTf=!1}}},[t._v("取消")]),e("a-button",{attrs:{type:"primary"},on:{click:t.handleOk}},[t._v("确定")])],1)])],1)},m=[],g={bind:function(t,e){function a(a){if(t.contains(a.target))return!1;e.expression&&e.value(a)}t.__vueClickOutside__=a,document.addEventListener("click",a)},update:function(){},unbind:function(t){document.removeEventListener("click",t.__vueClickOutside__),delete t.__vueClickOutside__}},y={data:function(){return{ModifyDict:{},ModifytitleData:"",ModifysuffixStr:"0/10",visibleTf:!1,selectTitle:"",addDataTf:!1,suffixStr:"0/10",titleData:"",isShowSelect:!1,unitName:"请选择",unitModel:"",mouseenter:!1}},directives:{clickoutside:g},watch:{titleData:function(){var t=this.titleData.length;this.suffixStr="".concat(t,"/10")},ModifytitleData:function(){var t=this.ModifytitleData.length;this.ModifysuffixStr="".concat(t,"/10")},titleDataStr:function(){this.selectTitle=this.titleDataStr}},model:{prop:"titleDataStr",event:"change"},props:{titleDataStr:{type:String,default:""},listData:{type:Array,default:function(){return[]}}},methods:{handleOk:function(){this.ModifytitleData?(this.visibleTf=!1,this.$emit("getinteractradarUpdate",{id:this.ModifyDict.id,channelNameCn:this.ModifytitleData})):this.$message.warning("请输入渠道名称")},modifyFunc:function(t){this.visibleTf=!0,this.ModifytitleData=t.channelNameCn,this.ModifyDict=t},pressEnter:function(){this.$emit("getinteractiveRadarSave",this.titleData),this.addDataTf=!1,this.titleData=""},clickContent:function(t,e){this.selectTitle=e,this.handleClose(),this.$emit("funcchannelId",t.id),this.$emit("change",e)},closeContent:function(){this.selectTitle=""},handleClose:function(){this.isShowSelect=!1,this.addDataTf=!1,this.titleData=""},selectFocusIsOpen:function(){this.isShowSelect=!this.isShowSelect},select:function(t,e){this.isShowSelect=!0,this.unitModel=e,this.unitName=t.value}}},b=y,x=(a("2088"),a("2877")),S=Object(x["a"])(b,v,m,!1,null,"37bf8876",null),k=S.exports,w=a("658f5"),D=a.n(w),_=a("02ed"),L={data:function(){return{columnsCustomer:[{title:"时间",dataIndex:"createTime",scopedSlots:{customRender:"createTime"}},{title:"渠道",dataIndex:"channelNameCn",scopedSlots:{customRender:"channelNameCn"}},{title:"创建人",dataIndex:"creatorName",scopedSlots:{customRender:"creatorName"}},{title:"点击人数",dataIndex:"clickPeopleCount"},{title:"点击次数",dataIndex:"clickCount"},{title:"渠道链接",dataIndex:"channelLink",scopedSlots:{customRender:"channelLink"},width:150},{title:"渠道二维码",dataIndex:"channelLinkQr",scopedSlots:{customRender:"channelLinkQr"},width:150},{title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"},align:"right"}],customerData:[],listData:[],titleDataStr:""}},created:function(){var t=this;return Object(p["a"])(Object(h["a"])().mark((function e(){return Object(h["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getChannelLinks();case 2:t.getinteractradarList();case 3:case"end":return e.stop()}}),e)})))()},props:{radarIdData:{type:String,default:""}},methods:{copyUrl:function(t){t&&(Object(_["a"])(t),this.$message.success("复制成功"))},downFile:function(t){var e=document.createElement("a");e.href=this.base64,e.download="".concat(t,".png"),document.body.appendChild(e),e.click(),e.remove()},qrCallback:function(t){this.base64=t},openMore:function(t){var e=t.currentTarget.previousElementSibling;e.className.indexOf("mheight")>-1?(t.currentTarget.firstElementChild.innerText="收起",e.classList.remove("mheight")):(t.currentTarget.firstElementChild.innerText="展开",e.classList.add("mheight"))},funcchannelId:function(t){this.channelId=t},getGenerateChannelLink:function(){var t=this;return Object(p["a"])(Object(h["a"])().mark((function e(){var a;return Object(h["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.titleDataStr="",t.channelId){e.next=4;break}return t.$message.warning("请选择渠道"),e.abrupt("return");case 4:return a={radarId:t.radarIdData,channelId:t.channelId},e.next=7,Object(c["d"])(a).then((function(e){t.$message.success("操作成功"),t.channelId=""})).catch((function(e){t.$message.warning(e)}));case 7:return e.next=9,t.getChannelLinks();case 9:return e.next=11,t.getinteractradarList();case 11:case"end":return e.stop()}}),e)})))()},getChannelLinks:function(){var t=this;return this.passchannelId=[],Object(c["a"])({radarId:this.radarIdData}).then((function(e){t.customerData=(null===e||void 0===e?void 0:e.data.map((function(e){return e.key=e.id,e.channelLinkQr=e.channelLink,t.passchannelId.push(e.channelId),e})))||[]})).catch((function(e){t.$message.warning(e)}))},getinteractradarList:function(){var t=this;Object(c["l"])({channelType:2}).then((function(e){var a;t.listData=(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.map((function(e){return-1===t.passchannelId.indexOf(e.id)?e.disabled=!1:e.disabled=!0,e})))||[]})).catch((function(e){t.$message.warning(e)}))},delhandleOk:function(){this.$emit("cancel")},getinteractiveRadarSave:function(t){var e=this,a={channelNameCn:t,channelType:2};Object(c["j"])(a).then((function(t){e.$message.success("创建成功"),e.getinteractradarList()})).catch((function(t){e.$message.warning(t)}))},getinteractradarUpdate:function(t){var e=this;return Object(p["a"])(Object(h["a"])().mark((function a(){var n;return Object(h["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={id:t.id,channelNameCn:t.channelNameCn},a.next=3,Object(c["m"])(n).then((function(t){e.$message.success("修改成功")})).catch((function(t){e.$message.warning(t)}));case 3:return a.next=5,e.getChannelLinks();case 5:return a.next=7,e.getinteractradarList();case 7:case"end":return a.stop()}}),a)})))()}},components:{SelectData:k,vueQr:D.a}},C=L,O=(a("43a6"),Object(x["a"])(C,d,f,!1,null,"3dcc695e",null)),I=O.exports,j={data:function(){return{radarIdData:"",shareData:!1,activityLoading:!1,qrDict:{},qrCodeUrl:"/imgs/qrCode.png",delectIds:"",delvisible:!1,SearchData:"",pagination:{current:1,pageSize:10,total:0},columns:[{title:"雷达标题",dataIndex:"activeName",key:"activeName",width:100},{title:"链接",dataIndex:"staffName",key:"staffName",scopedSlots:{customRender:"staffName"},width:200},{title:"示例",dataIndex:"tags",key:"tags",scopedSlots:{customRender:"tags"},width:220},{title:"客户标签",dataIndex:"task",key:"task",scopedSlots:{customRender:"task"},width:250},{title:"创建人",dataIndex:"addPeople",key:"addPeople",scopedSlots:{customRender:"addPeople"},width:190},{title:"点击人数",dataIndex:"address",key:"address",scopedSlots:{customRender:"address"}},{title:"创建时间",dataIndex:"activeState",key:"activeState",width:120,scopedSlots:{customRender:"activeState"}},{title:"类型",dataIndex:"type",key:"type",scopedSlots:{customRender:"type"}},{title:"操作",dataIndex:"operation",key:"operation",align:"right",width:250,scopedSlots:{customRender:"operation"}}],ListData:[],visible:!1}},components:{ShareLink:I},computed:{typeState:function(){var t=1;switch(this.$route.query.state){case"link":t=1;break;case"pdf":t=2;break;case"article":t=3;break}return t}},props:{onSearchData:{type:String,default:""}},watch:{$route:{handler:function(){this.init()},deep:!0},onSearchData:function(){this.SearchData=this.onSearchData,this.init()}},created:function(){this.init()},methods:{shareSettings:function(t){this.shareData=!0,this.radarIdData=t.radarId},errorImg:function(t){t.target.src="/imgs/default-cover.png"},openMore:function(t){var e=t.currentTarget.previousElementSibling;e.className.indexOf("mheight")>-1?(t.currentTarget.firstElementChild.innerText="收起",e.classList.remove("mheight")):(t.currentTarget.firstElementChild.innerText="展开",e.classList.add("mheight"))},init:function(){var t=this,e={currentPage:this.pagination.current,pageSize:this.pagination.pageSize,radarName:this.SearchData,type:this.typeState};this.activityLoading=!0,Object(c["i"])(e).then((function(e){var a,n,r;t.ListData=null===e||void 0===e||null===(a=e.data)||void 0===a||null===(n=a.list)||void 0===n?void 0:n.map((function(e){return{activeName:e.radarName,staffName:2===t.typeState?e.fileUrl:e.link,tags:{title:2===t.typeState?e.fileName:e.title,desc:2===t.typeState?Object(u["b"])(e.fileSize):e.desc,coverUrl:2===t.typeState?"/icons/pdf.png":e.coverUrl},key:e.radarId,radarId:e.radarId,routerName:e.type?{1:"DashboardCreate",2:"CreatePDF",3:"CreateArticle",4:"CreateArticle"}[e.type]:"",routerDetails:e.type?{1:"DetailsLink",2:"DetailsLink",3:"DetailsLinkArticle",4:"DetailsLinkArticle"}[e.type]:"",task:e.autoMarkTagNames||[],addPeople:e.creatorName,activeState:e.createTime,type:e.type?{1:"链接",2:"PDF",3:"文章",4:"文章"}[e.type]:"",typedata:e.type?{1:"link",2:"pdf",3:"article",4:"article"}[e.type]:""}})),t.pagination.total=null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.total})).catch((function(e){t.$message.warning(e)})).finally((function(){t.activityLoading=!1}))},download:function(t){var e=this;Object(l["d"])(t).catch((function(t){e.$message.error(t)}))},detailsData:function(t){var e=this;this.visible=!0,fissiontaskInfo(null===t||void 0===t?void 0:t.id).then((function(t){var a,n,r,i,o=null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.data,c=[];if(null!==o&&void 0!==o&&o.customerLabel){var l=JSON.parse(null===o||void 0===o?void 0:o.customerLabel),u=Object.values(l);c.push.apply(c,u)}var d=Date.parse(new Date),f=Object(s["a"])(d);o.endTime>f?o.activeState=!0:o.activeState=!1,o.tags=c,o.userList=null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.userList,o.serviceStaffList=null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.serviceStaffList,e.qrCodeUrl=null===(i=JSON.parse((null===o||void 0===o?void 0:o.qrCode)||"{}"))||void 0===i?void 0:i.qr_code,e.qrDict=o})).catch((function(t){e.$message.warning(t)})).finally((function(){}))},handleTableChange:function(t){this.pagination.current=null===t||void 0===t?void 0:t.current,this.init()},handleOk:function(){this.visible=!1},handleCancel:function(){this.visible=!1},delectIdsData:function(t){this.delectIds=t.radarId,this.delvisible=!0},delhandleOk:function(){var t=this;this.delvisible=!1;var e=[this.delectIds];Object(c["g"])(e).then((function(e){t.$message.success("删除成功"),t.init()})).catch((function(e){t.$message.warning(e)})).finally((function(){}))}}},T=j,N=(a("5555"),Object(x["a"])(T,i,o,!1,null,"651ae3c0",null)),E=N.exports,M={components:{TableData:E},data:function(){return{onSearchDataStr:"",onSearchData:"",tabsList:[{text:"链接",id:1,name:"DashboardCreate",state:"link"},{text:"PDF",id:2,name:"CreatePDF",state:"pdf"},{text:"文章",id:3,name:"CreateArticle",state:"article"}]}},watch:{$route:{handler:function(){var t=this.$route.query.state,e=1;"link"===t?e=1:"pdf"===t?e=2:"article"===t&&(e=3),this.$route.meta.seletedTab=e},immediate:!0}},methods:{searchfunc:function(){this.onSearchDataStr=this.onSearchData},changeTab:function(t){this.$route.meta.seletedTab=t;var e="";e=1===t?"link":2===t?"pdf":"article",this.$router.push({query:{state:e}})}}},R=M,$=Object(x["a"])(R,n,r,!1,null,"18576587",null);e["default"]=$.exports}}]);