(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0cbb8590"],{"02ed":function(t,e,i){"use strict";
/*!
 * Copyright 2018 yangjunbao <yangjunbao@shimo.im>. All rights reserved.
 * @since 2018-11-02 19:47:25
 */
var s;function a(){return void 0===s&&(s=document.queryCommandSupported("copy")?"copy":!!document.queryCommandSupported("cut")&&"cut"),s}function n(t){var e=document.createElement("input");return e.style.cssText="position: absolute; top: -9999px; left: -9999px;",document.body.appendChild(e),e.value=t,e.readOnly=!0,e.select(),e.setSelectionRange(0,t.length),e}function o(t){var e=a();if(!e)return!1;var i=n(t);try{return document.execCommand(e)}catch(s){return!1}finally{document.body.removeChild(i)}}i.d(e,"a",(function(){return o})),o.isSupported=a},"0395":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"aks-person",on:{click:function(e){return t.$emit("open")}}},[e("ul",{staticClass:"a-line-omit"},[t._l(t.usePersionList,(function(i){return e("li",{key:i.key,staticClass:"a-line-omit"},[e("a-tag",[t._v(t._s(i.tagName))])],1)})),t.usePersionList.length<1?e("p",{staticClass:"font-color-black-25"},[t._v(t._s(t.placeHolder))]):t._e()],2),t.usePersionList.length>2?e("span",{staticClass:"omit"},[t._v("等"+t._s(t.usePersionList.length)+"个账号")]):t._e(),e("a-icon",{attrs:{type:"caret-down"}})],1)},a=[],n={name:"SelectInput",props:{usePersionList:{type:[Array],default:function(){return[]}},placeHolder:{type:[String],default:""}}},o=n,l=(i("af8f"),i("2877")),r=Object(l["a"])(o,s,a,!1,null,"7ad15fc6",null);e["a"]=r.exports},"09c0":function(t,e,i){},1247:function(t,e,i){},"17db":function(t,e,i){"use strict";i("1a5a")},"1a5a":function(t,e,i){},"209d":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"phone-wrap"},[e("div",{staticClass:"contant-wrap"},[e("p",{staticStyle:{"text-align":"right"}},[e("a-icon",{staticClass:"close-circle",attrs:{type:"close-circle"},on:{click:function(e){return t.$emit("cancle")}}})],1),e("img",{staticClass:"bg",attrs:{src:"/imgs/chatBg.png"}}),e("WebHtml",{staticClass:"box-contant",attrs:{customerForm:t.customerForm}}),e("div",{staticClass:"code-img"},[e("p",[t._v("请扫码预览")]),e("vue-qr",{attrs:{text:t.qrCode,size:200}})],1)],1)])},a=[],n=i("471b"),o=i("658f5"),l=i.n(o),r={name:"PhonePreview",components:{WebHtml:n["a"],vueQr:l.a},props:{customerForm:{type:Object,default:function(){return{}}},qrCode:{type:String,default:""}},data:function(){return{}},methods:{}},c=r,u=(i("17db"),i("2877")),d=Object(u["a"])(c,s,a,!1,null,"088d8962",null);e["a"]=d.exports},2880:function(t,e,i){"use strict";i("592d")},"299d":function(t,e,i){},"2a86":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("h6",{staticClass:"dialog-title"},[t._v(t._s(t.title))]),t.tipText?e("span",{attrs:{name:"tip"}},[e("div",{staticClass:"tip"},[e("a-icon",{staticClass:"primaryColor",attrs:{type:"bell",theme:"filled"}}),t._v(" "+t._s(t.tipText)+" ")],1)]):t._e(),t._t("default"),t.footer?e("div",{staticClass:"foot-button"},[e("div",{staticClass:"left"},[t._t("bottomLeft")],2),e("a-space",{attrs:{size:12}},[t._t("footer"),e("a-button",{on:{click:function(e){return t.$emit("cancle")}}},[t._v(t._s(t.cancleText))]),e("a-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.$emit("serviceOk")}}},[t._v(t._s(t.okText))])],2)],1):t._e()],2)},a=[],n={name:"CommonModal",props:{title:{type:String,default:"标题"},cancleText:{type:String,default:"取消"},okText:{type:String,default:"确定"},tipText:{type:[String,Boolean],default:!1},footer:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}}},o=n,l=(i("2880"),i("2877")),r=Object(l["a"])(o,s,a,!1,null,"c55b780c",null);e["a"]=r.exports},3060:function(t,e,i){"use strict";i("6ff3")},"3c9e":function(t,e,i){"use strict";i("8b53")},"3ca7":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"background-white page-wrap"},[e("a-tabs",{attrs:{"default-active-key":"material"}},[e("a-tab-pane",{key:"material",attrs:{tab:"表单素材"}},[e("FormMaterial")],1),e("a-tab-pane",{key:"dateDetail",attrs:{tab:"数据详情"}},[e("DateDetail")],1)],1)],1)},a=[],n=(i("b0c0"),i("caad"),i("2532"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-wrap"},[e("header",{staticClass:"head"},[e("a-space",[e("a-button",{attrs:{type:""===t.active?"primary":""},on:{click:function(e){return t.tabClick("")}}},[t._v("全部")]),e("a-button",{attrs:{type:1===t.active?"primary":""},on:{click:function(e){return t.tabClick(1)}}},[t._v("已发布")]),e("a-button",{attrs:{type:0===t.active?"primary":""},on:{click:function(e){return t.tabClick(0)}}},[t._v("草稿箱")]),e("a-button",{attrs:{type:2===t.active?"primary":""},on:{click:function(e){return t.tabClick(2)}}},[t._v("已截止")])],1)],1),e("section",{staticClass:"section"},[e("ul",{staticClass:"list-wrap"},[e("li",{staticClass:"item-list itam-add",on:{click:function(e){t.isAddForm=!0}}},[e("div",{staticClass:"add-form"},[e("a-icon",{attrs:{type:"plus"}}),e("p",[t._v("新建表单")])],1)]),t._l(t.filterPageList,(function(i,s){return e("li",{key:s,staticClass:"item-list"},[e("header",{staticClass:"header"},[e("div",{staticClass:"publish-status",style:{background:t.publishStatusList[i.status].color}},[t._v(" "+t._s(t.publishStatusList[i.status].text)+" ")]),e("img",{staticClass:"bg-img",attrs:{src:i.cover}}),e("div",{staticClass:"foot-operate"},[e("span",{staticClass:"title"},[t._v(t._s(i.name))]),e("a-dropdown",{attrs:{trigger:["click"]}},[e("a-icon",{staticClass:"dash",attrs:{type:"dash"}}),e("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[2!==i.status?e("a-menu-item",{on:{click:function(e){return t.editForm(i,"edit")}}},[t._v(" 编辑 ")]):t._e(),e("a-menu-item",{on:{click:function(e){return t.deleteForm(i)}}},[t._v(" 删除 ")]),e("a-menu-item",{on:{click:function(e){return t.editForm(i,"reuse")}}},[t._v(" 复制 ")])],1)],1)],1)]),e("footer",{staticClass:"footer"},[e("div",{staticClass:"flex-box time-but"},[e("span",{staticClass:"time"},[t._v(" 更新于 "),e("a-tooltip",{attrs:{title:i.createTime}},[t._v(" "+t._s(i.createTime)+" ")])],1),e("div",[e("a-space",[1===i.status?e("a-button",{on:{click:function(e){return t.changeTime(i)}}},[t._v(" 截止 ")]):t._e(),e("a-button",{on:{click:function(e){return t.preview(i)}}},[t._v("预览")])],1)],1)]),e("div",{staticClass:"controls"},t._l(t.buttonList,(function(s){return e("a-button",{directives:[{name:"show",rawName:"v-show",value:t.publishStatusList[i.status].haveButton.includes(s.id),expression:"publishStatusList[item.status].haveButton.includes(but.id)"}],key:s.id,attrs:{type:"primary",size:"large"},on:{click:function(e){return t.statusButton(s.id,i)}}},[t._v(" "+t._s(s.text)+" ")])})),1)])])}))],2)]),e("a-modal",{attrs:{footer:null,centered:"",width:"680px"},model:{value:t.isAddForm,callback:function(e){t.isAddForm=e},expression:"isAddForm"}},[e("div",{staticClass:"model-title",attrs:{slot:"title"},slot:"title"},[t._v("选择你想要创建的场景")]),e("ul",{staticClass:"scene-list"},t._l(t.sceneList,(function(i,s){return e("li",{key:s,staticClass:"scene-item",on:{click:function(e){return t.createForm(i)}}},[e("a-avatar",{attrs:{src:i.img,size:65}}),e("div",{staticClass:"scene-info"},[e("strong",{staticClass:"scene-title"},[t._v(t._s(i.title))]),e("p",{staticClass:"scene-desc"},[t._v(t._s(i.subtitle))])])],1)})),0)]),t.isShowPhone?e("PhonePreview",{attrs:{customerForm:t.customerForm,qrCode:t.qrCode},on:{cancle:function(e){t.isShowPhone=!1}}}):t._e(),e("a-modal",{attrs:{footer:null,title:"分享",centered:"",width:"615px"},model:{value:t.shareVisible,callback:function(e){t.shareVisible=e},expression:"shareVisible"}},[e("Share",{attrs:{operation:t.operation}})],1),e("a-modal",{attrs:{footer:null,centered:"",destroyOnClose:"",width:"950px"},model:{value:t.visiblePublish,callback:function(e){t.visiblePublish=e},expression:"visiblePublish"}},[e("Publish",{attrs:{state:"preview"},on:{cancle:function(e){t.visiblePublish=!1}},model:{value:t.publishData,callback:function(e){t.publishData=e},expression:"publishData"}})],1),e("a-modal",{attrs:{footer:null,centered:"",destroyOnClose:"",width:"550px"},model:{value:t.isShowDeadline,callback:function(e){t.isShowDeadline=e},expression:"isShowDeadline"}},[e("Deadline",{attrs:{formId:t.formId,form:t.form,loading:t.deadlineLoading},on:{cancle:function(e){t.isShowDeadline=!1},serviceOk:t.changeDeadline}})],1)],1)}),o=[],l=(i("4de4"),i("d3b7"),i("a9e3"),i("9911"),i("52f9")),r=i("8f19"),c=i("209d"),u=i("de2f"),d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"share_model"},[e("div",{staticClass:"box"},[t._m(0),e("p",{staticClass:"qr-tip"},[t._v("可以将二维码或链接放置在海报、宣传单、朋友圈、线下等方式发送给客户")]),e("div",{staticClass:"box-bottom"},[e("div",{staticClass:"qr-box flex-row"},[e("vue-qr",{attrs:{text:t.operation.link,size:120,callback:t.qrCallback}}),e("span",{on:{click:function(e){return t.downFile(t.operation.link)}}},[t._v("下载二维码")])],1),e("div",{staticClass:"box-bottom-copy"},[e("div",{staticClass:"qr-url-box"},[e("textarea",{ref:"letters",staticClass:"copy-text",attrs:{type:"text",readonly:""},domProps:{value:t.operation.link}})]),e("p",{staticClass:"copy-url",on:{click:function(e){return t.copyUrl(t.operation.link)}}},[t._v("复制链接")])])])])])},p=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"box-header"},[e("p",{staticClass:"title"},[t._v("方式一：")]),e("div",{staticClass:"right"},[t._v("下载表单二维码或复制链接")])])}],m=i("02ed"),f=i("658f5"),h=i.n(f),v={name:"Share",components:{vueQr:h.a},props:{operation:{type:Object,default:function(){return{}}}},data:function(){return{base64:""}},created:function(){},methods:{copyUrl:function(t){t&&(Object(m["a"])(t),this.$message.success("复制成功"))},downFile:function(){var t=document.createElement("a");t.href=this.base64,t.download="".concat(this.operation.name,".jpg"),document.body.appendChild(t),t.click(),t.remove()},qrCallback:function(t){this.base64=t}}},b=v,g=(i("3060"),i("2877")),y=Object(g["a"])(b,d,p,!1,null,"52ee5374",null),x=y.exports,k=function(){var t=this,e=t._self._c;return e("CommonModal",t._b({attrs:{loading:t.loading},on:{cancle:function(e){return t.$emit("cancle")},serviceOk:t.serviceOk}},"CommonModal",t.source,!1),[e("a-radio-group",{staticClass:"checkout-contant",model:{value:t.form.isForeverEffect,callback:function(e){t.$set(t.form,"isForeverEffect",e)},expression:"form.isForeverEffect"}},t._l(t.deadlineList,(function(i,s){return e("a-radio",{key:s,attrs:{value:i.id}},[t._v(" "+t._s(i.text)+" ")])})),1),0===t.form.isForeverEffect?e("div",{staticClass:"time-contant"},[e("a-date-picker",{attrs:{placeholder:"请选择截止日期",disabledDate:t.disabledDate,format:"YYYY-MM-DD HH:mm:ss","show-time":{defaultValue:t.$moment("00:00:00","HH:mm:ss")}},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}})],1):t._e()],1)},C=[],_=i("2a86"),L={name:"Deadline",components:{CommonModal:_["a"]},props:{formId:{type:String,default:""},loading:{type:Boolean,default:!1},form:{type:Object,default:function(){return{endTime:"",isForeverEffect:1}}}},data:function(){return{source:{title:"截止",tipText:"此表单已发布，截止后将不能编辑表单内容并停止数据监测"},deadlineList:[{text:"永久有效",id:1},{text:"自定义日期",id:0}]}},methods:{disabledDate:function(t){return t&&t<this.$moment().subtract("day")},serviceOk:function(){var t=this;this.verify().then((function(){t.$emit("serviceOk",t.form,t.formId)})).catch((function(e){t.$message.warning(e)}))},verify:function(){var t=this;return new Promise((function(e,i){Boolean(t.form.isForeverEffect)||(t.form.endTime||i("请选择时间"),t.form.endTime<t.$moment()&&i("截止时间不能早于当前时刻")),e()}))}}},w=L,F=(i("f99c"),Object(g["a"])(w,k,C,!1,null,"35d70264",null)),T=F.exports,S={name:"FormMaterial",components:{PhonePreview:c["a"],Share:x,Publish:u["a"],Deadline:T},data:function(){return{publishStatusList:[{text:"未发布",color:"gray",id:0,haveButton:[1]},{text:"已发布",color:"green",id:1,haveButton:[2,4]},{text:"已截止",color:"red",id:2,haveButton:[3,4]}],buttonList:[{text:"发布",id:1},{text:"分享",id:2},{text:"复用模板",id:3},{text:"数据详情",id:4}],visiblePublish:!1,isShowDeadline:!1,publishData:{},pageList:[],shareVisible:!1,operation:{},active:"",isAddForm:!1,sceneList:l["d"],customerForm:{},qrCode:"",isShowPhone:!1,formId:"",form:{},deadlineLoading:!1}},computed:{filterPageList:function(){var t=this;return this.pageList.filter((function(e){return""===t.active||e.status===t.active}))}},created:function(){this.init()},methods:{changeDeadline:function(t,e){var i=this,s={customerForm:{formId:e,effectStatus:Boolean(t.isForeverEffect),endTime:0===t.isForeverEffect?t.endTime.format("YYYY-MM-DD HH:mm:ss"):""}};this.deadlineLoading=!0,Object(r["g"])(s).then((function(t){i.init(),i.isShowDeadline=!1,i.$message.success("修改截止时间成功")})).catch((function(t){i.$message.error(t)})).finally((function(){i.deadlineLoading=!1}))},changeTime:function(t){this.form={isForeverEffect:Number(t.effectStatus),endTime:t.endTime?this.$moment(t.endTime):null},this.formId=t.formId,this.isShowDeadline=!0},statusButton:function(t,e){3===t&&this.$router.push({name:"FormEditor",query:{state:e.type,formId:e.formId,type:"reuse"}}),1===t&&this.$router.push({name:"FormEditor",query:{state:e.type,formId:e.formId,type:"publish"}}),4===t&&this.$router.push("/marketingCenter/formTable/detail?formId=".concat(e.formId)),2===t&&(this.operation=e,this.shareVisible=!0)},editForm:function(t,e){this.$router.push({name:"FormEditor",query:{state:t.type,formId:t.formId,type:e}})},preview:function(t){var e=this;this.publishData=t,1!==t.status||t.actionList?(this.customerForm=JSON.parse(t.asideLeftData),this.qrCode=t.link+"&preview=true",this.isShowPhone=!0):this.getCustomerFormInfo(t.formId).then((function(i){e.visiblePublish=!0,t.actionList=i,e.publishData.actionList=i})).catch((function(t){e.$message.error(t)}))},tabClick:function(t){this.active=t},createForm:function(t){this.$router.push({name:"FormEditor",query:{state:t.id}})},init:function(){var t=this,e={status:this.active,currentPage:1,pageSize:999,source:"form_qr"};Object(r["f"])(e).then((function(e){t.pageList=e.data.list})).catch((function(e){t.$message.error(e)}))},deleteForm:function(t){var e=this;this.$confirm({title:"提示",icon:"",content:"确定后将删除表单名称".concat(t.name,"表单，删除后不可恢复，是否删除？"),onOk:function(){e.customerFormDelete(t.formId)}})},customerFormDelete:function(t){var e=this;Object(r["d"])([t]).then((function(t){e.$message.success("删除成功"),e.init()})).catch((function(t){e.$message.error(t)}))},getCustomerFormInfo:function(t){return new Promise((function(e,i){Object(r["e"])({formId:t}).then((function(t){e(t.data.actionList)})).catch((function(t){i(t)}))}))}}},I=S,O=(i("a36b"),Object(g["a"])(I,n,o,!1,null,"4ae52132",null)),D=O.exports,$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"date_detail"},[e("div",{staticClass:"content-header"},[e("a-space",[e("a-input-search",{staticClass:"search-name",attrs:{allowClear:"",placeholder:"请输入表单名称搜索"},on:{search:t.getDateInfoList},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}})],1)],1),e("div",{staticClass:"content-table"},[e("a-table",{staticClass:"background-white table",attrs:{columns:t.columns,"data-source":t.tableList,pagination:t.pagination,loading:t.loading},on:{change:t.changePage},scopedSlots:t._u([{key:"creatorName",fn:function(i){return e("div",{},[e("div",[e("a-tag",[e("a-icon",{attrs:{type:"user"}}),t._v(" "+t._s(i)+" ")],1)],1)])}},{key:"tagIdList",fn:function(i){return e("div",{},[i.length>0?e("div",[t._l(i,(function(i,s){return e("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen||s<2,expression:"isOpen || index < 2"}],key:i,staticClass:"mb-5"},[e("a-tag",[t._v(t._s(i))])],1)})),i.length>2?e("div",[e("a-space",{attrs:{size:12}},[e("span",{staticClass:"aks-tips pointer",on:{click:function(e){t.isOpen=!t.isOpen}}},[t._v(" "+t._s(t.isOpen?"收起":"展开")+" "),e("a-icon",{attrs:{type:t.isOpen?"up":"down"}})],1)])],1):t._e()],2):e("div",[t._v("-")])])}},{key:"operation",fn:function(i){return e("div",{},[e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.details(i)}}},[t._v("详情")]),e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.modification(i)}}},[t._v("修改")]),e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.share(i)}}},[t._v("分享")])],1)}}])},[e("span",{attrs:{slot:"clickNumber"},slot:"clickNumber"},[t._v(" 总点击人数 "),e("a-popover",{attrs:{placement:"top"}},[e("template",{slot:"content"},[e("p",[t._v("点击此表单的总人数，重复点击按一人记录")])]),e("a-icon",{staticClass:"col_85",attrs:{type:"question-circle"}})],2)],1),e("span",{attrs:{slot:"fillNumber"},slot:"fillNumber"},[t._v(" 总填写人数 "),e("a-popover",{attrs:{placement:"top"}},[e("template",{slot:"content"},[e("p",[t._v("填写此表单的总人数")])]),e("a-icon",{staticClass:"col_85",attrs:{type:"question-circle"}})],2)],1),e("span",{attrs:{slot:"submitNumber"},slot:"submitNumber"},[t._v(" 总提交人数 "),e("a-popover",{attrs:{placement:"top"}},[e("template",{slot:"content"},[e("p",[t._v("提交此表单的总人数")])]),e("a-icon",{staticClass:"col_85",attrs:{type:"question-circle"}})],2)],1)])],1),e("a-modal",{attrs:{footer:null,title:"分享",centered:"",width:"615px"},model:{value:t.shareVisible,callback:function(e){t.shareVisible=e},expression:"shareVisible"}},[e("Share",{attrs:{operation:t.operation}})],1)],1)},j=[],P=(i("d81d"),{name:"DateDetail",components:{Share:x},data:function(){return{keyWord:"",operation:{},columns:[{title:"表单名称",dataIndex:"name",key:"name"},{title:"客户标签",dataIndex:"tagIdList",key:"tagIdList",scopedSlots:{customRender:"tagIdList"}},{title:"创建人",dataIndex:"creatorName",key:"creatorName",scopedSlots:{customRender:"creatorName"}},{dataIndex:"totalClickPeopleCount",key:"totalClickPeopleCount",slots:{title:"clickNumber"}},{dataIndex:"totalWritePeopleCount",key:"totalWritePeopleCount",slots:{title:"fillNumber"}},{key:"totalSubmitPeopleCount",dataIndex:"totalSubmitPeopleCount",slots:{title:"submitNumber"}},{title:"状态",key:"statusTxt",dataIndex:"statusTxt"},{title:"创建时间",dataIndex:"createTime",key:"createTime",customRender:function(t,e,i){return t||"-"}},{title:"截止时间",dataIndex:"endTime",key:"endTime",customRender:function(t,e,i){return t||"-"}},{title:"提交次数限制",dataIndex:"submitCountLimitTxt",key:"submitCountLimitTxt"},{title:"操作",key:"operation",align:"right",scopedSlots:{customRender:"operation"}}],tableList:[],loading:!1,isOpen:!1,pagination:{current:1,pageSize:10,total:0},shareVisible:!1}},created:function(){this.getDateInfoList()},methods:{getDateInfoList:function(){var t=this,e={name:this.keyWord?this.keyWord:null,currentPage:this.pagination.current,pageSize:this.pagination.pageSize};Object(r["l"])(e).then((function(e){null!==e&&void 0!==e&&e.data&&(t.pagination.total=Number(e.data.total),t.disposeClientList(e.data.list))})).catch((function(e){t.$message.error(e)})).finally((function(){return t.loading=!1}))},disposeClientList:function(t){this.tableList=t.map((function(t){return"0"==t.status?t.statusTxt="未发布":"1"==t.status?t.statusTxt="已发布":"2"==t.status&&(t.statusTxt="已截止"),t.tagNames?t.tagIdList=t.tagNames.split("、"):t.tagIdList=[],"1"==t.submitCountLimit?t.submitCountLimitTxt="仅限提交一次":t.submitCountLimitTxt="不限次数",t.key=t.formId,Object.assign({operation:t},t)}))},changePage:function(t){var e=t.current;this.pagination.current=e,this.getDateInfoList()},details:function(t){this.$router.push("/marketingCenter/formTable/detail?formId=".concat(t.formId))},modification:function(t){this.$router.push({name:"FormEditor",query:{state:t.type,formId:t.formId}})},share:function(t){this.operation=t,this.shareVisible=!0}}}),q=P,E=(i("712f"),Object(g["a"])(q,$,j,!1,null,"5c8cd9d4",null)),R=E.exports,N=function(){var t=this,e=t._self._c;return e("div",[t._v(" Explain ")])},M=[],z={name:"Explain",components:{},data:function(){return{}},methods:{}},V=z,B=Object(g["a"])(V,N,M,!1,null,"6ab11202",null),A=B.exports,U={name:"FormTable",components:{FormMaterial:D,DateDetail:R,Explain:A},data:function(){return{}},methods:{}},H=U,W=(i("7f2c"),Object(g["a"])(H,s,a,!1,null,"0426d30a",null));e["default"]=W.exports},"471b":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[t.getFormSet.children[0].isChecked?e("div",{staticClass:"form-img"},[e("img",{attrs:{src:t.getFormSet.children[0].value.compress},on:{error:t.errorImg}})]):t._e(),e("div",{staticClass:"form-name"},[e("a-input",{attrs:{placeholder:"请输入表单名称",size:"large"},model:{value:t.getFormSet.children[1].value,callback:function(e){t.$set(t.getFormSet.children[1],"value",e)},expression:"getFormSet.children[1].value"}})],1),t.getFormSet.children[2].isChecked?e("div",{staticClass:"form-describe"},[e("a-textarea",{attrs:{placeholder:"请输入表单说明",autoSize:{minRows:4,maxRows:4}},model:{value:t.getFormSet.children[2].value,callback:function(e){t.$set(t.getFormSet.children[2],"value",e)},expression:"getFormSet.children[2].value"}})],1):t._e(),e("ul",{staticClass:"background-white"},[t._l(t.customerForm.componentVoList,(function(i,s){return e("li",{key:"".concat(i.id+s),staticClass:"list-data",class:t.isShowBorder(i,"cross",s),on:{click:function(e){return t.chooseList(s,i)}}},[e("div",{staticClass:"list-data-contant",class:t.isShowBorder(i,"cross",s)},[e("div",[i.hideTitle?t._e():e("p",{staticClass:"title"},[t.isRequire(i,"verify")?e("span",{staticClass:"require"},[t._v("*")]):t._e(),t._v(" "+t._s("".concat(s+1))+" "+t._s(t.getTitle(i,"title"))+" ")]),"input"===i.type?e("div",[e("a-input",{attrs:{placeholder:i.children[0].value}})],1):t._e(),"paging"===i.type?e("div",{staticClass:"paging"},[e("p",[t._v("第"+t._s(i.index+1)+"页/共"+t._s(t.customerForm.pageSize)+"页")])]):t._e(),"image-text"===i.type?e("div",[e("a-input",{attrs:{placeholder:i.children[0].value}}),e("div",{staticClass:"form-img"},[e("img",{attrs:{src:i.children[1].value.compress},on:{error:t.errorImg}})])],1):t._e(),"slideshow"===i.type?e("div",[i.children[1].value.length>0&&t.slideshow?e("a-carousel",{attrs:{autoplay:"",autoplaySpeed:i.children[0].value}},t._l(i.children[1].value,(function(i,s){return e("div",{key:s},[e("img",{attrs:{src:i.thumbUrl},on:{error:t.errorImg}})])})),0):e("div",{staticClass:"form-img"},[e("img",{attrs:{src:""},on:{error:t.errorImg}})])],1):t._e(),"one_picture"===i.type?e("div",["1"===i.children[0].value?e("div",{staticClass:"form-img"},[e("img",{attrs:{src:i.children[1].value.compress},on:{error:t.errorImg}})]):t._e(),"2"===i.children[0].value?e("div",[e("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar","list-type":"picture-card","show-upload-list":!1,accept:t.accept}},[e("div",[e("a-icon",{attrs:{type:"plus"}}),e("div",{staticClass:"ant-upload-text"},[t._v(" "+t._s(i.children[2].value)+" ")])],1)])],1):t._e()]):t._e(),"textarea"===i.type?e("div",[e("a-textarea",{attrs:{placeholder:i.children[1].tips,autoSize:{minRows:4,maxRows:4}},model:{value:i.children[1].value,callback:function(e){t.$set(i.children[1],"value",e)},expression:"item.children[1].value"}})],1):t._e(),"select"===i.type?e("div",[e("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:i.children[1].value}},t._l(t.getSelect(i,"option"),(function(i){return e("a-select-option",{key:i.id,attrs:{value:i.value}},[t._v(" "+t._s(i.value)+" ")])})),1)],1):t._e(),"cascade3"===i.type?e("div",[e("div",{staticClass:"solid-bar"},t._l(t.getAddress(i.children),(function(i,s){return e("a-select",{key:s,staticClass:"solid-children",model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"address.value"}},[e("a-select-option",{key:i.title,attrs:{value:i.title}},[t._v(" "+t._s(i.title)+" ")])],1)})),1),"address"===i.id?e("a-textarea",{staticClass:"address-textarea",attrs:{placeholder:i.children[3].tips,autoSize:{minRows:4,maxRows:4}},model:{value:i.children[3].value,callback:function(e){t.$set(i.children[3],"value",e)},expression:"item.children[3].value"}}):t._e()],1):t._e(),"sex"===i.id?e("div",[e("div",{staticClass:"solid-bar"},[e("a-radio-group",{model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"item.value"}},t._l(i.option,(function(s){return e("a-radio",{key:s.id,style:t.getRadioStyle(i,"arrangement"),attrs:{value:s.id}},[t._v(" "+t._s(s.text)+" ")])})),1)],1)]):t._e(),"radio"===i.type?e("div",[e("div",{staticClass:"solid-bar"},[e("a-radio-group",{model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"item.value"}},t._l(i.children[1].list,(function(s){return e("a-radio",{key:s.id,style:t.getRadioStyle(i,"arrangement"),attrs:{value:s.id}},[s.baseImg.compress?e("a-avatar",{attrs:{src:s.baseImg.compress,size:22,shape:"square"}}):t._e(),t._v(" "+t._s(s.value)+" ")],1)})),1)],1)]):t._e(),"checkbox"===i.type?e("div",[e("div",{staticClass:"solid-bar"},[e("a-checkbox-group",{model:{value:i.value,callback:function(e){t.$set(i,"value",e)},expression:"item.value"}},t._l(i.children[1].list,(function(s){return e("div",{key:s.id,staticStyle:{"line-height":"30px"},style:t.getRadioStyle(i,"arrangement")},[e("a-checkbox",{key:s.id,attrs:{value:s.id}},[s.baseImg.compress?e("a-avatar",{attrs:{src:s.baseImg.compress,size:22,shape:"square"}}):t._e(),t._v(" "+t._s(s.value)+" ")],1),e("br")],1)})),0)],1)]):t._e()]),t.activite===s?e("div",{staticClass:"list-data-right"},[e("p",{on:{click:function(e){return e.stopPropagation(),t.upData(s)}}},[e("a-tooltip",{attrs:{title:"上移"}},[e("a-icon",{attrs:{type:"up"}})],1)],1),e("p",{on:{click:function(e){return e.stopPropagation(),t.downData(s)}}},[e("a-tooltip",{attrs:{title:"下移"}},[e("a-icon",{attrs:{type:"down"}})],1)],1),e("p",{on:{click:function(e){return e.stopPropagation(),t.deleteData(s)}}},[e("a-tooltip",{attrs:{title:"删除"}},[e("a-icon",{attrs:{type:"delete"}})],1)],1)]):t._e()])])})),e("a-button",{staticClass:"foot-bottom",attrs:{type:"primary",block:"",size:"large"}},[t._v(t._s(t.getFormSet.children[3].value))])],2)])},a=[],n=(i("a9e3"),i("7db0"),i("d3b7"),i("a434"),i("4de4"),{name:"WebHtml",components:{},props:{customerForm:{type:Object,default:function(){return{}}},value:{type:[String,Number],default:""}},computed:{getFormSet:function(){var t;return null===(t=this.customerForm.asideRightData)||void 0===t?void 0:t.find((function(t){return"formSet"===t.id}))}},watch:{customerForm:{handler:function(){var t=this;setTimeout((function(){var e,i,s=t.customerForm.componentVoList.find((function(t){return"slideshow"===t.type}));null!==s&&void 0!==s&&null!==(e=s.children[1])&&void 0!==e&&null!==(i=e.value[0])&&void 0!==i&&i.thumbUrl&&(t.slideshow=!0,t.$forceUpdate())}),300),this.$forceUpdate()},deep:!0},activite:{handler:function(){this.$emit("input",this.activite)}},value:{handler:function(){this.activite=this.value},immediate:!0}},data:function(){return{slideshow:!1,accept:".bmp,.jpg,.jpeg,.png,.tif,.gif,.pcx,.tga,.exif,.fpx,.svg,.psd,.cdr,.pcd,.dxf,.ufo,.eps,.ai,.raw,.WMF,.webp",activite:-1}},methods:{upData:function(t){if(0===t)this.$message.warning("不能上移了");else{var e=this.customerForm.componentVoList[t];this.customerForm.componentVoList[t]=this.customerForm.componentVoList[t-1],this.activite=t-1,this.customerForm.componentVoList[t-1]=e,this.$forceUpdate()}},deleteData:function(t){this.customerForm.componentVoList.splice(t,1),this.$emit("deleteData")},downData:function(t){if(t===this.customerForm.componentVoList.length-1)this.$message.warning("不能下移了");else{var e=this.customerForm.componentVoList[t];this.customerForm.componentVoList[t]=this.customerForm.componentVoList[t+1],this.activite=t+1,this.customerForm.componentVoList[t+1]=e,this.$forceUpdate()}},chooseList:function(t,e){this.$emit("chooseList",e,null,!0),this.activite=t},isShowBorder:function(t,e,i){var s,a,n=null===(s=t.children)||void 0===s?void 0:s.find((function(t){return t.id===e})),o=[];null!==n&&void 0!==n&&n.list[0].isChecked&&o.push(null===n||void 0===n||null===(a=n.list[0])||void 0===a?void 0:a.value);return i===this.activite&&o.push("active"),o},isRequire:function(t,e){var i,s=t.children.find((function(t){return t.id===e}));return!(null!==s&&void 0!==s&&null!==(i=s.list[0])&&void 0!==i&&i.isChecked)},getAddress:function(t){return t.filter((function(t){return"input"===t.type}))},getRadioStyle:function(t,e){var i=t.children.find((function(t){return t.id===e})),s={marginRight:0,height:"30px",lineHeight:"30px"};return s.width="".concat(100/i.value,"%"),s},getSelect:function(t,e){var i=t.children.find((function(t){return t.id===e}));return null===i||void 0===i?void 0:i.list},getTitle:function(t,e){var i=t.children.find((function(t){return t.id===e}));return(null===i||void 0===i?void 0:i.value)||t.title},errorImg:function(t){t.target.src="/imgs/formTable/empty-img.png"}}}),o=n,l=(i("3c9e"),i("2877")),r=Object(l["a"])(o,s,a,!1,null,"5f1de929",null);e["a"]=r.exports},"52f9":function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"d",(function(){return o}));var s=[{title:"填写项",key:"fillIn",children:[{title:"信息",tips:"不能重复添加同一个元素",isRepetition:!1,list:[{title:"公司",id:"company",type:"input",count_type:"input",exhibition:!1,data:{value:"",img:{}},children:[{title:"默认文案设置",id:"defaultText",isChecked:!1,value:"请输入公司名称",tips:"请输入",maxLength:15,type:"input"},{title:"校验设置",id:"verify",list:[{isChecked:!1,value:!1,tips:"设置此字段为非必填项"}],type:"switch"},{title:"分割线设置",id:"cross",list:[{isChecked:!1,id:"parting",value:"soild",tips:"显示分割线",tooltip:"开启「显示分割线」,该字段上方会出现一条线，用于分割表单上下文",list:[{text:"横线",label:"soild"},{text:"虚线",label:"dashed"}]}],type:"switch"}]},{title:"地址",id:"address",count_type:"select",type:"cascade3",exhibition:!1,data:{value:"",img:{}},children:[{title:"省份",isChecked:!1,disabled:!0,value:"省份",tips:"请输入",maxLength:15,type:"input"},{title:"城市",isChecked:!1,disabled:!0,value:"城市",tips:"请输入",maxLength:15,type:"input"},{title:"区/县",isChecked:!1,disabled:!0,value:"区/县",tips:"请输入",maxLength:15,type:"input"},{title:"街道",isChecked:!1,value:"街道信息",tips:"街道信息",maxLength:100,type:"textarea"},{title:"校验设置",id:"verify",list:[{isChecked:!1,value:!1,tips:"设置此字段为非必填项"}],type:"switch"},{title:"分割线设置",id:"cross",list:[{isChecked:!1,id:"parting",value:"soild",tips:"显示分割线",tooltip:"开启「显示分割线」,该字段上方会出现一条线，用于分割表单上下文",list:[{text:"横线",label:"soild"},{text:"虚线",label:"dashed"}]}],type:"switch"}]},{title:"姓名",id:"name",type:"input",count_type:"input",exhibition:!1,data:{value:"",img:{}},children:[{title:"默认文案设置",id:"defaultText",isChecked:!1,value:"请输入姓名",tips:"请输入",maxLength:15,type:"input"},{title:"校验设置",id:"verify",list:[{isChecked:!1,value:!1,tips:"设置此字段为非必填项"}],type:"switch"},{title:"分割线设置",id:"cross",list:[{isChecked:!1,id:"parting",value:"soild",tips:"显示分割线",tooltip:"开启「显示分割线」,该字段上方会出现一条线，用于分割表单上下文",list:[{text:"横线",label:"soild"},{text:"虚线",label:"dashed"}]}],type:"switch"}]},{title:"微信号",id:"wechat",type:"input",count_type:"input",exhibition:!1,data:{value:"",img:{}},children:[{title:"默认文案设置",id:"defaultText",isChecked:!1,value:"请输入微信号",tips:"请输入",maxLength:15,type:"input"},{title:"校验设置",id:"verify",list:[{isChecked:!1,value:!1,tips:"设置此字段为非必填项"}],type:"switch"},{title:"分割线设置",id:"cross",list:[{isChecked:!1,id:"parting",value:"soild",tips:"显示分割线",tooltip:"开启「显示分割线」,该字段上方会出现一条线，用于分割表单上下文",list:[{text:"横线",label:"soild"},{text:"虚线",label:"dashed"}]}],type:"switch"}]},{title:"职务",id:"post",type:"input",count_type:"input",exhibition:!1,data:{value:"",img:{}},children:[{title:"默认文案设置",id:"defaultText",isChecked:!1,value:"请输入职务",tips:"请输入",maxLength:15,type:"input"},{title:"校验设置",id:"verify",list:[{isChecked:!1,value:!1,tips:"设置此字段为非必填项"}],type:"switch"},{title:"分割线设置",id:"cross",list:[{isChecked:!1,id:"parting",value:"soild",tips:"显示分割线",tooltip:"开启「显示分割线」,该字段上方会出现一条线，用于分割表单上下文",list:[{text:"横线",label:"soild"},{text:"虚线",label:"dashed"}]}],type:"switch"}]},{title:"性别",id:"sex",value:"",type:"sex",count_type:"select",exhibition:!1,data:{value:"",img:{}},option:[{text:"男",id:0},{text:"女",id:1}],children:[{title:"排列方式",id:"arrangement",isChecked:!1,value:"1",tips:"请输入",maxLength:15,type:"radio",list:[{title:"1列",label:"1"},{title:"2列",label:"2"}]},{title:"校验设置",id:"verify",list:[{isChecked:!1,value:!1,tips:"设置此字段为非必填项"}],type:"switch"},{title:"分割线设置",id:"cross",list:[{isChecked:!1,id:"parting",value:"soild",tips:"显示分割线",tooltip:"开启「显示分割线」,该字段上方会出现一条线，用于分割表单上下文",list:[{text:"横线",label:"soild"},{text:"虚线",label:"dashed"}]}],type:"switch"}]},{title:"手机",id:"phoneNum",type:"input",count_type:"input",exhibition:!1,data:{value:"",img:{}},children:[{title:"默认文案设置",id:"defaultText",isChecked:!1,value:"请输入手机",tips:"请输入",maxLength:15,type:"input"},{title:"校验设置",id:"verify",list:[{isChecked:!1,value:!1,tips:"设置此字段为非必填项"}],type:"switch"},{title:"分割线设置",id:"cross",list:[{isChecked:!1,id:"parting",value:"soild",tips:"显示分割线",tooltip:"开启「显示分割线」,该字段上方会出现一条线，用于分割表单上下文",list:[{text:"横线",label:"soild"},{text:"虚线",label:"dashed"}]}],type:"switch"}]},{title:"生日",id:"birthday",type:"cascade3",exhibition:!1,data:{value:"",img:{}},count_type:"select",children:[{title:"年份",isChecked:!1,disabled:!0,value:"年份",tips:"请输入",maxLength:15,type:"input"},{title:"月份",isChecked:!1,disabled:!0,value:"月份",tips:"请输入",maxLength:15,type:"input"},{title:"日期",isChecked:!1,disabled:!0,value:"日期",tips:"请输入",maxLength:15,type:"input"},{title:"校验设置",id:"verify",list:[{isChecked:!1,value:!1,tips:"设置此字段为非必填项"}],type:"switch"},{title:"分割线设置",id:"cross",list:[{isChecked:!1,id:"parting",value:"soild",tips:"显示分割线",tooltip:"开启「显示分割线」,该字段上方会出现一条线，用于分割表单上下文",list:[{text:"横线",label:"soild"},{text:"虚线",label:"dashed"}]}],type:"switch"}]}]},{title:"选项",tips:"可重复添加",isRepetition:!0,list:[{title:"单下拉框",id:"single",type:"select",count_type:"select",exhibition:!1,data:{value:"",img:{}},children:[{title:"标题",id:"title",isChecked:!1,value:"单下拉框",tips:"请输入",maxLength:80,type:"input"},{title:"默认文案设置",id:"defaultText",isChecked:!1,value:"请选择",tips:"请输入",maxLength:15,type:"input"},{title:"选项内容",id:"option",subtitle:"客户标签",subtitleTooltip:"开启【客户标签】，可给选项设置不同的标签",subtitleValue:!1,isChecked:!1,value:"请选择",tips:"请输入",maxLength:20,type:"select",defaultItem:{value:"选项",selectTagList:[]},list:[{value:"选项1",selectTagList:[],id:0},{value:"选项2",selectTagList:[],id:1},{value:"选项3",selectTagList:[],id:2}]},{title:"校验设置",id:"verify",list:[{isChecked:!1,value:!1,tips:"设置此字段为非必填项"}],type:"switch"},{title:"分割线设置",id:"cross",list:[{isChecked:!1,id:"parting",value:"soild",tips:"显示分割线",tooltip:"开启「显示分割线」,该字段上方会出现一条线，用于分割表单上下文",list:[{text:"横线",label:"soild"},{text:"虚线",label:"dashed"}]}],type:"switch"}]},{title:"单选",id:"multipleChoice",type:"radio",value:"",count_type:"select",exhibition:!1,data:{value:"",img:{}},children:[{title:"标题",id:"title",isChecked:!1,value:"单选",tips:"请输入",maxLength:80,type:"input"},{title:"选项内容",subtitle:"客户标签",subtitleTooltip:"开启【客户标签】，可给选项设置不同的标签",subtitleValue:!1,isUpdateImg:!0,accept:".bmp,.jpg,.jpeg,.png,.tif,.gif,.pcx,.tga,.exif,.fpx,.svg,.psd,.cdr,.pcd,.dxf,.ufo,.eps,.ai,.raw,.WMF,.webp",isChecked:!1,value:"请选择",tips:"请输入",maxLength:15,type:"select",defaultItem:{value:"选项",selectTagList:[],baseImg:""},list:[{value:"选项1",selectTagList:[],baseImg:"",id:1},{value:"选项3",selectTagList:[],baseImg:"",id:2},{value:"选项2",selectTagList:[],baseImg:"",id:3}]},{title:"排列方式",id:"arrangement",isChecked:!1,value:"1",tips:"请输入",maxLength:15,type:"radio",list:[{title:"1列",label:"1"},{title:"2列",label:"2"},{title:"3列",label:"3"}]},{title:"校验设置",id:"verify",list:[{isChecked:!1,value:!1,tips:"设置此字段为非必填项"}],type:"switch"},{title:"分割线设置",id:"cross",list:[{isChecked:!1,id:"parting",value:"soild",tips:"显示分割线",tooltip:"开启「显示分割线」,该字段上方会出现一条线，用于分割表单上下文",list:[{text:"横线",label:"soild"},{text:"虚线",label:"dashed"}]}],type:"switch"}]},{title:"多选",id:"multiSelect",type:"checkbox",count_type:"select",exhibition:!1,data:{value:[],img:{}},children:[{title:"标题",id:"title",isChecked:!1,value:"多选",tips:"请输入",maxLength:80,type:"input"},{title:"选项内容",subtitle:"客户标签",subtitleTooltip:"开启【客户标签】，可给选项设置不同的标签",subtitleValue:!1,isUpdateImg:!0,accept:".bmp,.jpg,.jpeg,.png,.tif,.gif,.pcx,.tga,.exif,.fpx,.svg,.psd,.cdr,.pcd,.dxf,.ufo,.eps,.ai,.raw,.WMF,.webp",isChecked:!1,value:"请选择",tips:"请输入",maxLength:15,type:"select",defaultItem:{value:"选项",selectTagList:[],baseImg:""},list:[{value:"选项1",selectTagList:[],baseImg:"",id:1},{value:"选项3",selectTagList:[],baseImg:"",id:2},{value:"选项2",selectTagList:[],baseImg:"",id:3}]},{title:"排列方式",id:"arrangement",isChecked:!1,value:"1",tips:"请输入",maxLength:15,type:"radio",list:[{title:"1列",label:"1"},{title:"2列",label:"2"},{title:"3列",label:"3"}]},{title:"校验设置",id:"verify",list:[{isChecked:!1,value:!1,tips:"设置此字段为非必填项"}],type:"switch"},{title:"分割线设置",id:"cross",list:[{isChecked:!1,id:"parting",value:"soild",tips:"显示分割线",tooltip:"开启「显示分割线」,该字段上方会出现一条线，用于分割表单上下文",list:[{text:"横线",label:"soild"},{text:"虚线",label:"dashed"}]}],type:"switch"}]}]},{title:"填空",tips:"可重复添加",isRepetition:!0,list:[{title:"多行填空",id:"textarea",type:"textarea",count_type:"input",exhibition:!1,data:{value:"",img:{}},children:[{title:"标题",id:"title",isChecked:!1,value:"多行填空",tips:"请输入",maxLength:80,type:"input"},{title:"默认文案设置",id:"defaultText",isChecked:!1,value:"请输入",tips:"请输入",maxLength:15,type:"input"},{title:"校验设置",id:"verify",list:[{isChecked:!1,value:!1,tips:"设置此字段为非必填项"}],type:"switch"},{title:"分割线设置",id:"cross",list:[{isChecked:!1,id:"parting",value:"soild",tips:"显示分割线",tooltip:"开启「显示分割线」,该字段上方会出现一条线，用于分割表单上下文",list:[{text:"横线",label:"soild"},{text:"虚线",label:"dashed"}]}],type:"switch"}]},{title:"单行填空",id:"input",type:"input",count_type:"input",exhibition:!1,data:{value:"",img:{}},children:[{title:"标题",id:"title",isChecked:!1,value:"单行填空",tips:"请输入",maxLength:80,type:"input"},{title:"默认文案设置",id:"defaultText",isChecked:!1,value:"请输入",tips:"请输入",maxLength:15,type:"input"},{title:"校验设置",id:"verify",list:[{isChecked:!1,value:!1,tips:"设置此字段为非必填项"}],type:"switch"},{title:"分割线设置",id:"cross",list:[{isChecked:!1,id:"parting",value:"soild",tips:"显示分割线",tooltip:"开启「显示分割线」,该字段上方会出现一条线，用于分割表单上下文",list:[{text:"横线",label:"soild"},{text:"虚线",label:"dashed"}]}],type:"switch"}]}]},{title:"展示",tips:"可重复添加",isRepetition:!0,list:[{title:"文字",id:"text",hideTitle:!0,type:"input",count_type:"other",exhibition:!0,children:[{title:"编辑文案",isChecked:!1,value:"请输入文本",tips:"请输入",maxLength:500,type:"textarea"},{title:"分割线设置",id:"cross",list:[{isChecked:!1,id:"parting",value:"soild",tips:"显示分割线",tooltip:"开启「显示分割线」,该字段上方会出现一条线，用于分割表单上下文",list:[{text:"横线",label:"soild"},{text:"虚线",label:"dashed"}]}],type:"switch"}]},{title:"图片",id:"one_picture",hideTitle:!0,type:"one_picture",radio:!0,data:{value:[],img:{}},count_type:"other",exhibition:!0,children:[{title:"",isChecked:!1,value:"1",isShow:["1","2"],tips:"请输入",maxLength:80,type:"radio",list:[{title:"企业上传",label:"1"},{title:"客户上传",label:"2"}]},{isChecked:!0,value:{compress:""},tips:"",isShow:["1"],maxLength:1,type:"img",accept:".bmp,.jpg,.jpeg,.png,.tif,.gif,.pcx,.tga,.exif,.fpx,.svg,.psd,.cdr,.pcd,.dxf,.ufo,.eps,.ai,.raw,.WMF,.webp"},{title:"默认文案设置",id:"defaultText",isChecked:!1,value:"请上传图片",isShow:["2"],tips:"请输入",maxLength:15,type:"input"},{title:"校验设置",id:"verify",isShow:["2"],list:[{isChecked:!1,value:!1,tips:"设置此字段为非必填项"}],type:"switch"},{title:"分割线设置",id:"cross",isShow:["1","2"],list:[{isChecked:!1,id:"parting",value:"soild",tips:"显示分割线",tooltip:"开启「显示分割线」,该字段上方会出现一条线，用于分割表单上下文",list:[{text:"横线",label:"soild"},{text:"虚线",label:"dashed"}]}],type:"switch"}]}]},{title:"感谢语",tips:"不能重复添加同一个元素",isRepetition:!1,list:[{title:"感谢语",id:"acknowledgments",hideTitle:!0,type:"input",count_type:"other",exhibition:!0,children:[{title:"编辑文案",isChecked:!1,value:"感谢参与填写哦~",tips:"请输入",maxLength:80,type:"textarea"},{title:"分割线设置",id:"cross",list:[{isChecked:!1,id:"parting",value:"soild",tips:"显示分割线",tooltip:"开启「显示分割线」,该字段上方会出现一条线，用于分割表单上下文",list:[{text:"横线",label:"soild"},{text:"虚线",label:"dashed"}]}],type:"switch"}]}]},{title:"其他 ",id:"ather",tips:"可重复添加",isRepetition:!0,list:[{title:"分页",count_type:"other",exhibition:!0,hideTitle:!0,id:"paging",type:"paging",index:0,notAdd:!0}]}]},{title:"展示项",key:"exhibition",children:[{title:"展示",tips:"可重复添加",isRepetition:!0,list:[{title:"图文",id:"image-text",hideTitle:!0,type:"image-text",exhibition:!0,children:[{title:"编辑文案",isChecked:!1,value:"感谢参与填写哦~",tips:"请输入",maxLength:80,type:"textarea"},{title:"上传图片",isChecked:!0,subtitleAcross:"企业上传图片",value:{compress:""},tips:"建议上传比例为375x235px，且小于2M图",maxLength:0,type:"img",accept:".bmp,.jpg,.jpeg,.png,.tif,.gif,.pcx,.tga,.exif,.fpx,.svg,.psd,.cdr,.pcd,.dxf,.ufo,.eps,.ai,.raw,.WMF,.webp"},{title:"分割线设置",id:"cross",list:[{isChecked:!1,id:"parting",value:"soild",tips:"显示分割线",tooltip:"开启「显示分割线」,该字段上方会出现一条线，用于分割表单上下文",list:[{text:"横线",label:"soild"},{text:"虚线",label:"dashed"}]}],type:"switch"}]},{title:"轮播图",id:"slideshow",hideTitle:!0,type:"slideshow",exhibition:!0,children:[{title:"轮播时间",subtitleAcross:"到达时间自动轮播下一张图片",isChecked:!1,value:2e3,tips:"请输入",maxLength:80,type:"radio",list:[{title:"2秒",label:2e3},{title:"4秒",label:4e3}]},{title:"上传图片",isChecked:!0,value:[],tips:"(企业上传图片，最多上传9张，最少上传2张，建议上传比例为10：7且小于2M的图片)",maxLength:9,type:"imgList",accept:".bmp,.jpg,.jpeg,.png,.tif,.gif,.pcx,.tga,.exif,.fpx,.svg,.psd,.cdr,.pcd,.dxf,.ufo,.eps,.ai,.raw,.WMF,.webp"},{title:"分割线设置",id:"cross",list:[{isChecked:!1,id:"parting",value:"soild",tips:"显示分割线",tooltip:"开启「显示分割线」,该字段上方会出现一条线，用于分割表单上下文",list:[{text:"横线",label:"soild"},{text:"虚线",label:"dashed"}]}],type:"switch"}]}]}]}],a=[{title:"表单设置",id:"formSet",children:[{title:"头图",isChecked:!0,switch:!0,value:{compress:""},tips:"建议上传比例为375x235px，且小于2M图",maxLength:0,type:"img",accept:".bmp,.jpg,.jpeg,.png,.tif,.gif,.pcx,.tga,.exif,.fpx,.svg,.psd,.cdr,.pcd,.dxf,.ufo,.eps,.ai,.raw,.WMF,.webp"},{title:"表单名称",isChecked:!0,value:"表单名称",tips:"请输入表单名称",maxLength:30,type:"input"},{title:"表单说明",isChecked:!0,switch:!0,value:"表单说明",tips:"请输入表单说明",maxLength:500,type:"textarea"},{title:"按钮文案",isChecked:!0,value:"提交",tips:"完成",maxLength:8,type:"input"}]}],n={color:"#1890ff",title:"提交",index:"",type:"button"},o=[{img:"/imgs/formTable/empty-form.png",title:"空白表单",subtitle:"自由设置",id:0,data:[{cover:"",name:"表单名称",describe:"表单说明"}]},{img:"/imgs/formTable/questionnaire-form.png",title:"问卷调查",subtitle:"适合满意度调查、产品调查、市场调查、学生调查等场景",id:1,data:[{cover:"https://acadsocscrmpc.oss-cn-shenzhen.aliyuncs.com/h5/img/questionnaire.png",name:"问卷调查",describe:"非常感谢您能够参加调查，希望能够得到您的大力支持与合作，请积极提供您的看法与意见哦～我们极其重视数据安全，绝不会泄漏任何您的隐私信息！现在我们就马上开始填写问卷调查吧～"}]},{img:"/imgs/formTable/activite-form.png",title:"活动报名",subtitle:"适用于活动报名、资质审核、结果推送场景",id:2,data:[{cover:"https://acadsocscrmpc.oss-cn-shenzhen.aliyuncs.com/h5/img/activite.png",name:"活动报名",describe:"活动报名现在开始啦，请按照表单内容正确填写相关信息哦～报名时间是有限制的哦，现在我们马上开始填写活动报名信息吧～"}]},{img:"/imgs/formTable/sale-form.png",title:"售后服务",subtitle:"适用于活动报名、资质审核、结果推送场景",id:3,data:[{cover:"https://acadsocscrmpc.oss-cn-shenzhen.aliyuncs.com/h5/img/sale.png",name:"售后服务",describe:"请正确填写售后信息，避免信息错误导致售后服务不及时哦～"}]},{img:"/imgs/formTable/market-form.png",title:"营销落地页",subtitle:"适用于营销获客、图片轮播、图文展示、广告落地页",id:4,data:[{cover:"https://acadsocscrmpc.oss-cn-shenzhen.aliyuncs.com/h5/img/market.png",name:"营销落地页",describe:"表单说明"}]}]},"573a":function(t,e,i){},"592d":function(t,e,i){},"69df":function(t,e,i){},"6ff3":function(t,e,i){},"712f":function(t,e,i){"use strict";i("ea47")},"7af2":function(t,e,i){},"7f2c":function(t,e,i){"use strict";i("1247")},"8b53":function(t,e,i){},"8e34":function(t,e,i){"use strict";i("299d")},"8f19":function(t,e,i){"use strict";i.d(e,"n",(function(){return n})),i.d(e,"q",(function(){return o})),i.d(e,"a",(function(){return l})),i.d(e,"j",(function(){return r})),i.d(e,"h",(function(){return c})),i.d(e,"f",(function(){return u})),i.d(e,"l",(function(){return d})),i.d(e,"d",(function(){return p})),i.d(e,"e",(function(){return m})),i.d(e,"i",(function(){return f})),i.d(e,"g",(function(){return h})),i.d(e,"b",(function(){return v})),i.d(e,"k",(function(){return b})),i.d(e,"m",(function(){return g})),i.d(e,"c",(function(){return y})),i.d(e,"p",(function(){return x})),i.d(e,"o",(function(){return k}));var s=i("b775"),a={customerFormSave:"/client_transformation/customerForm/save",dateInfoList:"/client_transformation/customerFormData/dateInfoList",customerFormList:"/client_transformation/customerForm/list",customerFormInfo:"/client_transformation/customerForm/info",customerFormUpdate:"/client_transformation/customerForm/update",customerFormPublish:"/client_transformation/customerForm/publish",customerFormDelete:"/client_transformation/customerForm/delete",dataInfo:"/client_transformation/customerFormData/dataInfo",analysis:"/client_transformation/customerFormData/analysis",staffList:"/client_transformation/customerFormData/staffList",infoList:"/client_transformation/customerFormData/infoList",analysisExport:"/client_transformation/customerFormData/analysisExport",dataInfoExport:"/client_transformation/customerFormData/dataInfoExport",infoCityList:"/client_transformation/customerFormData/infoCityList",batchTags:"/client_transformation/customerFormData/batchTags",selectList:"/client_transformation/customerForm/userData/selectList",queryDataList:"/client_transformation/customerFormData/queryDataList"};function n(t){return Object(s["b"])({url:a.infoList,method:"post",data:t})}function o(t){return Object(s["b"])({url:a.staffList,method:"get",params:t})}function l(t){return Object(s["b"])({url:a.analysis,method:"get",params:t})}function r(t){return Object(s["b"])({url:a.dataInfo,method:"get",params:t})}function c(t){return Object(s["b"])({url:a.customerFormSave,method:"post",data:t})}function u(t){return Object(s["b"])({url:a.customerFormList,method:"get",params:t})}function d(t){return Object(s["b"])({url:a.dateInfoList,method:"get",params:t})}function p(t){return Object(s["b"])({url:a.customerFormDelete,method:"post",data:t})}function m(t){return Object(s["b"])({url:a.customerFormInfo,method:"get",params:t})}function f(t){return Object(s["b"])({url:a.customerFormUpdate,method:"post",data:t})}function h(t){return Object(s["b"])({url:a.customerFormPublish,method:"post",data:t})}function v(t){return Object(s["b"])({url:a.analysisExport,method:"get",params:t,responseType:"blob"})}function b(t){return Object(s["b"])({url:a.dataInfoExport,method:"get",params:t,responseType:"blob"})}function g(t){return Object(s["b"])({url:a.infoCityList,method:"get",params:t})}function y(t){return Object(s["b"])({url:a.batchTags,method:"post",data:t})}function x(t){return Object(s["b"])({url:a.selectList,method:"get",params:t})}function k(t){return Object(s["b"])({url:a.queryDataList,method:"post",data:t})}},a36b:function(t,e,i){"use strict";i("ab43")},ab43:function(t,e,i){},af8f:function(t,e,i){"use strict";i("7af2")},b431:function(t,e,i){"use strict";i("09c0")},dceb:function(t,e,i){"use strict";i("69df")},de2f:function(t,e,i){"use strict";i("9911");var s=function(){var t=this,e=t._self._c;return e("CommonModal",t._b({attrs:{loading:t.loading,footer:"preview"!==t.state},on:{cancle:function(e){return t.$emit("cancle")},serviceOk:t.serviceOk}},"CommonModal",t.source,!1),[e("section",{staticClass:"contant"},[e("div",{staticClass:"contant-left"},[e("PhoneModel",{attrs:{textList:t.textList}}),e("p",{staticClass:"aks-tips"},[t._v("（可点击分享卡片进行表单内容查看）")])],1),e("ul",{staticClass:"contant-right .share_model"},[e("li",{staticClass:"list-data",class:{exhibition:"preview"===t.state}},[e("p",{staticClass:"title"},[t._v("基本信息")]),e("div",{staticClass:"setting-box"},[e("p",{staticClass:"aks-tips"},[t._v("截止日期："),e("small",[t._v("（表单截止后，用户打开表单会提示此表单已结束哦）")])]),e("a-radio-group",{attrs:{disabled:"preview"===t.state},model:{value:t.form.isForeverEffect,callback:function(e){t.$set(t.form,"isForeverEffect",e)},expression:"form.isForeverEffect"}},t._l(t.deadlineList,(function(i,s){return e("a-radio",{key:s,attrs:{value:i.id}},[t._v(" "+t._s(i.text)+" ")])})),1),0===t.form.isForeverEffect?e("div",{staticClass:"time-contant"},[e("a-date-picker",{attrs:{placeholder:"请选择截止日期",disabledDate:t.disabledDate,format:"YYYY-MM-DD HH:mm:ss","show-time":{defaultValue:t.$moment("00:00:00","HH:mm:ss")}},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}})],1):t._e(),e("p",{staticClass:"aks-tips"},[t._v("匹配客户方式："),e("small",[t._v("(将参与活动的微信客户和企业微信客户匹配)")])]),e("a-radio-group",{attrs:{disabled:"preview"===t.state},model:{value:t.form.matchRule,callback:function(e){t.$set(t.form,"matchRule",e)},expression:"form.matchRule"}},t._l(t.customerMode,(function(i,s){return e("a-radio",{key:s,attrs:{value:i.id,disabled:"preview"===t.state||"edit"===t.state}},[t._v(" "+t._s(i.text)+" "),e("a-tag",{attrs:{color:i.color}},[t._v(t._s(i.remark))])],1)})),1),e("div",{staticClass:"match-contant"},[e("p",[t._v("对数据精准度要求不高可用，相同昵称客户可能会出现匹配错误")])])],1),e("div",{staticClass:"checkout-list"},[e("a-checkbox",{attrs:{disabled:"preview"===t.state},model:{value:t.form.msgNotify,callback:function(e){t.$set(t.form,"msgNotify",e)},expression:"form.msgNotify"}},[e("span",[t._v("行为通知")]),e("small",{staticClass:"aks-tips"},[t._v("（当客户点击或发布表单时，发送表单的员工将会收到消息提醒）")])])],1),e("div",{staticClass:"checkout-list"},[e("a-checkbox",{attrs:{disabled:"preview"===t.state},model:{value:t.form.eventNotify,callback:function(e){t.$set(t.form,"eventNotify",e)},expression:"form.eventNotify"}},[e("span",[t._v("动态通知")]),e("small",{staticClass:"aks-tips"},[t._v("（当客户点击雷达链接时，会将客户的打开行为记录在客户动态里）")])])],1)]),"preview"===t.state?e("div",{staticClass:"box"},[e("p",{staticClass:"title"},[t._v("查看表单")]),e("div",{staticClass:"box-bottom"},[e("div",{staticClass:"qr-box flex-row"},[e("vue-qr",{attrs:{text:t.form.link,size:120,callback:t.qrCallback}}),e("span",{on:{click:function(e){return t.downFile(t.form.link)}}},[t._v("下载二维码")])],1),e("div",{staticClass:"box-bottom-copy"},[e("div",{staticClass:"qr-url-box"},[e("textarea",{ref:"letters",staticClass:"copy-text",attrs:{type:"text",readonly:""},domProps:{value:t.form.link}})]),e("p",{staticClass:"copy-url",on:{click:function(e){return t.copyUrl(t.form.link)}}},[t._v("复制链接")])])])]):t._e(),e("li",{staticClass:"list-data",class:{exhibition:"preview"===t.state}},[e("p",{staticClass:"title"},[t._v(" 客户标签 "),e("a-switch",{attrs:{size:"small",disabled:"preview"===t.state},model:{value:t.form.tagEnable,callback:function(e){t.$set(t.form,"tagEnable",e)},expression:"form.tagEnable"}}),e("small",{staticClass:"aks-tips"},[t._v("(最多可设置3个标签规则，已设置的标签规则不能进行修改）")])],1),t.form.tagEnable?e("CustomerTag",{attrs:{ruleDetails:t.form.customerFormActionList,maxLength:3,disabled:"preview"===t.state}}):t._e()],1),e("li",{staticClass:"list-data",class:{exhibition:"preview"===t.state}},[e("p",{staticClass:"title"},[t._v("客户提交次数限制"),e("small",{staticClass:"aks-tips"},[t._v("（此功能发布后不可修改）")])]),e("a-radio-group",{staticClass:"setting-box limit",attrs:{disabled:"preview"===t.state||"edit"===t.state},model:{value:t.form.submitCountLimit,callback:function(e){t.$set(t.form,"submitCountLimit",e)},expression:"form.submitCountLimit"}},t._l(t.countLimitList,(function(i,s){return e("a-radio",{key:s,attrs:{value:i.id}},[t._v(" "+t._s(i.text)+" "),e("br"),t.form.submitCountLimit===i.id?e("span",{staticClass:"aks-tips"},[t._v(" "+t._s(i.tip)+" ")]):t._e()])})),1)],1),e("li",{class:{exhibition:"preview"===t.state}},[e("p",{staticClass:"title"},[t._v(" 表单填写后跳转设置 "),e("a-switch",{attrs:{size:"small",disabled:"preview"===t.state},model:{value:t.form.linkFlag,callback:function(e){t.$set(t.form,"linkFlag",e)},expression:"form.linkFlag"}})],1),t.form.linkFlag?e("div",{staticClass:"setting-box"},[e("a-radio-group",{staticClass:"setting-box",attrs:{disabled:"preview"===t.state},model:{value:t.form.linkOrCode,callback:function(e){t.$set(t.form,"linkOrCode",e)},expression:"form.linkOrCode"}},t._l(t.flagList,(function(i,s){return e("a-radio",{key:s,attrs:{value:i.id}},[t._v(" "+t._s(i.text)+" ")])})),1),t.form.linkOrCode===t.flagList[0].id?e("div",[t._v(" 客户提交表单成功后跳转此链接 "),e("a-tooltip",{attrs:{placement:"top"}},[e("div",{attrs:{slot:"title"},slot:"title"},[e("img",{staticClass:"form-preview",attrs:{src:"/imgs/formTable/form-preview.png"}})]),e("a-button",{attrs:{type:"link"}},[t._v("查看预览")])],1),e("div",[e("a-input",{attrs:{placeholder:"请输入以http/https开头的网址"},model:{value:t.form.linkUrl,callback:function(e){t.$set(t.form,"linkUrl",e)},expression:"form.linkUrl"}})],1)],1):t._e(),t.form.linkOrCode===t.flagList[1].id?e("div",[t._v(" 客户提交表单成功后出现此二维码 "),e("a-tooltip",{attrs:{placement:"top"}},[e("div",{attrs:{slot:"title"},slot:"title"},[e("img",{staticClass:"form-preview",attrs:{src:"/imgs/formTable/form-preview2.png"}})]),e("a-button",{attrs:{type:"link"}},[t._v("查看预览")])],1),e("a-form-model",{attrs:{"label-col":{span:4},"wrapper-col":{span:12}}},t._l(t.form.uploadList,(function(t,i){return e("a-form-model-item",{key:i,attrs:{label:t.title}},[e("FormList",{staticClass:"form-list",attrs:{formInfo:t}})],1)})),1)],1):t._e()],1):t._e()])])])])},a=[],n=i("5530"),o=(i("b0c0"),i("b64b"),i("a9e3"),i("d81d"),i("d3b7"),i("2a86")),l=i("e6b1"),r=(i("caad"),i("2532"),function(){var t=this,e=t._self._c;return e("ul",{staticClass:"add-rule"},[t._l(t.ruleDetails,(function(i,s){return e("li",{key:s,staticClass:"rule-list"},[e("a-icon",{attrs:{type:"minus-circle"},on:{click:function(e){return t.delRule(s)}}}),e("span",{class:0===s?"first":""},[t._v("规则"+t._s(s+1)+"：为")]),e("a-select",{staticClass:"form-item",staticStyle:{width:"120px"},attrs:{placeholder:"请选择用户行为"},model:{value:i.action,callback:function(e){t.$set(i,"action",e)},expression:"item.action"}},t._l(t.ruleKindList,(function(i){return e("a-select-option",{key:i.id,attrs:{value:i.id,disabled:t.selectAction.includes(i.id)}},[t._v(" "+t._s(i.text)+" ")])})),1),t._v(" 的客户，打上 "),e("a-space",[e("SelectInput",{staticClass:"form-item",attrs:{placeHolder:"请选择标签",usePersionList:i.selectTagList},on:{open:function(e){return t.openTag(i)}}})],1),t._v(" 标签，"),e("br"),t._v(" 并添加评分: "),e("a-switch",{staticClass:"form-item",attrs:{disabled:t.disabled},model:{value:i.enable,callback:function(e){t.$set(i,"enable",e)},expression:"item.enable"}}),i.enable?e("span",[t._v(" 给Ta添加 "),e("a-input-number",{staticClass:"time form-item",attrs:{min:1},model:{value:i.score,callback:function(e){t.$set(i,"score",e)},expression:"item.score"}}),t._v(" 分 ")],1):t._e()],1)})),e("a-button",{attrs:{type:"link"},on:{click:t.addRule}},[e("a-space",{attrs:{size:12}},[e("a-icon",{attrs:{type:"plus-circle"}}),t._v("添加规则 "),e("span",{staticClass:"font-color-black-25"})],1)],1),e("a-modal",{attrs:{footer:null,width:"600px",centered:""},model:{value:t.visibleTag,callback:function(e){t.visibleTag=e},expression:"visibleTag"}},[e("SelectTags",{attrs:{selectTagList:t.item.selectTagList},on:{cancle:function(e){t.visibleTag=!1},serviceOk:t.serviceTagOk}})],1)],2)}),c=[],u=(i("a434"),i("0481"),i("4069"),i("4de4"),i("0395")),d=i("c844"),p={name:"CustomerTag",components:{SelectInput:u["a"],SelectTags:d["a"]},props:{ruleDetails:{type:Array,default:function(){return[]}},maxLength:{type:Number,default:8},disabled:{type:Boolean,default:!1}},computed:{selectAction:function(){return this.ruleDetails.map((function(t){return t.action}))}},data:function(){return{ruleKindList:[{id:0,text:"进入表单页面"},{id:1,text:"填写表单"},{id:2,text:"提交表单"}],defaultRuleDetails:function(){return{tagIds:"",enable:!1,selectTagList:[],score:"",action:void 0}},visibleTag:!1,item:{selectTagList:[]}}},methods:{openTag:function(t){this.item=t,this.visibleTag=!0},delRule:function(t){this.ruleDetails.splice(t,1)},addRule:function(){this.ruleDetails.length>=this.maxLength?this.$message.warning("最多设置".concat(this.maxLength,"个规则")):this.ruleDetails.push(this.defaultRuleDetails())},serviceTagOk:function(t){this.item.selectTagList=t.filter((function(t){return t.selectTagList.length>0})).map((function(t){return t.selectTagList})).flat(),this.visibleTag=!1}}},m=p,f=(i("dceb"),i("2877")),h=Object(f["a"])(m,r,c,!1,null,"cf8beeba",null),v=h.exports,b=i("26f2"),g=i("02ed"),y=i("658f5"),x=i.n(y),k={name:"Publish",components:{CommonModal:o["a"],PhoneModel:l["a"],CustomerTag:v,FormList:b["a"],vueQr:x.a},props:{value:{type:Object,default:function(){return{}}},loading:{type:Boolean,default:!1},state:{type:String,default:""}},computed:{textList:function(){return[{type:"link",linkTitle:this.value.name,desc:this.value.describe,coverUrl:{compress:this.value.cover}}]}},data:function(){return{source:{okText:"完成并发布",cancleText:"返回编辑",tipText:"表单发布后支持增加字段和修改表单文案，不支持删除已发布的表单字段",title:"发布"},deadlineList:[{text:"永久有效",id:1},{text:"自定义日期",id:0}],customerMode:[{text:"客户昵称匹配",id:0,remark:"普通",color:""}],countLimitList:[{text:"不限提交次数",id:-1,tip:"客户可重复重新提交表单"},{text:"仅限提交一次",id:1,tip:"客户只能提交此表单一次，不可对表单内容进行修改"}],flagList:[{text:"跳转链接",id:1},{text:"跳转二维码",id:0}],form:{isForeverEffect:1,endTime:"",eventNotify:!0,msgNotify:!0,tagEnable:!1,submitCountLimit:-1,linkFlag:!1,customerFormActionList:[],linkOrCode:1,linkUrl:"",guidanceDoc:"",qrCode:"",uploadList:[{title:"上传二维码",type:"imgList",maxLength:1,value:[]},{title:"扫码引导文案",type:"textarea",tips:"长按下方二维码添加客服,可领取神秘大礼哦",value:"",maxLength:300}],matchRule:0}}},watch:{"form.uploadList":{handler:function(){this.form.qrCode=this.form.uploadList[0].value,this.form.guidanceDoc=this.form.uploadList[1].value},deep:!0},value:{handler:function(){var t;Object.keys(this.value).length>0&&(this.form=Object.assign(this.form,this.value,{isForeverEffect:Number(this.value.effectStatus),linkOrCode:this.value.qrCode?0:1,endTime:this.value.endTime?this.$moment(this.value.endTime):null,customerFormActionList:(null===(t=this.value.actionList)||void 0===t?void 0:t.map((function(t){var e,i,s,a=null===(e=t.tagNames)||void 0===e?void 0:e.split("、");return Object(n["a"])(Object(n["a"])({},t),{},{score:t.scores,enable:Boolean(t.enable),selectTagList:null===(i=t.tagIds)||void 0===i||null===(s=i.split(","))||void 0===s?void 0:s.map((function(t,e){return{key:t,tagId:t,tagName:a[e]}}))})})))||[]}),this.form.qrCode&&(this.form.uploadList[0].value=[{uid:"1",name:"xxx.png",status:"done",response:"Server Error 500",url:this.form.qrCode}],this.form.uploadList[1].value=this.form.guidanceDoc))},deep:!0,immediate:!0}},created:function(){"edit"===this.state&&(this.source.title="更新",this.source.okText="更新")},methods:{copyUrl:function(t){t&&(Object(g["a"])(t),this.$message.success("复制成功"))},downFile:function(){var t=document.createElement("a");t.href=this.base64,t.download="".concat(this.form.name,".jpg"),document.body.appendChild(t),t.click(),t.remove()},qrCallback:function(t){this.base64=t},disabledDate:function(t){var e=this.$moment().endOf("day").subtract(1,"days");return t&&t<e},serviceOk:function(){var t=this;this.verify().then((function(){t.$emit("serviceOk",t.form)})).catch((function(e){t.$message.warning(e)}))},verify:function(){var t=this;return new Promise((function(e,i){if(Boolean(t.form.isForeverEffect)||(t.form.endTime||i("请选择时间"),t.form.endTime<t.$moment()&&i("截止时间不能早于当前时刻")),t.form.linkFlag)if(1!==t.form.linkOrCode||t.form.linkUrl){if(0===t.form.linkOrCode){var s;(null===(s=t.form.qrCode)||void 0===s?void 0:s.length)<1&&i("请上传二维码"),t.form.guidanceDoc||i("请填写扫码引导文案")}}else i("请填写跳转链接");var a;if(t.form.tagEnable)if((null===(a=t.form.customerFormActionList)||void 0===a?void 0:a.length)<1)i("请选择标签");else for(var n=0;n<(null===(o=t.form.customerFormActionList)||void 0===o?void 0:o.length);n++){var o,l=t.form.customerFormActionList[n];l.action||0===l.action||i("规则".concat(n+1,"的用户行为没有写")),l.selectTagList.length<1&&i("规则".concat(n+1,"的标签没有写")),!l.enable||l.score&&0!==l.score||i("规则".concat(n+1,"的评分没有写"))}e()}))}}},C=k,_=(i("b431"),Object(f["a"])(C,s,a,!1,null,"09291a7a",null));e["a"]=_.exports},e6b1:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"phone-model"},[e("img",{staticClass:"bg",attrs:{src:"/imgs/chatBg.png"}}),e("div",{staticClass:"contant"},[e("p",{staticClass:"time"},[t._v(t._s(t.time))]),t.textList.length>0?e("ul",t._l(t.textList,(function(i,s){return e("li",{key:s,staticClass:"contant-list"},["img"===i.type?[e("img",{staticClass:"user",attrs:{src:"/icons/user.png"}}),e("div",{staticClass:"contant-main"},[e("img",{staticClass:"upload-img",attrs:{src:i.pic_url.compress}})])]:t._e(),"link"===i.type?[e("img",{staticClass:"user",attrs:{src:"/icons/user.png"}}),e("div",{staticClass:"contant-title"},[e("a-tooltip",{attrs:{title:i.linkTitle}},[e("p",{staticClass:"contant-subtitle"},[t._v(t._s(i.linkTitle))])]),e("div",{staticClass:"contant-contant"},[i.desc?e("a-tooltip",{attrs:{title:i.desc}},[e("span",[t._v(t._s(i.desc))])]):t._e(),e("a-avatar",{attrs:{src:i.coverUrl.compress,size:32,shape:"square"}})],1)],1)]:t._e(),i.type?t._e():[e("img",{staticClass:"user",attrs:{src:"/icons/user.png"}}),e("div",{staticClass:"contant-main"},[t._v(t._s(i))])]],2)})),0):t._e()])])},a=[],n={name:"PhoneModel",data:function(){return{time:this.$moment().format("HH:mm")}},props:{textList:{type:[Array],default:function(){return[]}}},watch:{textList:function(){}}},o=n,l=(i("8e34"),i("2877")),r=Object(l["a"])(o,s,a,!1,null,"1aa7a172",null);e["a"]=r.exports},ea47:function(t,e,i){},f99c:function(t,e,i){"use strict";i("573a")}}]);