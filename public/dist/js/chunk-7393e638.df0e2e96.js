(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7393e638"],{"0daf":function(t,e,n){},"46ef":function(t,e,n){"use strict";n("0daf")},"5ffc":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"k",(function(){return o})),n.d(e,"l",(function(){return s})),n.d(e,"f",(function(){return d})),n.d(e,"j",(function(){return u})),n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return l})),n.d(e,"b",(function(){return m})),n.d(e,"i",(function(){return p})),n.d(e,"m",(function(){return f})),n.d(e,"c",(function(){return h})),n.d(e,"e",(function(){return b})),n.d(e,"d",(function(){return g}));var i=n("b775"),a={getList:"/channel/batchAddFriends/getList",downloadTemp:"/channel/batchAddFriends/downloadTemp",importCustomer:"/channel/batchAddFriends/importCustomer",deleteCustomer:"/channel/batchAddFriends/delete",record:"/channel/import/record",statistics:"/channel/import/statistics",deleteImport:"/channel/import/delete",remind:"/channel/batchAddFriends/remind",getInfo:"/channel/import/info",setting:"/channel/batchAddFriends/setting",settingInfo:"/channel/batchAddFriends/settingInfo",batchDistribute:"/channel/batchAddFriends/batchDistribute",exportData:"/channel/import/export"};function r(t){return Object(i["b"])({url:a.batchDistribute,method:"post",data:t})}function o(t){return Object(i["b"])({url:a.setting,method:"post",data:t})}function s(t){return Object(i["b"])({url:a.settingInfo,method:"get",params:t})}function d(t){return Object(i["b"])({url:a.getInfo,method:"get",params:t})}function u(t){return Object(i["b"])({url:a.remind,method:"post",params:t})}function c(t){return Object(i["b"])({url:a.getList,method:"get",params:t})}function l(t){return Object(i["b"])({url:a.importCustomer,method:"post",data:t})}function m(t){return Object(i["b"])({url:a.deleteCustomer,method:"post",data:t})}function p(t){return Object(i["b"])({url:a.record,method:"get",params:t})}function f(t){return Object(i["b"])({url:a.statistics,method:"get",params:t})}function h(t){return Object(i["b"])({url:a.deleteImport,method:"post",params:t})}function b(t){return Object(i["b"])({url:a.exportData,method:"post",data:t,responseType:"blob"})}function g(){window.open(PRD_VUE_APP_API_BASE_URL+a.downloadTemp,"_blank")}},da92:function(t,e,n){"use strict";function i(t,e){return void 0===e&&(e=15),+parseFloat(Number(t).toPrecision(e))}function a(t){var e=t.toString().split(/[eE]/),n=(e[0].split(".")[1]||"").length-+(e[1]||0);return n>0?n:0}function r(t){if(-1===t.toString().indexOf("e"))return Number(t.toString().replace(".",""));var e=a(t);return e>0?i(Number(t)*Math.pow(10,e)):Number(t)}function o(t){p&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&console.warn(t+" is beyond boundary when transfer to integer, the results may not be accurate")}function s(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e[0],a=e.slice(1);return a.reduce((function(e,n){return t(e,n)}),i)}}var d=s((function(t,e){var n=r(t),i=r(e),s=a(t)+a(e),d=n*i;return o(d),d/Math.pow(10,s)})),u=s((function(t,e){var n=Math.pow(10,Math.max(a(t),a(e)));return(d(t,n)+d(e,n))/n})),c=s((function(t,e){var n=Math.pow(10,Math.max(a(t),a(e)));return(d(t,n)-d(e,n))/n})),l=s((function(t,e){var n=r(t),s=r(e);return o(n),o(s),d(n/s,i(Math.pow(10,a(e)-a(t))))}));function m(t,e){var n=Math.pow(10,e),i=l(Math.round(Math.abs(d(t,n))),n);return t<0&&0!==i&&(i=d(i,-1)),i}var p=!0;function f(t){void 0===t&&(t=!0),p=t}var h={strip:i,plus:u,minus:c,times:d,divide:l,round:m,digitLength:a,float2Fixed:r,enableBoundaryChecking:f};e["a"]=h},e3ed:function(t,e,n){"use strict";n.r(e);n("b0c0");var i=function(){var t=this,e=t._self._c;return e("div",[e("a-page-header",{staticClass:"page-header background-white",attrs:{title:"导入记录"},on:{back:function(e){return t.$router.go(-1)}}}),e("div",{staticClass:"table-bg page-box"},[e("a-table",{attrs:{columns:t.columns,"data-source":t.clientList,pagination:t.pagination,loading:t.tableLoading},on:{change:t.change},scopedSlots:t._u([{key:"staffName",fn:function(n){return n?e("div",{},t._l(n,(function(n,i){return e("a-tag",{key:i},[e("a-icon",{staticClass:"primaryColor",attrs:{type:"customer-service"}}),t._v(" "+t._s(n)+" ")],1)})),1):t._e()}},{key:"tagNameList",fn:function(n){return e("div",{staticClass:"tag-name-list"},[n.length>0&&Array.isArray(n)?e("div",{class:[{mheight:n.length>=4}]},t._l(n,(function(n){return e("a-tag",{key:n},[t._v(" "+t._s(n)+" ")])})),1):e("div",[t._v("-")]),n.length>=4&&Array.isArray(n)?e("div",{staticClass:"clickable",on:{click:function(e){return t.openMore(e)}}},[e("span",[t._v("展开")])]):t._e()])}},{key:"operation",fn:function(n,i,a){return e("div",{staticStyle:{display:"flex"},attrs:{index:a}},[e("a-button",{attrs:{type:"link",disabled:i.importCustomerNum==i.addedCustomerNum},on:{click:function(e){return t.operationTips(i)}}},[t._v(" 提醒 ")]),e("div",{staticClass:"a-vertical"}),e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.deletecustom(i.name,i.id,a)}}},[t._v("删除")]),e("div",{staticClass:"a-vertical"}),e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.$router.push({name:"RecordDetail",query:{state:"add",remindId:i.id,num:i.addedCustomerNum}})}}},[t._v(" 详情 ")])],1)}}],null,!0)})],1),e("a-modal",{staticClass:"noBottomBorder",attrs:{centered:"",okText:"发送"},on:{ok:t.tipsOk},model:{value:t.tipsShow,callback:function(e){t.tipsShow=e},expression:"tipsShow"}},[e("p",{staticClass:"tips-p"},[t._v("提醒")]),e("div",{staticClass:"tips-content"},[t._v("确认后将会给所有未发送成员发送提醒通知，是否发送？")])]),e("a-modal",{staticClass:"noBottomBorder",attrs:{centered:"",okText:"删除"},on:{ok:t.deleteOk},model:{value:t.deleteShow,callback:function(e){t.deleteShow=e},expression:"deleteShow"}},[e("p",{staticClass:"tips-p"},[t._v("提示")]),e("div",{staticClass:"tips-content"},[t._v("删除后仅可删除本条记录，员工已收到的任务分配提醒无法撤回，是否确认删除？")])])],1)},a=[],r=(n("d3b7"),n("a434"),n("d81d"),n("5ffc")),o=n("da92"),s={data:function(){return{tipsShow:!1,deleteShow:!1,remindId:null,columns:[{title:"名称",dataIndex:"name",key:"name"},{title:"上传时间",dataIndex:"uploadTime",key:"uploadTime"},{title:"分配客服",dataIndex:"staffName",scopedSlots:{customRender:"staffName"},key:"staffName"},{title:"客户标签",dataIndex:"tagNameList",scopedSlots:{customRender:"tagNameList"},width:"230px",key:"tagNameList"},{title:"导入客户数",dataIndex:"importCustomerNum",key:"importCustomerNum"},{title:"已添加客户数",dataIndex:"addedCustomerNum",key:"addedCustomerNum"},{title:"添加完成率",dataIndex:"completionRate",key:"completionRate"},{title:"操作",dataIndex:"operation",key:"operation",scopedSlots:{customRender:"operation"}}],clientList:[],tableLoading:!1,pagination:{current:1,pageSize:10,total:0},deleteId:0,deleteIndex:0}},created:function(){this.record()},methods:{record:function(){var t=this;this.tableLoading=!0;var e={currentPage:this.pagination.current,pageSize:this.pagination.pageSize};Object(r["i"])(e).then((function(e){var n;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.list&&(t.pagination.total=e.data.total,t.disposeClientList(e.data.list),t.clientList=e.data.list)})).finally((function(){t.tableLoading=!1}))},detailcustom:function(){},deletecustom:function(t,e,n){this.customText=t,this.deleteId=e,this.deleteIndex=n,this.deleteShow=!0},deleteOk:function(){var t=this,e={id:this.deleteId};Object(r["c"])(e).then((function(e){t.clientList.splice(t.deleteIndex,1)})).finally((function(){t.deleteShow=!1}))},operationTips:function(t){this.remindId=t.id,this.tipsShow=!0},tipsOk:function(){var t=this,e={recordId:this.remindId};Object(r["j"])(e).then((function(e){t.$message.success("提醒成功")})).catch((function(e){t.$message.error(e)})).finally((function(){t.tipsShow=!1}))},change:function(t){var e=t.current;this.pagination.current=e,this.record()},disposeClientList:function(t){this.clientList=t.map((function(t){if(null!==t&&void 0!==t&&t.customerLabelName?t.tagNameList=t.customerLabelName.split(","):t.tagNameList=[],"0"==t.importCustomerNum)t.completionRate="0%";else{var e=o["a"].divide(t.addedCustomerNum,t.importCustomerNum),n=Math.floor(100*e)/100,i=o["a"].times(n,100);t.completionRate=i+"%"}return t.staffName=t.distributionCustomerService.split(","),t.key=t.id,Object.assign({},t)}))}}},d=s,u=(n("46ef"),n("2877")),c=Object(u["a"])(d,i,a,!1,null,"82080072",null);e["default"]=c.exports}}]);