(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8720308e"],{"02ff":function(e,t,n){"use strict";var a=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:"权限设置",destroyOnClose:""},on:{ok:e.ok,cancel:e.cancel},model:{value:e.visiblePurviewSetting,callback:function(t){e.visiblePurviewSetting=t},expression:"visiblePurviewSetting"}},[t("a-form",{attrs:{layout:"inline"}},[t("a-form-item",{attrs:{label:"设置角色:"}},[t("a-select",{staticStyle:{width:"200px"},model:{value:e.selectRole,callback:function(t){e.selectRole=t},expression:"selectRole"}},e._l(e.roles,(function(n){return t("a-select-option",{key:n.roleId,attrs:{value:n.roleId}},[e._v(" "+e._s(n.roleName)+" ")])})),1)],1)],1),t("div",[e.findSelectRoles&&e.findSelectRoles.desc?t("div",{staticClass:"font-color-black-25"},[e._v(e._s(e.findSelectRoles.desc))]):e._e(),e.findSelectRoles&&e.findSelectRoles.children?t("div",{staticClass:"department-box"},[t("a-tree",{attrs:{checkable:"","auto-expand-parent":e.autoExpandParent,"tree-data":e.treeData},model:{value:e.checkedKeys,callback:function(t){e.checkedKeys=t},expression:"checkedKeys"}},[t("a-icon",{staticClass:"primaryColor",attrs:{slot:"switcherIcon",type:"caret-down"},slot:"switcherIcon"})],1)],1):e._e()])],1)},i=[],r=(n("7db0"),n("d3b7"),n("d81d"),n("a15b"),n("1c9c")),s={name:"PurviewSetting",props:["value","roles","selectRoleId","staffId","roleName"],data:function(){return{visiblePurviewSetting:!1,selectRole:"",autoExpandParent:!0,checkedKeys:[]}},computed:{findSelectRoles:function(){var e,t=this;return null===(e=this.roles)||void 0===e?void 0:e.find((function(e){return e.roleId===t.selectRole}))},treeData:function(){var e,t,n=[];return(null===(e=this.findSelectRoles)||void 0===e||null===(t=e.children)||void 0===t?void 0:t.length)>0&&(n=this.getTreeData(this.findSelectRoles.children)),n}},watch:{value:function(){this.visiblePurviewSetting=this.value},selectRoleId:{handler:function(){this.selectRole=this.selectRoleId},immediate:!0},roleName:{handler:function(){var e,t,n=this;this.selectRole=null===(e=this.roles)||void 0===e||null===(t=e.find((function(e){return e.roleName===n.roleName})))||void 0===t?void 0:t.roleId},immediate:!0}},created:function(){},methods:{getTreeData:function(e){var t=this;if((null===e||void 0===e?void 0:e.length)>0){var n=e.map((function(e){var n={title:e.roleName,key:e.roleId,slots:{icon:"smile"},children:void 0};return e.children&&(n.children=t.getTreeData(e.children)),n}));return n}},cancel:function(){this.visiblePurviewSetting=!1,this.$emit("input",this.visiblePurviewSetting)},ok:function(){var e=this;this.visiblePurviewSetting=!1,this.$emit("input",this.visiblePurviewSetting);var t=this.getParams();Object(r["c"])(t).then((function(t){e.$message.success("切换角色成功"),e.$emit("changeRoleId",e.selectRole)})).catch((function(t){e.$message.error(t||t.message)}))},getParams:function(){var e=this.selectRole;return this.findSelectRoles.children&&(e=this.checkedKeys.join(",")),{staffId:this.staffId,roleIds:e}}}},o=s,c=(n("631c"),n("2877")),l=Object(c["a"])(o,a,i,!1,null,"13883349",null);t["a"]=l.exports},"195d":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"jurisdiction page-box"},[t("RoleManagement",{staticClass:"role-management"})],1)},i=[],r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"page-wrap",class:e.isOpen?"open":"close"},[t("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.handleInfiniteOnLoad,expression:"handleInfiniteOnLoad"}],staticClass:"infinite-container",class:e.isOpen?"open":"close",attrs:{"infinite-scroll-disabled":e.busy,"infinite-scroll-distance":10}},[t("a-list",{attrs:{"data-source":e.data}},[t("a-list-item",{attrs:{slot:"renderItem"},slot:"renderItem"},[t("div",{staticStyle:{margin:"0 20px"}},[t("a-icon",{staticStyle:{color:"#1890ff","margin-right":"10px"},attrs:{type:"apple"}}),t("span",{staticStyle:{"margin-right":"10px"}},[e._v("操作记录：2021-04-09 17:06")]),t("a-avatar",{staticStyle:{"margin-right":"10px"},attrs:{size:"small",src:"https://wework.qpic.cn/bizmail/6SE4ib6tnvUWXfGa1havMqXkibzs8yBaOJQ6aF7nYAZWfDlSRnjLJFLg/60"}}),t("span",[e._v("张艺强将“阿卡索Eva老师”设为了“普通员工”")])],1)]),e.loading?t("div",{staticClass:"demo-loading-container"},[t("a-spin",{attrs:{tip:"正在加载中..."}})],1):e._e()],1)],1),t("div",{staticClass:"stretch primaryColor",on:{click:function(t){e.isOpen=!e.isOpen}}},[e._v(e._s(e.isOpen?"收起":"展开全部"))])])},s=[],o=n("487a"),c=n.n(o),l={name:"OperatingRecord",directives:{infiniteScroll:c.a},data:function(){return{data:[{name:"张三"},{name:"张三"},{name:"张三"},{name:"张三"},{name:"张三"},{name:"张三"},{name:"张三"},{name:"张三"},{name:"张三"},{name:"张三"},{name:"张三"},{name:"张三"}],isOpen:!1,loading:!0,busy:!1}},methods:{handleInfiniteOnLoad:function(){var e=this.data;if(this.loading=!0,e.length>14)return this.$message.warning("Infinite List loaded all"),this.busy=!0,void(this.loading=!1)}}},u=l,d=(n("a853"),n("2877")),f=Object(d["a"])(u,r,s,!1,null,"456faf77",null),h=f.exports,m=(n("99af"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"role-management"},[t("aside",{staticClass:"role-aside"},[t("div",{staticClass:"title"},[e._v("角色管理")]),t("a-menu",{attrs:{mode:"inline",defaultSelectedKeys:[1]}},e._l(e.roleList,(function(n,a){return t("a-menu-item",{key:n.roleId,on:{click:function(t){return e.changeRoleList(a)}}},[e._v(e._s("".concat(n.roleName,"(").concat(n.staffNum,")")))])})),1)],1),t("section",{staticClass:"role-section"},[t("p",{staticClass:"title"},[e._v(e._s(e.selectMenuText||""))]),t("a-tabs",{staticClass:"search-table",attrs:{"default-active-key":"teanList"},on:{change:e.changeTabs}},[t("a-tab-pane",{key:"teanList",attrs:{tab:"成员列表"}},[t("MemberList",{attrs:{tableList:e.tableList,pagination:e.pagination,roleList:e.roleList,selectRoleId:e.selectRoleId},on:{change:e.change,changeRoleId:e.changeRoleId}})],1),t("a-tab-pane",{key:"jurisdiction",attrs:{tab:"权限管理"}},[t("CxtendCompetence",{attrs:{selectRoleId:e.selectRoleId}})],1),"teanList"===e.selectTabsKey?t("div",{staticClass:"tabBar-extra-content",attrs:{slot:"tabBarExtraContent"},slot:"tabBarExtraContent"},[t("a-input-search",{staticClass:"search-input",attrs:{allowClear:"",placeholder:"请输入成员名称"},on:{search:e.onSearchName},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}}),t("a-button",{on:{click:function(t){e.isHideTransfer=!0}}},[e._v(e._s(e.getRoleName))])],1):e._e()],1)],1),t("a-modal",{attrs:{title:e.getRoleName,width:"620px",footer:null,destroyOnClose:""},model:{value:e.isHideTransfer,callback:function(t){e.isHideTransfer=t},expression:"isHideTransfer"}},[t("p",{staticClass:"text-tips"},[t("a-icon",{staticClass:"primaryColor",attrs:{type:"caret-down"}}),e._v(" 若员工不存在任何部门，无法设置为部门管理员哦，若需要修改部门请前往企业微信设置 "),t("a",{attrs:{href:"https://work.weixin.qq.com/wework_admin/frame#contacts",target:"_blank"}},[e._v("去设置")])],1),t("Transfer",{attrs:{selectRoleIdList:[e.selectRoleId]},on:{serviceOk:e.serviceOk,cancle:function(t){e.isHideTransfer=!1}}})],1)],1)}),p=[],g=(n("d81d"),n("d3b7"),n("b0c0"),n("a15b"),n("498a"),function(){var e=this,t=e._self._c;return t("div",[t("a-table",{staticClass:"role-table-list",attrs:{columns:e.columns,"data-source":e.tableList,loading:e.tableLoading,pagination:e.pagination},on:{change:e.change},scopedSlots:e._u([{key:"info",fn:function(n){return t("div",{staticClass:"name-list"},[t("a-avatar",{staticClass:"portrait",attrs:{shape:"square",size:"default",src:n.thumbAvatar}}),t("div",[t("p",[e._v(e._s(n.name))]),t("p",{staticClass:"font-color-black-25"},[e._v("别名："+e._s(n.alias))])])],1)}},{key:"operation",fn:function(n){return t("div",{staticClass:"operation"},[t("a-button",{attrs:{type:"link"},on:{click:function(t){return e.changeStaff(n)}}},[e._v(" 更换角色 ")]),t("a-divider",{attrs:{type:"vertical"}})],1)}}])}),t("PurviewSetting",{attrs:{roles:e.roleList,staffId:e.staffId,selectRoleId:e.selectRoleId},on:{changeRoleId:function(t){return e.$emit("changeRoleId")}},model:{value:e.visiblePurviewSetting,callback:function(t){e.visiblePurviewSetting=t},expression:"visiblePurviewSetting"}})],1)}),v=[],b=(n("a9e3"),n("02ff")),y={name:"MemberList",components:{PurviewSetting:b["a"]},props:{pagination:{type:[Object],default:function(){return{}}},selectRoleId:{type:[String,Number],default:""},roleList:{type:Array,default:function(){return[]}},tableList:{type:[Array,Object],default:function(){return[]}}},data:function(){return{visiblePurviewSetting:!1,tableLoading:!1,staffId:"",searchName:"",columns:[{title:"成员列表",dataIndex:"info",key:"info",scopedSlots:{customRender:"info"}},{title:"所在部门",dataIndex:"department",key:"department"},{title:"管理部门",dataIndex:"adminDept",key:"adminDept",ellipsis:!0},{title:"操作",dataIndex:"operation",key:"operation",ellipsis:!0,scopedSlots:{customRender:"operation"}}]}},created:function(){},methods:{changeStaff:function(e){this.staffId=e.staffId,this.visiblePurviewSetting=!0},change:function(e){var t=e.current;this.$emit("change",{current:t}),this.pagination.current=t}}},R=y,O=(n("4b16"),Object(d["a"])(R,g,v,!1,null,"adc4d346",null)),S=O.exports,I=function(){var e=this,t=e._self._c;return t("div",[1!==e.selectRoleId?t("div",{staticClass:"cxtend-button"},[t("a-button",{attrs:{type:"primary"},on:{click:e.changeRolu}},[e._v("确定")])],1):e._e(),t("a-spin",{attrs:{spinning:e.spinning}},[e.menuList.length>0?t("ul",{staticClass:"cxtend-competence"},e._l(e.menuList,(function(n){return t("li",{key:n.name},[t("header",{staticClass:"header"},["string"===typeof n.icon?[t("a-icon",{staticClass:"icon",attrs:{type:n.icon}})]:[t(n.icon,{tag:"component",staticClass:"icon"})],e._v(" "+e._s(n.resName)+" ")],2),t("a-table",{attrs:{columns:e.columns,"data-source":n.children,bordered:"",rowKey:function(e,t){return t},pagination:!1},scopedSlots:e._u([{key:"operation",fn:function(n){return t("div",{},[e._v(" "+e._s(n.permission)+" "),t("a-checkbox",{attrs:{disabled:1===e.selectRoleId},model:{value:n.booleanType,callback:function(t){e.$set(n,"booleanType",t)},expression:"operation.booleanType"}})],1)}}],null,!0)})],1)})),0):t("a-empty")],1)],1)},k=[],L=n("5530"),w=(n("159b"),n("7db0"),n("1c9c")),C=n("d73b"),_={name:"CxtendCompetence",props:["selectRoleId"],data:function(){return{menuList:[],spinning:!1,columns:[{title:"功能名称",dataIndex:"resName",key:"resName",scopedSlots:{customRender:"resName"}},{title:"管理权限",dataIndex:"operation",key:"operation",scopedSlots:{customRender:"operation"}}]}},watch:{selectRoleId:{handler:function(){this.getRoleRes()},immediate:!0}},computed:{getResIds:function(){var e=[];return this.menuList.forEach((function(t){var n;null===(n=t.children)||void 0===n||n.forEach((function(t){t.booleanType&&e.push(t.resId)}))})),e}},methods:{changeRolu:function(){var e=this;this.$confirm({title:"提示",icon:"",okText:"确认",content:"是否要更改权限？，更改权限后，用户退出重新登录即可生效",onOk:function(){e.changeRes()}})},changeRes:function(){var e=this,t={roleId:this.selectRoleId,resIds:this.getResIds};Object(w["b"])(t).then((function(t){e.$message.success("权限更改成功")})).catch((function(t){e.$message.error(t)}))},getRoleRes:function(){var e=this;this.spinning=!0,Object(w["p"])({roleId:this.selectRoleId}).then((function(t){var n;(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.length)>0?e.menuList=t.data.map((function(e){var t,n=C["a"][0].children.find((function(t){return t.meta.title===e.resName}));return Object(L["a"])(Object(L["a"])({},e),{},{icon:n.meta.icon,key:e.name,children:(null===(t=e.children)||void 0===t?void 0:t.map((function(e){var t=Object(L["a"])(Object(L["a"])({},e),{},{key:e.name,booleanType:Boolean(e.type)});return t.operation=t,t})))||[]})})):e.menuList=[]})).catch((function(t){e.$message.error(t||t.message),e.menuList=[]})).finally((function(){e.spinning=!1}))}}},j=_,T=(n("f924"),Object(d["a"])(j,I,k,!1,null,"24f393c0",null)),x=T.exports,D=n("2909"),N=(n("caad"),n("2532"),function(){var e=this,t=e._self._c;return t("div",[t("a-spin",{attrs:{spinning:e.spinning}},[t("a-transfer",{staticClass:"transfer",attrs:{"show-search":"","data-source":e.dataSource,"target-keys":e.targetKeys,"filter-option":e.filterOption,render:function(e){return e.title},"show-select-all":!1},on:{search:e.handleSearch,change:e.handleChange},scopedSlots:e._u([{key:"children",fn:function(n){var a=n.props,i=a.direction,r=a.selectedKeys,s=n.on.itemSelect;return["left"===i?t("a-tree",{staticClass:"transfer-tree",attrs:{blockNode:"",checkStrictly:"","load-data":e.onLoadData,expandedKeys:e.defaultExpandedKeys,checkedKeys:[].concat(Object(D["a"])(r),Object(D["a"])(e.targetKeys)),treeData:e.filterleftTreeData},on:{expand:e.expand,check:function(t,n){e.onChecked(t,n,[].concat(Object(D["a"])(r),Object(D["a"])(e.targetKeys)),s)},select:function(t,n){e.onChecked(t,n,[].concat(Object(D["a"])(r),Object(D["a"])(e.targetKeys)),s)}},scopedSlots:e._u([{key:"title",fn:function(n){return t("div",{staticClass:"title-wrap"},[n.dataRef.source.staffId?t("div",{staticClass:"title-chilred"},[t("a-avatar",{attrs:{size:40,src:n.dataRef.source.thumbAvatar,shape:"square"}}),t("div",{staticClass:"info-wrap"},[t("p",[e._v(e._s(n.dataRef.source.name))]),t("a-tag",[e._v(e._s(n.dataRef.source.roleName))])],1)],1):t("div",[e._v(e._s(n.title))]),n.dataRef.selectable?t("a-radio",{attrs:{checked:[].concat(Object(D["a"])(r),Object(D["a"])(e.targetKeys)).includes(n.key)}}):e._e()],1)}}],null,!0)}):t("ul",{staticClass:"right-wrap"},e._l(e.filterRightTreeData,(function(n){return t("li",{key:n.title},[t("div",{staticClass:"title-chilred"},[n.icon?t("a-icon",{staticClass:"icon",attrs:{type:n.icon}}):t("a-avatar",{staticClass:"img",attrs:{size:40,src:n.source.thumbAvatar,shape:"square"}}),t("div",{staticClass:"info-wrap"},[t("a-tooltip",{attrs:{title:n.source.name}},[t("p",[e._v(e._s(n.source.name))])]),n.icon?e._e():t("a-tag",[e._v(e._s(n.source.roleName))])],1)],1),t("a-icon",{attrs:{type:"close"},on:{click:function(t){return e.canclePerson(n)}}})],1)})),0)]}}])})],1),t("div",{staticClass:"foot-button"},[t("a-space",{attrs:{size:12}},[t("a-button",{on:{click:function(t){return e.$emit("cancle")}}},[e._v("取消")]),t("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$emit("serviceOk",e.filterRightTreeData)}}},[e._v("确定")])],1)],1)],1)}),K=[],$=(n("4de4"),n("ac1f"),n("841c"),n("c740"),n("a434"),{name:"Transfer",props:{type:{type:String,default:"deptId"},selectRoleIdList:{type:[Array],default:function(){return[]}}},data:function(){return{targetKeys:[],dataSource:[],treeData:[],spinning:!1,searchLeftTreeData:"",rightSearch:"",defaultExpandedKeys:[]}},created:function(){this.getStaff()},computed:{filterleftTreeData:function(){return this.searchLeftTreeData?this.searchLeftTreeData:this.treeData},filterRightTreeData:function(){var e=this;return this.targetItems.filter((function(t){return t.title.search(e.rightSearch)>=0}))},targetItems:function(){var e=this,t=this.dataSource.filter((function(t){var n=e.targetKeys.includes(t.key);if(n)return t.source.departmentId&&(t.icon="file"),t}));return t}},methods:{expand:function(e){this.defaultExpandedKeys=e},getStaff:function(){var e=this;this.spinning=!0,Object(w["h"])().then((function(t){var n;e.treeData=e.getTreeData(t.data,"deptId"),e.defaultExpandedKeys=[null===(n=e.treeData[0])||void 0===n?void 0:n.key],e.dataSource=e.flatten(JSON.parse(JSON.stringify(e.treeData)))})).catch((function(t){e.$message.error(t)})).finally((function(){e.spinning=!1}))},canclePerson:function(e){var t=this.targetKeys.findIndex((function(t){return t===e.key}));t>=0&&this.targetKeys.splice(t,1)},flatten:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return t.forEach((function(t){n.push({key:t.key,title:t.title,source:t.source,disabled:!1}),t.children&&n.push.apply(n,Object(D["a"])(e.flatten(t.children)))})),n},getTreeData:function(e,t){var n=this,a=[];return(null===e||void 0===e?void 0:e.length)>0&&e.forEach((function(e){var i,r={key:String(e[t]),title:e.name||e.groupName||e.deptName,source:e,disabled:!(null===(i=n.selectRoleIdList)||void 0===i||!i.includes(e.roleId)),selectable:!!(n.selectRoleIdList.length>0&&e.staffId),scopedSlots:{title:"title"},children:e.children&&n.getTreeData(e.children,t)};"deptId"===n.type&&(r.key=e.userid?String(e.userid):String(e.deptId),r.isLeaf=!!e.userid,e.staffs&&(r.children=r.children?n.getTreeData(e.staffs,t).concat(r.children):n.getTreeData(e.staffs,t))),a.push(r)})),a},onLoadData:function(e){var t=this;return new Promise((function(n){e.dataRef.children||"deptId"!==t.type?n():t.getDepartmentStaff(e.dataRef.source.deptId).then((function(n){e.dataRef.children=n,t.treeData=Object(D["a"])(t.treeData),t.dataSource=t.flatten(JSON.parse(JSON.stringify(t.treeData)))})).finally((function(){n()}))}))},getDepartmentStaff:function(e){var t=this;return Object(w["l"])({deptId:e}).then((function(e){return t.getTreeData(e.data,"deptId")})).catch((function(e){t.$message.error(e)}))},handleChange:function(e){this.targetKeys=e,this.$emit("getTargetKeys",this.targetKeys)},onChecked:function(e,t,n,a){var i=t.node.eventKey;a(i,!this.isChecked(n,i))},isChecked:function(e,t){return-1!==e.indexOf(t)},filterOption:function(e,t){return t.title.indexOf(e)>-1},handleSearch:function(e,t){var n=this;"left"===e?t?this.searchStaffName(t).then((function(e){var t;n.searchLeftTreeData=e||[],(t=n.dataSource).push.apply(t,Object(D["a"])(n.flatten(JSON.parse(JSON.stringify(n.searchLeftTreeData)))))})):this.searchLeftTreeData=this.getSearchLeftTreeData(this.treeData,t):this.rightSearch=t},searchStaffName:function(e){var t=this;return this.spinning=!0,Object(w["q"])({name:e}).then((function(e){return t.getTreeData(e.data.list,"staffId")})).catch((function(e){t.$message.error(e)})).finally((function(){t.spinning=!1}))},getSearchLeftTreeData:function(e,t){var n=this;if(!t)return e;var a=[];return e.forEach((function(e){e.title.search(t)>=0&&a.push(e),e.children&&a.push.apply(a,Object(D["a"])(n.getSearchLeftTreeData(e.children,t)))})),a}}}),E=$,P=(n("fa39"),Object(d["a"])(E,N,K,!1,null,"f5f48c04",null)),A=P.exports,M={name:"RoleManagement",components:{MemberList:S,CxtendCompetence:x,Transfer:A},data:function(){return{roleList:[],tableList:[],targetKeys:[],selectMenuIndex:0,selectTabsKey:"teanList",isHideTransfer:!1,searchName:"",pagination:{current:1,pageSize:8,total:0}}},computed:{selectMenuText:function(){var e,t;return"".concat(null===(e=this.roleList[this.selectMenuIndex])||void 0===e?void 0:e.roleName,"(").concat(null===(t=this.roleList[this.selectMenuIndex])||void 0===t?void 0:t.staffNum,")")},getRoleName:function(){var e;return"添加".concat(null===(e=this.roleList[this.selectMenuIndex])||void 0===e?void 0:e.roleName)},selectRoleId:function(){var e;return null===(e=this.roleList[this.selectMenuIndex])||void 0===e?void 0:e.roleId}},created:function(){var e=this;this.getRoleList().then((function(){e.getStaffList()}))},methods:{serviceOk:function(e){var t,n=this;if(this.targetKeys=e,(null===(t=this.targetKeys)||void 0===t?void 0:t.length)>0){var a={roleId:this.selectRoleId,userid:this.targetKeys.map((function(e){return e.source.userid}))};Object(w["a"])(a).then((function(e){n.$message.success("添加成功"),n.isHideTransfer=!1,n.getRoleList(),n.getStaffList()})).catch((function(){n.$message.error("添加失败")}))}else this.$message.warning("请选择员工")},changeRoleId:function(){this.getRoleList(),this.getStaffList()},getStaffList:function(){var e=this;this.tableLoading=!0;var t={roleId:this.selectRoleId,pageNum:this.pagination.current,pageSize:this.pagination.pageSize,name:this.searchName};Object(w["y"])(t).then((function(t){var n,a;e.disposeTableList(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.list),e.pagination.total=null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.total})).catch((function(t){e.$message.error(t||t.message)})).finally((function(){e.tableLoading=!1}))},disposeTableList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.tableList=e?e.map((function(e,t){var n,a;return e.info={thumbAvatar:e.thumbAvatar,name:e.name,alias:e.alias},e.department=null===e||void 0===e||null===(n=e.deptName)||void 0===n?void 0:n.join("、"),e.adminDept=null===e||void 0===e||null===(a=e.adminDept)||void 0===a?void 0:a.join("、"),e.key=e.userid,e.operation=e,e})):[]},onSearchName:function(){var e;this.searchName=null===(e=this.searchName)||void 0===e?void 0:e.trim(),this.getStaffList()},changeRoleList:function(e){this.pagination.current=1,this.selectMenuIndex=e,this.getStaffList()},changeTabs:function(e){this.selectTabsKey=e},change:function(e){var t=e.current;this.pagination.current=t,this.getStaffList()},getRoleList:function(){var e=this;return Object(w["w"])().then((function(t){e.roleList=(null===t||void 0===t?void 0:t.data)||[]})).catch((function(t){e.$message.error(t||t.message)}))}}},q=M,H=(n("4e710"),Object(d["a"])(q,m,p,!1,null,"d0ae0a00",null)),z=H.exports,J={name:"Jurisdiction",components:{OperatingRecord:h,RoleManagement:z},data:function(){return{}},methods:{}},B=J,G=(n("57eac"),Object(d["a"])(B,a,i,!1,null,"5290420f",null));t["default"]=G.exports},"1c9c":function(e,t,n){"use strict";n.d(t,"s",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"t",(function(){return o})),n.d(t,"j",(function(){return c})),n.d(t,"n",(function(){return l})),n.d(t,"y",(function(){return u})),n.d(t,"w",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"B",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"h",(function(){return p})),n.d(t,"a",(function(){return g})),n.d(t,"q",(function(){return v})),n.d(t,"i",(function(){return b})),n.d(t,"v",(function(){return y})),n.d(t,"p",(function(){return R})),n.d(t,"b",(function(){return O})),n.d(t,"l",(function(){return S})),n.d(t,"m",(function(){return I})),n.d(t,"z",(function(){return k})),n.d(t,"C",(function(){return L})),n.d(t,"k",(function(){return w})),n.d(t,"A",(function(){return C})),n.d(t,"x",(function(){return _})),n.d(t,"r",(function(){return j})),n.d(t,"o",(function(){return T})),n.d(t,"d",(function(){return x})),n.d(t,"f",(function(){return D})),n.d(t,"u",(function(){return N}));var a=n("b775"),i={staff:"/enterprise/role/staff",roleList:"/enterprise/role",roleResource:"/enterprise/role/getRoleResource",syncAll:"/enterprise/staff/syncAll",getCustGrpList:"/client_group/customerGroup/getCustGrpList",changeRole:"/enterprise/role/change",departmentStaff:"/enterprise/department/staff",addStaffRole:"/enterprise/role/addStaffRole",getQuitStaff:"/client_manager/transfer/getQuitStaff",getStaff:"/enterprise/staff/get",department:"/enterprise/department",getDepartmentStaff:"/enterprise/department/getStaff",loginAdmin:"/enterprise/staff/loginAdmin",getRoleRes:"/enterprise/role/getRoleRes",changeRes:"/enterprise/role/change/res",getPermissionLog:"/enterprise/permissionLog/query",staffInfo:"/enterprise/staff/statistics/get/staffInfo",yesterdayData:"/enterprise/staff/statistics/get/yesterdayData",getDate:"/enterprise/staff/statistics/get/date",editDelConfig:"/client_manager/customerdelremind/editDelConfig",queryDelConfig:"/client_manager/customerdelremind/queryDelConfig",customStage:"/enterprise/staff/statistics/get/stage",idOrUserIdGet:"/enterprise/staff/idOrUserIdGet",staffOKR:"/enterprise/staffOKR/staffOKR",saveOKR:"/enterprise/staffOKR/save",getStaffOKRList:"/enterprise/staffOKR/getStaffOKRList",getRepeatList:"/enterprise/staffOKR/getRepeatList",checkTime:"enterprise/staffOKR/checkTime",delOkr:"/enterprise/staffOKR/del",modify:"/enterprise/staffOKR/modify"};function r(e){return Object(a["b"])({url:i.idOrUserIdGet,method:"get",params:e})}function s(e){return Object(a["b"])({url:i.customStage,method:"get",params:e})}function o(e){return Object(a["b"])({url:i.loginAdmin,method:"get",params:e})}function c(e){return Object(a["b"])({url:i.getCustGrpList,method:"post",data:e})}function l(e){return Object(a["b"])({url:i.getQuitStaff,method:"get",params:e})}function u(e){return Object(a["b"])({url:i.staff,method:"get",params:e})}function d(){return Object(a["b"])({url:i.roleList,method:"get"})}function f(){return Object(a["b"])({url:i.department,method:"get"})}function h(){return Object(a["b"])({url:i.syncAll,method:"get"})}function m(e){return Object(a["b"])({url:i.changeRole,method:"get",params:e})}function p(){return Object(a["b"])({url:i.departmentStaff,method:"get"})}function g(e){return Object(a["b"])({url:i.addStaffRole,method:"post",data:e})}function v(e){return Object(a["b"])({url:i.getStaff,method:"get",params:e})}function b(e){return Object(a["b"])({url:i.editDelConfig,method:"post",data:e})}function y(e){return Object(a["b"])({url:i.queryDelConfig,method:"post",data:e})}function R(e){return Object(a["b"])({url:i.getRoleRes,method:"get",params:e})}function O(e){return Object(a["b"])({url:i.changeRes,method:"post",data:e})}function S(e){return Object(a["b"])({url:i.getDepartmentStaff,method:"get",params:e})}function I(e){return Object(a["b"])({url:i.getPermissionLog,method:"post",data:e})}function k(e){return Object(a["b"])({url:i.staffInfo,method:"get",params:e})}function L(e){return Object(a["b"])({url:i.yesterdayData,method:"get",params:e})}function w(e){return Object(a["b"])({url:i.getDate,method:"get",params:e})}function C(e){return Object(a["b"])({url:i.staffOKR,method:"get",params:e})}function _(e){return Object(a["b"])({url:i.saveOKR,method:"post",data:e})}function j(e){return Object(a["b"])({url:i.getStaffOKRList,method:"get",params:e})}function T(e){return Object(a["b"])({url:i.getRepeatList,method:"get",params:e})}function x(e){return Object(a["b"])({url:i.checkTime,method:"get",params:e})}function D(e){return Object(a["b"])({url:i.delOkr,method:"post",data:e})}function N(e){return Object(a["b"])({url:i.modify,method:"post",data:e})}},2852:function(e,t,n){},2909:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("6b75");function i(e){if(Array.isArray(e))return Object(a["a"])(e)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var s=n("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return i(e)||r(e)||Object(s["a"])(e)||o()}},"2ebb":function(e,t,n){},"487a":function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){"use strict";var e="@@InfiniteScroll",t=function(e,t){var n,a,i,r,s,o=function(){e.apply(r,s),a=n};return function(){if(r=this,s=arguments,n=Date.now(),i&&(clearTimeout(i),i=null),a){var e=t-(n-a);e<0?o():i=setTimeout((function(){o()}),e)}else o()}},n=function(e){return e===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):e.scrollTop},a=document.defaultView.getComputedStyle,i=function(e){var t=e;while(t&&"HTML"!==t.tagName&&"BODY"!==t.tagName&&1===t.nodeType){var n=a(t).overflowY;if("scroll"===n||"auto"===n)return t;t=t.parentNode}return window},r=function(e){return e===window?document.documentElement.clientHeight:e.clientHeight},s=function(e){return e===window?n(window):e.getBoundingClientRect().top+n(window)},o=function(e){var t=e.parentNode;while(t){if("HTML"===t.tagName)return!0;if(11===t.nodeType)return!1;t=t.parentNode}return!1},c=function(){if(!this.binded){this.binded=!0;var e=this,n=e.el,a=n.getAttribute("infinite-scroll-throttle-delay"),r=200;a&&(r=Number(e.vm[a]||a),(isNaN(r)||r<0)&&(r=200)),e.throttleDelay=r,e.scrollEventTarget=i(n),e.scrollListener=t(l.bind(e),e.throttleDelay),e.scrollEventTarget.addEventListener("scroll",e.scrollListener),this.vm.$on("hook:beforeDestroy",(function(){e.scrollEventTarget.removeEventListener("scroll",e.scrollListener)}));var s=n.getAttribute("infinite-scroll-disabled"),o=!1;s&&(this.vm.$watch(s,(function(t){e.disabled=t,!t&&e.immediateCheck&&l.call(e)})),o=Boolean(e.vm[s])),e.disabled=o;var c=n.getAttribute("infinite-scroll-distance"),u=0;c&&(u=Number(e.vm[c]||c),isNaN(u)&&(u=0)),e.distance=u;var d=n.getAttribute("infinite-scroll-immediate-check"),f=!0;d&&(f=Boolean(e.vm[d])),e.immediateCheck=f,f&&l.call(e);var h=n.getAttribute("infinite-scroll-listen-for-event");h&&e.vm.$on(h,(function(){l.call(e)}))}},l=function(e){var t=this.scrollEventTarget,a=this.el,i=this.distance;if(!0===e||!this.disabled){var o=n(t),c=o+r(t),l=!1;if(t===a)l=t.scrollHeight-c<=i;else{var u=s(a)-s(t)+a.offsetHeight+o;l=c+i>=u}l&&this.expression&&this.expression()}},u={bind:function(t,n,a){t[e]={el:t,vm:a.context,expression:n.value};var i=arguments;t[e].vm.$on("hook:mounted",(function(){t[e].vm.$nextTick((function(){o(t)&&c.call(t[e],i),t[e].bindTryCount=0;var n=function n(){t[e].bindTryCount>10||(t[e].bindTryCount++,o(t)?c.call(t[e],i):setTimeout(n,50))};n()}))}))},unbind:function(t){t&&t[e]&&t[e].scrollEventTarget&&t[e].scrollEventTarget.removeEventListener("scroll",t[e].scrollListener)}},d=function(e){e.directive("InfiniteScroll",u)};return window.Vue&&(window.infiniteScroll=u,Vue.use(d)),u.install=d,u}))},"4af9":function(e,t,n){},"4b16":function(e,t,n){"use strict";n("86b4")},"4e710":function(e,t,n){"use strict";n("d54a")},"57eac":function(e,t,n){"use strict";n("2ebb")},6167:function(e,t,n){},"631c":function(e,t,n){"use strict";n("6167")},"86b4":function(e,t,n){},a853:function(e,t,n){"use strict";n("2852")},b37f:function(e,t,n){},d54a:function(e,t,n){},f924:function(e,t,n){"use strict";n("4af9")},fa39:function(e,t,n){"use strict";n("b37f")}}]);