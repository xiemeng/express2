(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d9e02314"],{"037a":function(t,e,a){"use strict";a("fc2e")},"0666":function(t,e,a){"use strict";a("a68d")},"0d56":function(t,e,a){t.exports=a.p+"img/group-infinite.8acd7a5c.png"},"1d9f":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"e",(function(){return o})),a.d(e,"c",(function(){return c})),a.d(e,"b",(function(){return l})),a.d(e,"d",(function(){return r}));var i=a("b775"),n={infoniteList:"/client_group/unlimitedPull/query",delGroupInfinte:"/client_group/unlimitedPull/delete",queryList:"/client_group/unlimitedPull/get",addInfinite:"/client_group/unlimitedPull/add",updateInfinite:"/client_group/unlimitedPull/update"};function s(t){return Object(i["b"])({url:n.addInfinite,method:"post",data:t})}function o(t){return Object(i["b"])({url:n.updateInfinite,method:"post",data:t})}function c(t){return Object(i["b"])({url:n.infoniteList,method:"get",params:t})}function l(t){return Object(i["b"])({url:n.delGroupInfinte,method:"get",params:t})}function r(t){return Object(i["b"])({url:n.queryList,method:"get",params:t})}},"23e6":function(t,e,a){},5512:function(t,e,a){},"8ffe":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[e("ChannelList")],1)},n=[],s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"channel-list"},[e("a-row",{staticClass:"search-hurdle",attrs:{type:"flex",justify:"space-between"}},[e("a-col",[e("a-space",{attrs:{size:12}},[e("a-button",{attrs:{type:"primary",size:"large"},on:{click:function(e){return t.$router.push({name:"NewGruoupInfinite",query:{state:"add"}})}}},[t._v("新建拉群")])],1),e("a-space",{attrs:{size:12}},[e("a-button",{staticClass:"reset-btn",attrs:{size:"large"},on:{click:function(e){t.manualShow=!0}}},[t._v("使用手册")])],1)],1),e("a-col",[e("a-space",{attrs:{size:18}},[e("a-input-search",{attrs:{allowClear:"",placeholder:"请输入名称搜索"},on:{search:t.searchName},model:{value:t.codeName,callback:function(e){t.codeName=e},expression:"codeName"}})],1)],1)],1),e("a-table",{staticClass:"background-white",attrs:{"data-source":t.channelList,columns:t.columns,loading:t.loading,pagination:t.pagination},on:{change:t.change},scopedSlots:t._u([{key:"urlCodeInfo",fn:function(a){return e("img",{staticClass:"qr-code clickable",attrs:{src:a.urlCode,alt:"二维码"},on:{click:function(e){return t.openCodeDetail(a.info)}}})}},{key:"codeList",fn:function(a){return e("div",{},[e("ul",[t._l(a,(function(a,i){return e("li",{directives:[{name:"show",rawName:"v-show",value:t.isOpen||i<2,expression:"isOpen || index < 2"}],key:i,staticClass:"code-info"},[e("div",{staticClass:"code-info-left"},[e("img",{attrs:{alt:"头像",src:a.liveCodeUrl}}),t._v(" 群活码"+t._s(i+1)+" ")]),e("div",{staticClass:"code-tag"},[e("a-tag",{attrs:{color:a.statusObj.color}},[t._v(t._s(a.statusObj.text))])],1)])})),a.length>2?e("span",{staticClass:"aks-tips clickable",on:{click:function(e){t.isOpen=!t.isOpen}}},[t._v(" "+t._s(t.isOpen?"收起":"展开")),e("a-icon",{attrs:{type:t.isOpen?"up":"down"}})],1):t._e()],2)])}},{key:"operation",fn:function(a){return e("div",{},[e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.openCodeDetail(a)}}},[t._v("详情")]),e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.download(a.qrcodeAddress)}}},[t._v("下载")]),e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.$router.push({name:"NewGruoupInfinite",query:{id:a.id,state:"edit"}})}}},[t._v(" 编辑 ")]),e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.deleteGruoup(a.id,a.itemName)}}},[t._v("删除")])],1)}}])},[e("div",{attrs:{slot:"useMemberTitle"},slot:"useMemberTitle"},[t._v(" 扫码人数 "),e("a-tooltip",[e("a-icon",{staticStyle:{"margin-left":"4px"},attrs:{type:"question-circle"}}),e("div",{attrs:{slot:"title"},slot:"title"},[t._v("统计扫描"+t._s(t.ENTERPRICE_NAME)+"活码的人数，若客户重复扫码将会记录多条数据")])],1)],1)]),e("manual",{attrs:{showbox:t.manualShow},on:{manualCancel:t.manualCancel}}),e("a-modal",{attrs:{visible:t.visibleCodeTetail,footer:null,width:"600px",centered:""},on:{cancel:function(e){t.visibleCodeTetail=!1}}},[e("CodeDetail",{attrs:{groupDetail:t.selectData}})],1)],1)},o=[],c=a("5530"),l=(a("d3b7"),a("d81d"),function(){var t=this,e=t._self._c;return e("div",[e("a-modal",{staticClass:"noBottomBorder",attrs:{centered:!0,footer:null,width:580},on:{cancel:t.cancel},model:{value:t.showState,callback:function(e){t.showState=e},expression:"showState"}},[e("div",{staticClass:"box"},[e("h2",{staticClass:"dialog-title"},[t._v("使用手册")]),e("div",{staticClass:"tips-title"},[e("a-icon",{staticClass:"bell",attrs:{type:"bell"}}),t._v("入群人数统计规则：扫描"+t._s(t.ENTERPRICE_NAME)+"活码即认为客户入群，扫码人数会与实际扫企业微信活码入群人数有偏差 ")],1),e("div",{staticClass:"manual-content"},[e("div",{staticClass:"top-card"},[e("img",{attrs:{src:a("0d56")}}),e("div",{staticClass:"desc"},[e("h4",[t._v("无限拉群")]),e("p",{staticClass:"hint"},[t._v("企业无需创建群聊即可开始拉群任务，客户扫码不用添加企业成员即可入群")]),e("h4",[t._v("简化客户入群流程，增加客户入群率，方便企业管理")])])]),e("div",{staticClass:"flow"},[e("div",{staticClass:"title"},[t._v("入群流程：")]),e("div",{staticClass:"flow-label"},[e("div",{staticClass:"label"},[t._v("用户扫描"+t._s(t.ENTERPRICE_NAME)+"活码")]),e("img",{attrs:{src:a("de76"),alt:""}}),e("div",{staticClass:"label"},[t._v("扫描企微活码")]),e("img",{attrs:{src:a("de76"),alt:""}}),e("div",{staticClass:"label"},[t._v("加入群聊")])])]),e("div",{staticClass:"dropdown-wrap"},[e("span",{staticClass:"label-wrap"},[e("div",[t._v("查看示例")])]),e("div",{staticClass:"exampleTip"},[e("img",{staticClass:"img",attrs:{src:"/imgs/guide-detail.png"}}),e("div",{staticClass:"step"},[e("div",{staticClass:"circle"},[t._v("1")]),e("div",{staticClass:"line"}),e("div",{staticClass:"circle"},[t._v("2")]),e("div",{staticClass:"line"}),e("div",{staticClass:"circle"},[t._v("3")])]),e("div",{staticStyle:{"font-size":"12px",color:"#000000D9"}},[e("span",[t._v("扫描海报上的"+t._s(t.ENTERPRICE_NAME)+"活码")]),e("span",{staticStyle:{"margin-left":"76px","margin-right":"106px"}},[t._v("扫描企微活码")]),e("span",[t._v("加入企微群聊")])])])])]),e("div",{staticClass:"foot-button"},[e("a-space",{attrs:{size:12}},[e("a-button",{attrs:{type:"primary"},on:{click:t.ok}},[t._v("知道了")])],1)],1)])])],1)}),r=[],u={props:{showbox:{type:Boolean,default:!1}},data:function(){return{showState:this.showbox}},methods:{ok:function(){this.$emit("manualCancel",1)},cancel:function(){this.$emit("manualCancel",1)}},watch:{showbox:{handler:function(t,e){this.showState=t}}}},d=u,p=(a("0666"),a("2877")),f=Object(p["a"])(d,l,r,!1,null,"e57b4880",null),m=f.exports,v=function(){var t=this,e=t._self._c;return e("div",[e("h4",[t._v("拉群详情")]),e("section",{staticClass:"section"},[e("a-space",{staticClass:"section-left",attrs:{direction:"vertical",align:"center",size:16}},[e("img",{staticClass:"qr-code",attrs:{src:t.groupDetail.qrcodeAddress,alt:"二维码"}}),e("p",[t._v(t._s(t.groupDetail.itemName))]),e("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.download(t.groupDetail.qrcodeAddress,t.groupDetail.itemName)}}},[t._v("下载活码")]),e("a-button",{on:{click:function(e){return t.$router.push({name:"NewGruoupInfinite",query:{id:t.groupDetail.id,state:"edit"}})}}},[t._v(" 修改 ")])],1),e("a-space",{staticClass:"section-right",attrs:{direction:"vertical",size:16}},[e("div",{staticClass:"title"},[e("div",{staticClass:"rect"}),t._v(" "),e("span",[t._v("基本信息")])]),e("p",{staticClass:"wrap"},[e("span",{staticClass:"label"},[t._v("扫码人数:")]),t._v(t._s(t.groupDetail.scanNum))]),e("p",{staticClass:"wrap"},[e("span",{staticClass:"label"},[t._v("创建时间:")]),t._v(t._s(t.groupDetail.createTime||"-"))]),e("p",{staticClass:"wrap"},[e("span",{staticClass:"label"},[t._v("群聊码详情: ")]),e("ul",t._l(t.groupDetail.codeList,(function(a,i){return e("li",{key:i,staticClass:"code-info"},[e("div",{staticClass:"code-info-left"},[e("img",{attrs:{alt:"头像",src:a.liveCodeUrl}}),t._v(" 群活码"+t._s(i+1)+" ")]),e("div",{staticClass:"code-tag"},[e("a-tag",{attrs:{color:a.statusObj.color}},[t._v(t._s(a.statusObj.text))])],1)])})),0)])])],1)])},g=[],h=a("ca00"),C={name:"CodeDetail",props:{groupDetail:{type:[Object],default:function(){return{}}}},created:function(){},methods:{download:function(t,e){var a=this;Object(h["d"])(t,e).catch((function(t){a.$message.error(t)}))}}},b=C,_=(a("cde8"),Object(p["a"])(b,v,g,!1,null,"5fbc394a",null)),w=_.exports,k=a("1d9f"),x={0:{text:"未开始",color:""},1:{text:"拉人中",color:"green"},2:{text:"已达上限",color:"orange"},3:{text:"禁用",color:"red"}},A={data:function(){return{manualShow:!1,codeName:"",columns:[{title:"二维码",dataIndex:"urlCodeInfo",key:"urlCodeInfo",scopedSlots:{customRender:"urlCodeInfo"}},{title:"名称",dataIndex:"itemName",key:"itemName",width:"140px",scopedSlots:{customRender:"name"},customRender:function(t){return t||"-"}},{title:"创建时间",dataIndex:"createTime",key:"createTime",scopedSlots:{customRender:"createTime"},customRender:function(t){return t||"-"}},{slots:{title:"useMemberTitle"},dataIndex:"scanNum",key:"scanNum",scopedSlots:{customRender:"addUserCount"}},{title:"群聊",dataIndex:"codeList",key:"codeList",width:"300px",scopedSlots:{customRender:"codeList"}},{title:"操作",dataIndex:"operation",align:"right",key:"operation",scopedSlots:{customRender:"operation"}}],channelList:[],loading:!1,pagination:{current:1,pageSize:10,total:0},isOpen:!1,selectData:"",visibleCodeTetail:!1}},created:function(){this.getPageList()},methods:{deleteGruoup:function(t,e){var a=this;this.$confirm({title:"提示",icon:"",okText:"删除",content:"确定删除"+e+"吗？删除后不可恢复",onOk:function(){a.delGroupInfinte(t)}})},delGroupInfinte:function(t){var e=this;Object(k["b"])({id:t}).then((function(){var t;e.$message.success("删除成功"),1===(null===(t=e.channelList)||void 0===t?void 0:t.length)&&(e.pagination.current=e.pagination.current-1||1),e.getPageList()}))},download:function(t){var e=this;Object(h["d"])(t).catch((function(t){e.$message.error(t)}))},change:function(t){var e=t.current;this.pagination.current=e,this.getPageList()},getPageList:function(){var t=this,e={currentPage:this.pagination.current,pageSize:this.pagination.pageSize,keywords:this.codeName};this.loading=!0,"1"==this.pagination.current&&(this.channelList=[]),Object(k["c"])(e).then((function(e){e.data&&(t.channelList=e.data.list.map((function(t){var e=Object(c["a"])(Object(c["a"])({},t),{},{key:t.id,codeList:t.liveCodes.map((function(t){return t.statusObj=x[t.type],t}))});return e.operation=e,e.urlCodeInfo={urlCode:t.qrcodeAddress,info:e},e})),t.pagination.total=e.data.total)})).finally((function(){return t.loading=!1}))},manualCancel:function(){this.manualShow=!1},searchName:function(){this.getPageList()},openCodeDetail:function(t){this.selectData=t,this.visibleCodeTetail=!0}},components:{manual:m,CodeDetail:w}},y=A,N=(a("a191"),Object(p["a"])(y,s,o,!1,null,"4277fc61",null)),S=N.exports,I={name:"InfiniteGroup",components:{ChannelList:S}},O=I,E=(a("037a"),Object(p["a"])(O,i,n,!1,null,"095cd1d4",null));e["default"]=E.exports},a191:function(t,e,a){"use strict";a("23e6")},a68d:function(t,e,a){},cde8:function(t,e,a){"use strict";a("5512")},de76:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAWCAYAAABXEBvcAAABqklEQVRYR+2YO0sDQRSFz9mNYGcliJ1WabJJwC6VP8DSH7AkixJtRBBBRBFsLLSwERMQbLQ0RSqxkYAQlBUstLCxEbQSBBENuZKXj5DHbNKYzUx9b3G/+Wbn7BB6dUWAXXX3ePOlyMAE+dnNGH0NMO1KRoBsIoIUSekEZH8DvJacCGIk8mIg6Vi88gpRAxTEytCIIgV7JrBiR/miClIDrAGsESOeSSzFLRyqHGsNsB5gFSSJnGkgaVu8aWVjGWDalWlVZf1UR2KjKAi2mKlAYpeDWIsH+dqorgww5UpHN5CfYLax7BEGFhNhHtfXaYAeLCBxZhqYty3e/XwytYEeEAIkPghsj4exOkkWtIGe8JXSDh4AzCWizFbSjzZQFWEBBnZGhrE+Nco3fYRVsVUsuzBNzDSKNDrGtIgxJEp/JMvxMPabhWodpJsEaQBHCGDBCfGpbZD2YLOvStPVx4TfQxG4lwCSToinKsNqA6sGluIJgC1zCJv2GN9V4H3fwqrFfqurGUjgXAKYdUK89TpjXxuYcuUERMaJ8MAruD8xptPmXu/TT/r/YAe/ABNukxe3rzwDAAAAAElFTkSuQmCC"},fc2e:function(t,e,a){}}]);