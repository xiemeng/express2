(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71efc726"],{"08ff":function(t,e,n){"use strict";n("9b8e")},"1c9c":function(t,e,n){"use strict";n.d(e,"s",(function(){return r})),n.d(e,"e",(function(){return s})),n.d(e,"t",(function(){return o})),n.d(e,"j",(function(){return u})),n.d(e,"n",(function(){return c})),n.d(e,"y",(function(){return l})),n.d(e,"w",(function(){return d})),n.d(e,"g",(function(){return f})),n.d(e,"B",(function(){return p})),n.d(e,"c",(function(){return m})),n.d(e,"h",(function(){return g})),n.d(e,"a",(function(){return h})),n.d(e,"q",(function(){return v})),n.d(e,"i",(function(){return b})),n.d(e,"v",(function(){return O})),n.d(e,"p",(function(){return y})),n.d(e,"b",(function(){return S})),n.d(e,"l",(function(){return w})),n.d(e,"m",(function(){return _})),n.d(e,"z",(function(){return C})),n.d(e,"C",(function(){return D})),n.d(e,"k",(function(){return T})),n.d(e,"A",(function(){return I})),n.d(e,"x",(function(){return k})),n.d(e,"r",(function(){return j})),n.d(e,"o",(function(){return x})),n.d(e,"d",(function(){return R})),n.d(e,"f",(function(){return L})),n.d(e,"u",(function(){return A}));var a=n("b775"),i={staff:"/enterprise/role/staff",roleList:"/enterprise/role",roleResource:"/enterprise/role/getRoleResource",syncAll:"/enterprise/staff/syncAll",getCustGrpList:"/client_group/customerGroup/getCustGrpList",changeRole:"/enterprise/role/change",departmentStaff:"/enterprise/department/staff",addStaffRole:"/enterprise/role/addStaffRole",getQuitStaff:"/client_manager/transfer/getQuitStaff",getStaff:"/enterprise/staff/get",department:"/enterprise/department",getDepartmentStaff:"/enterprise/department/getStaff",loginAdmin:"/enterprise/staff/loginAdmin",getRoleRes:"/enterprise/role/getRoleRes",changeRes:"/enterprise/role/change/res",getPermissionLog:"/enterprise/permissionLog/query",staffInfo:"/enterprise/staff/statistics/get/staffInfo",yesterdayData:"/enterprise/staff/statistics/get/yesterdayData",getDate:"/enterprise/staff/statistics/get/date",editDelConfig:"/client_manager/customerdelremind/editDelConfig",queryDelConfig:"/client_manager/customerdelremind/queryDelConfig",customStage:"/enterprise/staff/statistics/get/stage",idOrUserIdGet:"/enterprise/staff/idOrUserIdGet",staffOKR:"/enterprise/staffOKR/staffOKR",saveOKR:"/enterprise/staffOKR/save",getStaffOKRList:"/enterprise/staffOKR/getStaffOKRList",getRepeatList:"/enterprise/staffOKR/getRepeatList",checkTime:"enterprise/staffOKR/checkTime",delOkr:"/enterprise/staffOKR/del",modify:"/enterprise/staffOKR/modify"};function r(t){return Object(a["b"])({url:i.idOrUserIdGet,method:"get",params:t})}function s(t){return Object(a["b"])({url:i.customStage,method:"get",params:t})}function o(t){return Object(a["b"])({url:i.loginAdmin,method:"get",params:t})}function u(t){return Object(a["b"])({url:i.getCustGrpList,method:"post",data:t})}function c(t){return Object(a["b"])({url:i.getQuitStaff,method:"get",params:t})}function l(t){return Object(a["b"])({url:i.staff,method:"get",params:t})}function d(){return Object(a["b"])({url:i.roleList,method:"get"})}function f(){return Object(a["b"])({url:i.department,method:"get"})}function p(){return Object(a["b"])({url:i.syncAll,method:"get"})}function m(t){return Object(a["b"])({url:i.changeRole,method:"get",params:t})}function g(){return Object(a["b"])({url:i.departmentStaff,method:"get"})}function h(t){return Object(a["b"])({url:i.addStaffRole,method:"post",data:t})}function v(t){return Object(a["b"])({url:i.getStaff,method:"get",params:t})}function b(t){return Object(a["b"])({url:i.editDelConfig,method:"post",data:t})}function O(t){return Object(a["b"])({url:i.queryDelConfig,method:"post",data:t})}function y(t){return Object(a["b"])({url:i.getRoleRes,method:"get",params:t})}function S(t){return Object(a["b"])({url:i.changeRes,method:"post",data:t})}function w(t){return Object(a["b"])({url:i.getDepartmentStaff,method:"get",params:t})}function _(t){return Object(a["b"])({url:i.getPermissionLog,method:"post",data:t})}function C(t){return Object(a["b"])({url:i.staffInfo,method:"get",params:t})}function D(t){return Object(a["b"])({url:i.yesterdayData,method:"get",params:t})}function T(t){return Object(a["b"])({url:i.getDate,method:"get",params:t})}function I(t){return Object(a["b"])({url:i.staffOKR,method:"get",params:t})}function k(t){return Object(a["b"])({url:i.saveOKR,method:"post",data:t})}function j(t){return Object(a["b"])({url:i.getStaffOKRList,method:"get",params:t})}function x(t){return Object(a["b"])({url:i.getRepeatList,method:"get",params:t})}function R(t){return Object(a["b"])({url:i.checkTime,method:"get",params:t})}function L(t){return Object(a["b"])({url:i.delOkr,method:"post",data:t})}function A(t){return Object(a["b"])({url:i.modify,method:"post",data:t})}},2909:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n("6b75");function i(t){if(Array.isArray(t))return Object(a["a"])(t)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function r(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var s=n("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return i(t)||r(t)||Object(s["a"])(t)||o()}},"36a1":function(t,e,n){"use strict";n("df21")},6070:function(t,e,n){"use strict";n("ae52")},"7ba4":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"g",(function(){return s})),n.d(e,"f",(function(){return o})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"i",(function(){return d})),n.d(e,"j",(function(){return f})),n.d(e,"e",(function(){return p})),n.d(e,"h",(function(){return m}));var a=n("b775"),i={autoTaggingQueryList:"/client_transformation/autoTagging/autoTaggingQueryList",openRule:"/client_transformation/autoTagging/openRule",delRule:"/client_transformation/autoTagging/delRule",createAutoTaggingKeyWord:"/client_transformation/autoTagging/createAutoTaggingKeyWord",createAutoTaggingGrp:"/client_transformation/autoTagging/createAutoTaggingGrp",createAutoTaggingTime:"/client_transformation/autoTagging/createAutoTaggingTime",ruleDetail:"/client_transformation/autoTagging/ruleDetail",statistics:"/client_transformation/autoTaggingStatistics/statistics",customerList:"/client_transformation/autoTaggingStatistics/customerList",remindList:"/client_manager/customerdelremind/remindList"};function r(t){return Object(a["b"])({url:i.autoTaggingQueryList,method:"post",data:t})}function s(t){return Object(a["b"])({url:i.openRule,method:"post",data:t})}function o(t){return Object(a["b"])({url:i.delRule,method:"post",data:t})}function u(t){return Object(a["b"])({url:i.createAutoTaggingKeyWord,method:"post",data:t})}function c(t){return Object(a["b"])({url:i.createAutoTaggingGrp,method:"post",data:t})}function l(t){return Object(a["b"])({url:i.createAutoTaggingTime,method:"post",data:t})}function d(t){return Object(a["b"])({url:i.ruleDetail,method:"post",data:t})}function f(t){return Object(a["b"])({url:i.statistics,method:"post",data:t})}function p(t){return Object(a["b"])({url:i.customerList,method:"post",data:t})}function m(t){return Object(a["b"])({url:i.remindList,method:"post",data:t})}},"9b8e":function(t,e,n){},ae52:function(t,e,n){},c341:function(t,e,n){"use strict";n("cb12")},cb12:function(t,e,n){},dac7:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-wrapper page-box"},[e("section",{attrs:{id:"supervision-header"}},[e("div",{staticClass:"justify"},[e("div",{staticClass:"left flex-row"},[e("span",[t._v("部门：")]),e("TreeSelect",{attrs:{treeData:t.treeData},on:{selectDepartment:t.selectDepartment}}),e("span",{staticStyle:{"margin-right":"24px"}}),e("span",[t._v("员工：")]),e("SearchForm",{on:{staffName:t.staffName}}),e("span",{staticStyle:{"margin-right":"24px"}}),e("span",[t._v("选择时间：")]),e("a-range-picker",{staticStyle:{width:"212px"},on:{change:t.onChange},scopedSlots:t._u([{key:"dateRender",fn:function(n){return[e("div",{staticClass:"ant-calendar-date"},[t._v(" "+t._s(n.date())+" ")])]}}])},[e("a-icon",{attrs:{slot:"suffixIcon",type:"calendar"},slot:"suffixIcon"})],1),e("span",{staticStyle:{"margin-right":"24px"}}),e("span",{staticStyle:{"font-size":"12px"}},[e("a-icon",{class:[0==t.status?"startusColorC2":"startusColorC1"],attrs:{type:"check"}}),t._v(" 提醒通知："+t._s(0==t.status?"已开启":"未开启"))],1),e("span",{staticStyle:{"margin-right":"24px"}}),e("a-button",{attrs:{type:"link",size:"small"},on:{click:t.getConfig}},[t._v("设置")])],1)])]),e("section",{staticClass:"scroll-view"},[e("a-table",{attrs:{columns:t.columns,"data-source":t.tableData,"table-layout":"fixed",pagination:t.pagination,loading:t.loading},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"deleteCustomer",fn:function(n){return e("span",{staticClass:"external-user"},[e("div",{staticClass:"avatar-text"},[t._v(t._s(t.stringSplit(n)))]),t._v(" "+t._s(n)+" ")])}},{key:"Operator",fn:function(n){return e("span",{},[e("a-button",{attrs:{size:"small"}},[e("a-icon",{attrs:{type:"user"}}),t._v(" "+t._s(n)+" ")],1)],1)}}])},[e("a",{attrs:{slot:"operating"},slot:"operating"},[t._v("聊天记录")])])],1),e("a-modal",{attrs:{centered:"",width:"616px",maskClosable:!1,destroyOnClose:""},on:{cancel:t.cancel,ok:t.ok},model:{value:t.visibleTree,callback:function(e){t.visibleTree=e},expression:"visibleTree"}},[e("GroupViewChatDetaied",{attrs:{modelValue:0==t.status,radioValue:t.frequencyTypeData},on:{statusValue:t.statusFun,radioValue:t.radioFun}})],1)],1)},i=[],r=n("5530"),s=(n("ac1f"),n("5319"),n("fb6a"),n("d3b7"),n("d81d"),n("b0c0"),n("25f0"),function(){var t=this,e=t._self._c;return e("div",[e("a-col",[e("a-tree-select",{staticStyle:{width:"182px"},attrs:{"dropdown-style":{maxHeight:"300px",overflow:"auto"},"tree-data":t.treeData,"tree-default-expand-all":"",allowClear:t.allowClear},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)}),o=[],u={data:function(){return{value:"全部部门",allowClear:!1}},watch:{value:function(t){this.$emit("selectDepartment",t),void 0===t?this.value="全部部门":this.allowClear="全部部门"!==t}},props:["treeData"]},c=u,l=n("2877"),d=Object(l["a"])(c,s,o,!1,null,null,null),f=d.exports,p=function(){var t=this,e=t._self._c;return e("div",[e("h2",{staticClass:"dialog-title"},[t._v("提醒通知")]),e("p",{staticClass:"orange-tips"},[e("a-icon",{attrs:{type:"bell"}}),t._v(" 开启通知后，选择的【接收通知员工】将会在企业微信中收到提醒通知 ")],1),e("a-form",{attrs:{form:t.form,"label-col":{span:5},"wrapper-col":{span:18}},on:{submit:t.handleSubmit}},[e("a-form-item",{staticStyle:{"margin-bottom":"16px"},attrs:{label:"当前状态"}},[e("a-switch",{on:{change:t.onChange},model:{value:t.switchValue,callback:function(e){t.switchValue=e},expression:"switchValue"}})],1),e("a-form-item",{staticStyle:{"margin-bottom":"16px"},attrs:{label:"接收通知员工"}},[e("span",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis"}},[e("SelectMultiple")],1)]),e("a-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"通知频率"}},[e("a-radio-group",{on:{change:t.onChangeRadio},model:{value:t.radioData,callback:function(e){t.radioData=e},expression:"radioData"}},[e("a-radio",{attrs:{value:0}},[t._v("每次通知")]),e("a-radio",{attrs:{value:1}},[t._v("每天通知一次"),e("span",{staticStyle:{"font-size":"14px","line-height":"18px",color:"rgba(0, 0, 0, 0.45)"}},[t._v("（每天早上8-9点推送昨日汇总）")])])],1)],1)],1)],1)},m=[],g=(n("a9e3"),function(){var t=this,e=t._self._c;return e("div",[e("a-button",{staticClass:"button-name",staticStyle:{width:"250px",height:"36px"},on:{click:function(e){return e.stopPropagation(),t.selectFocusIsOpen.apply(null,arguments)}}},[e("span",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[t.ownersID.data.length>0?e("span",t._l(t.ownersID.data,(function(n,a){return e("span",{key:a},[e("a-avatar",{attrs:{size:26,src:n.avatar,shape:"square"}}),t._v(" "+t._s(n.name)+" ")],1)})),0):e("span",[t._v(" 选择接收通知员工 ")])]),e("span",[t.ownersID.data.length>0?e("span",[t._v("等"+t._s(t.ownersID.data.length)+"个账号")]):t._e(),e("a-icon",{attrs:{type:"down"}})],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"},{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],staticClass:"selectBox_list"},[e("div",{staticClass:"group-owner"},[e("header",{staticClass:"header"},[t._v(t._s(t.allGroupOwners.name)+" ("+t._s(t.pagination.total)+")")]),e("div",{staticClass:"search-name"},[e("a-input-search",{attrs:{placeholder:"请输入群主后回车"},on:{search:t.onSearchName},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}})],1),e("ul",{staticClass:"list-wrap"},[t._l(t.groupOwners,(function(n){return e("li",{key:n.staffId,staticClass:"title-wrap"},[e("a-space",{attrs:{size:12}},[e("a-avatar",{attrs:{size:30,src:n.thumbAvatar,shape:"square"}}),e("span",[t._v(t._s(n.name))])],1),e("a-checkbox",{model:{value:n.defaultChecked,callback:function(e){t.$set(n,"defaultChecked",e)},expression:"item.defaultChecked"}})],1)})),e("div",{staticClass:"anchor",staticStyle:{cursor:"pointer"},on:{click:t.handleInfiniteOnLoad}},[e("a-button",{attrs:{loading:t.buttonLoding}},[t._v(t._s(t.loading?"点击加载更多":"没有更多了～"))])],1)],2),e("span",{staticClass:"box-space"},[e("span"),e("span",[e("a-button",{on:{click:function(e){return e.stopPropagation(),t.cancel.apply(null,arguments)}}},[t._v("取消")]),e("span",{staticStyle:{"margin-right":"8px"}}),e("a-button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.ok.apply(null,arguments)}}},[t._v("确认")])],1)])])])],1)}),h=[],v=n("2909"),b=(n("4de4"),n("159b"),n("caad"),n("2532"),n("1c9c")),O=n("2f62"),y={bind:function(t,e){function n(n){if(t.contains(n.target))return!1;e.expression&&e.value(n)}t.__vueClickOutside__=n,document.addEventListener("click",n)},update:function(){},unbind:function(t){document.removeEventListener("click",t.__vueClickOutside__),delete t.__vueClickOutside__}},S={name:"SearchForm",directives:{clickoutside:y},data:function(){return{busy:!0,pagination:{current:1,pageSize:10,total:0},totalNum:0,selectRoleId:"3",allGroupOwners:{icon:"",thumbAvatar:"/icons/user.png",name:"全部管理员"},groupOwners:[],value:[],searchName:"",owners:[],isOpen:!1,loading:!1,buttonLoding:!1,ownersID:[]}},created:function(){this.getDictionaryByCode(),this.ownersID=JSON.parse(JSON.stringify(this.responseData))},computed:Object(r["a"])({},Object(O["c"])({responseData:function(t){return t.enterpriseRiskControl.responseData}})),methods:{handleClose:function(){this.isOpen=!1},selectFocusIsOpen:function(){this.isOpen=!this.isOpen},ok:function(){var t=this.groupOwners.filter((function(t){if(t.defaultChecked)return t.userid})).map((function(t){return t.userid})),e=this.groupOwners.filter((function(t){if(t.defaultChecked)return t})).map((function(t){return{name:t.name,avatar:t.thumbAvatar}}));this.ownersID.data=e;var n=t.toString();this.isOpen=!this.isOpen,this.$store.commit("SET_STAFFIDS",n)},cancel:function(){var t=this;this.isOpen=!this.isOpen,this.groupOwners.forEach((function(e){var n=t.responseData.useridList.includes(e.userid);e.defaultChecked=!!n}));var e=this.groupOwners.filter((function(t){if(t.defaultChecked)return t})).map((function(t){return{name:t.name,avatar:t.thumbAvatar}}));this.ownersID.data=e},handleInfiniteOnLoad:function(){this.pagination.current++,this.loading&&this.getDictionaryByCode()},getDictionaryByCode:function(){var t=this,e={pageNum:this.pagination.current,pageSize:this.pagination.pageSize,name:this.searchName};this.buttonLoding||(this.buttonLoding=!0,Object(b["y"])(e).then((function(e){var n,a,i,r;t.pagination.total=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.total;var s=t.groupOwners.map((function(t){return t.staffId}));null===(a=e.data.list)||void 0===a||a.forEach((function(t){s.includes(t.staffId)?t.isSelect=!0:t.isSelect=!1})),null===(i=e.data.list)||void 0===i||i.forEach((function(e){var n=t.responseData.useridList.includes(e.userid);e.defaultChecked=!!n})),(r=t.groupOwners).push.apply(r,Object(v["a"])(e.data.list)),e.data.list.length<t.pagination.pageSize?t.loading=!1:t.loading=!0})).catch((function(e){t.$message.error(e)})).finally((function(){t.buttonLoding=!1})))},onSearchName:function(){this.groupOwners=[],this.pagination.current=1,this.getDictionaryByCode()}}},w=S,_=(n("36a1"),Object(l["a"])(w,g,h,!1,null,"7cf54ca2",null)),C=_.exports,D={data:function(){return{switchValue:this.modelValue,radioData:this.radioValue,formLayout:"horizontal",form:this.$form.createForm(this,{name:"coordinated"})}},components:{SelectMultiple:C},props:{modelValue:{type:[Boolean],default:!1},radioValue:{type:Number,default:0}},methods:{onChange:function(t){var e=t?"0":"1";this.$emit("statusValue",e)},onChangeRadio:function(t){this.$emit("radioValue",t.target.value)},handleSubmit:function(t){t.preventDefault(),this.form.validateFields((function(t,e){}))}}},T=D,I=(n("6070"),Object(l["a"])(T,p,m,!1,null,"a67f6ca0",null)),k=I.exports,j=function(){var t=this,e=t._self._c;return e("a-select",{staticClass:"guorup-owner",staticStyle:{width:"200px"},attrs:{value:t.owners.name,placeholder:t.allGroupOwners.name,"option-label-prop":"label",dropdownMatchSelectWidth:!1,open:t.isOpen},on:{focus:t.selectFocusIsOpen,blur:t.selectBlurIsOpen}},[e("div",{staticClass:"transfer",attrs:{slot:"dropdownRender"},slot:"dropdownRender"},[e("div",{staticClass:"group-owner"},[e("header",{staticClass:"header"},[t._v(t._s(t.allGroupOwners.name)+" ("+t._s(t.pagination.total)+")")]),e("div",{staticClass:"search-name"},[e("a-input-search",{attrs:{placeholder:"请输入账号后回车"},on:{search:t.onSearchName,blur:t.inputBlurIsOpen,focus:t.inputFocusIsOpen},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}})],1),e("ul",{staticClass:"list-wrap"},[t._l(t.groupOwners,(function(n){return e("li",{key:n.staffId,on:{click:function(e){return t.selectGroupOwner(n)}}},[e("a-space",{attrs:{size:12}},[e("a-avatar",{attrs:{size:30,src:n.thumbAvatar,shape:"square"}}),e("span",[t._v(t._s(n.name))])],1)],1)})),e("div",{staticClass:"anchor",staticStyle:{cursor:"pointer"},on:{click:t.handleInfiniteOnLoad}},[e("a-button",{attrs:{loading:t.buttonLoding},on:{blur:t.inputBlurIsOpen,focus:t.inputFocusIsOpen}},[t._v(t._s(t.loading?"点击加载更多":"没有更多了～"))])],1)],2)])])])},x=[],R={name:"SearchForm",data:function(){return{busy:!0,pagination:{current:1,pageSize:10,total:0},totalNum:0,selectRoleId:"",allGroupOwners:{icon:"",thumbAvatar:"/icons/user.png",name:"全部账号"},groupOwners:[],value:[],searchName:"",owners:{name:"全部账号"},isOpen:!1,loading:!1,inputIsOpen:!1,buttonLoding:!1,myArray:[]}},created:function(){this.getDictionaryByCode()},methods:{openOr:function(){var t=this;setTimeout((function(){var e=t.myArray[t.myArray.length-1];t.isOpen=e,t.myArray=[]}),10)},selectBlurIsOpen:function(){this.inputIsOpen||(this.myArray.push(!1),this.openOr())},selectFocusIsOpen:function(){this.myArray.push(!0),this.openOr()},inputBlurIsOpen:function(){this.inputIsOpen=!1,this.myArray.push(!1),this.openOr()},inputFocusIsOpen:function(){this.inputIsOpen=!0,this.myArray.push(!0),this.openOr()},handleInfiniteOnLoad:function(){this.pagination.current++,this.loading&&this.getDictionaryByCode()},selectGroupOwner:function(t){this.owners=t,this.isOpen=!1,this.$emit("staffName",t)},getDictionaryByCode:function(){var t=this,e={roleId:this.selectRoleId,pageNum:this.pagination.current,pageSize:this.pagination.pageSize,name:this.searchName};this.buttonLoding=!0,Object(b["y"])(e).then((function(e){var n,a,i,r,s;t.pagination.total=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.total,(null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.list)||void 0===i?void 0:i.length)>0&&1==t.pagination.current&&!t.searchName&&e.data.list.unshift(t.allGroupOwners);var o=t.groupOwners.map((function(t){return t.staffId}));null===(r=e.data.list)||void 0===r||r.forEach((function(t){o.includes(t.staffId)?t.isSelect=!0:t.isSelect=!1})),(s=t.groupOwners).push.apply(s,Object(v["a"])(e.data.list)),e.data.list.length<t.pagination.pageSize?t.loading=!1:t.loading=!0})).catch((function(e){t.$message.error(e)})).finally((function(){t.buttonLoding=!1}))},onSearchName:function(){this.groupOwners=[],this.pagination.current=1,this.getDictionaryByCode()}}},L=R,A=(n("08ff"),Object(l["a"])(L,j,x,!1,null,"ba6d8132",null)),N=A.exports,F=n("7ba4"),z={data:function(){return{maskClosable:!1,visibleTree:!1,loading:!1,status:0,frequencyTypeData:0,userStr:"",pagination:{current:1,pageSize:20,total:0},params:{wxDepartmentId:"",staffId:"",beginTime:"",endTime:""},treeData:[],columns:[{title:"删除客户",dataIndex:"deleteCustomer",key:"deleteCustomer",scopedSlots:{customRender:"deleteCustomer"}},{title:"操作人",dataIndex:"Operator",key:"Operator",scopedSlots:{customRender:"Operator"}},{title:"删除时间",dataIndex:"deleteTime",key:"deleteTime",scopedSlots:{customRender:"deleteTime"}},{title:"添加好友时间",dataIndex:"addFriendTime",key:"addFriendTime",scopedSlots:{customRender:"addFriendTime"}}],tableData:[],userList:[]}},components:{TreeSelect:f,GroupViewChatDetaied:k,SearchForm:N},created:function(){this.init(),this.getDepartment()},computed:Object(r["a"])({},Object(O["c"])({staffIds:function(t){return t.enterpriseRiskControl.staffIds}})),methods:{statusFun:function(t){this.status=t},radioFun:function(t){this.frequencyTypeData=t},ok:function(){var t=this;this.visibleTree=!1;var e={status:this.status,staffIds:this.staffIds,frequencyType:this.frequencyTypeData};Object(b["i"])(e).then((function(e){t.$message.success(null===e||void 0===e?void 0:e.data)})).catch((function(e){t.$message.error(e)}))},cancel:function(){this.visibleTree=!1,this.status=0,this.frequencyTypeData=0},onChange:function(t,e){this.pagination.current=1;var n=this.datetime(e[0]),a=this.datetime(e[1]);this.params.beginTime=n||"",this.params.endTime=a?String(parseInt(a)+86400):"",this.init()},datetime:function(t){if(t){var e=t.substring(0,19).replace(/-/g,"/"),n=new Date(e).getTime();return String(n).slice(0,10)}return""},stringSplit:function(t){var e=t||"";return e.charAt(0)},init:function(){var t=this,e={staffId:this.params.staffId,currentPage:this.pagination.current,pageSize:this.pagination.pageSize,wxDepartmentId:this.params.wxDepartmentId,beginTime:this.params.beginTime,endTime:this.params.endTime};this.loading=!0,Object(F["h"])(e).then((function(e){var n,a,i,r=null===e||void 0===e||null===(n=e.data)||void 0===n||null===(a=n.list)||void 0===a?void 0:a.map((function(t){return{key:null===t||void 0===t?void 0:t.remingId,deleteCustomer:null===t||void 0===t?void 0:t.customerName,Operator:null===t||void 0===t?void 0:t.staffName,deleteTime:null===t||void 0===t?void 0:t.delTime,addFriendTime:null===t||void 0===t?void 0:t.joinTime,operating:null===t||void 0===t?void 0:t.customerName}}));t.tableData=r,t.pagination.total=null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.total})).catch((function(e){t.$message.error(e)})).finally((function(){return t.loading=!1}))},getDepartment:function(){var t=this;Object(b["g"])().then((function(e){var n;(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.length)>0&&(t.treeData=t.getTreeData(e.data))}))},getTreeData:function(t){var e=this;if((null===t||void 0===t?void 0:t.length)>0){var n=t.map((function(t){var n={title:t.name,key:t.wxDepartmentId,value:t.wxDepartmentId,slots:{icon:"smile"},children:void 0};return t.children&&(n.children=e.getTreeData(t.children)),n}));return n}},selectDepartment:function(t){this.params.wxDepartmentId=String(0==isNaN(t)?t:""),this.init()},staffName:function(t){this.params.staffId=t.userid?t.userid:"",this.init()},handleTableChange:function(t){this.pagination.current=null===t||void 0===t?void 0:t.current,this.init()},getConfig:function(){var t=this,e={};Object(b["v"])(e).then((function(e){var n,a,i,r,s,o;t.status=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.status,t.frequencyTypeData=parseInt(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.frequencyType);var u=null===e||void 0===e||null===(i=e.data)||void 0===i||null===(r=i.staffInfos)||void 0===r?void 0:r.map((function(t){return null===t||void 0===t?void 0:t.name})),c=null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.staffInfos.map((function(t){return null===t||void 0===t?void 0:t.userid}));t.userStr=null===c||void 0===c?void 0:c.toString(),t.$store.commit("SET_STAFFIDS",t.userStr);var l={data:(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.staffInfos)||[],userList:u||[],useridList:c||[]};t.$store.commit("SET_RESPONSEDATA",l)})).catch((function(e){var n={data:[],userList:[],useridList:[]};t.$store.commit("SET_RESPONSEDATA",n),t.$message.error(e)})).finally((function(){t.visibleTree=!0}))}}},G=z,K=(n("c341"),Object(l["a"])(G,a,i,!1,null,"ba977ece",null));e["default"]=K.exports},df21:function(t,e,n){}}]);