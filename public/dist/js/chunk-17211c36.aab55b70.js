(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17211c36"],{"032e":function(t,e,n){"use strict";n.d(e,"h",(function(){return s})),n.d(e,"n",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"s",(function(){return c})),n.d(e,"t",(function(){return u})),n.d(e,"b",(function(){return l})),n.d(e,"u",(function(){return d})),n.d(e,"l",(function(){return f})),n.d(e,"e",(function(){return p})),n.d(e,"f",(function(){return h})),n.d(e,"v",(function(){return m})),n.d(e,"p",(function(){return g})),n.d(e,"q",(function(){return v})),n.d(e,"o",(function(){return b})),n.d(e,"r",(function(){return y})),n.d(e,"d",(function(){return C})),n.d(e,"c",(function(){return O})),n.d(e,"m",(function(){return _})),n.d(e,"k",(function(){return S})),n.d(e,"j",(function(){return w})),n.d(e,"g",(function(){return L})),n.d(e,"i",(function(){return x}));var a=n("b775"),i={addList:"/channel/channelCode/add",getPage:"/channel/channelCode/page",deleteList:"/channel/channelCode/delete",details:"/channel/channelCode/info",updatePic:"/channel/channelCode/updatePic",updateList:"/channel/channelCode/update",batchDownload:"/channel/channelCode/batchDownload",groupList:"/channel/channelcodegroup/list",groupSave:"/channel/channelcodegroup/save",groupDelete:"/channel/channelcodegroup/delete",groupUpdate:"/channel/channelcodegroup/update",batchGroups:"/channel/channelcodegroup/batchGroup",getStaffStatistics:"/channel/channelCodeStatistics/getStaffStatistics",getData:"/channel/customerstatistics/getData",getCompareData:"/channel/customerstatistics/getCompareData",exportForDate:"/channel/customerstatistics/exportForDate",exportForStaff:"/channel/customerstatistics/exportForStaff",totalInfo:"/channel/customerstatistics/totalInfo",addInfo:"/channel/customerstatistics/addInfo",lossInfo:"/channel/customerstatistics/lossInfo",getStaffStatisticsByCodes:"/channel/channelCodeStatistics/getStaffStatisticsByCodes",exportForInfoData:"/channel/customerstatistics/exportForInfoData"};function s(t){return Object(a["b"])({url:i.exportForInfoData,method:"post",data:t,responseType:"blob"})}function r(t){return Object(a["b"])({url:i.getStaffStatisticsByCodes,method:"post",data:t})}function o(t){return Object(a["b"])({url:i.addInfo,method:"post",data:t})}function c(t){return Object(a["b"])({url:i.lossInfo,method:"post",data:t})}function u(t){return Object(a["b"])({url:i.totalInfo,method:"post",data:t})}function l(t){return Object(a["b"])({url:i.addList,method:"post",data:t})}function d(t){return Object(a["b"])({url:i.updateList,method:"post",data:t})}function f(t){return Object(a["b"])({url:i.getPage,method:"get",params:t})}function p(t){return Object(a["b"])({url:i.deleteList,method:"get",params:t})}function h(t){return Object(a["b"])({url:i.details,method:"get",params:t})}function m(t){return Object(a["b"])({url:i.updatePic,method:"post",data:t})}function g(t){return Object(a["b"])({url:i.groupList,method:"get",params:t})}function v(t){return Object(a["b"])({url:i.groupSave,method:"post",data:t})}function b(t){return Object(a["b"])({url:i.groupDelete,method:"post",params:t})}function y(t){return Object(a["b"])({url:i.groupUpdate,method:"post",data:t})}function C(t){return Object(a["b"])({url:i.batchGroups,method:"post",data:t})}function O(t){return Object(a["b"])({url:i.batchDownload,method:"get",params:t,Headers:{"Content-Type":"application/json;charset=UTF-8"},responseType:"blob"})}function _(t){return Object(a["b"])({url:i.getStaffStatistics,method:"post",data:t})}function S(t){return Object(a["b"])({url:i.getData,method:"post",data:t})}function w(t){return Object(a["b"])({url:i.getCompareData,method:"post",data:t})}function L(t){return Object(a["b"])({url:i.exportForDate,method:"post",data:t,responseType:"blob"})}function x(t){return Object(a["b"])({url:i.exportForStaff,method:"post",data:t,responseType:"blob"})}},"160c3":function(t,e,n){"use strict";n("ea0b")},"1c9c":function(t,e,n){"use strict";n.d(e,"s",(function(){return s})),n.d(e,"e",(function(){return r})),n.d(e,"t",(function(){return o})),n.d(e,"j",(function(){return c})),n.d(e,"n",(function(){return u})),n.d(e,"y",(function(){return l})),n.d(e,"w",(function(){return d})),n.d(e,"g",(function(){return f})),n.d(e,"B",(function(){return p})),n.d(e,"c",(function(){return h})),n.d(e,"h",(function(){return m})),n.d(e,"a",(function(){return g})),n.d(e,"q",(function(){return v})),n.d(e,"i",(function(){return b})),n.d(e,"v",(function(){return y})),n.d(e,"p",(function(){return C})),n.d(e,"b",(function(){return O})),n.d(e,"l",(function(){return _})),n.d(e,"m",(function(){return S})),n.d(e,"z",(function(){return w})),n.d(e,"C",(function(){return L})),n.d(e,"k",(function(){return x})),n.d(e,"A",(function(){return D})),n.d(e,"x",(function(){return j})),n.d(e,"r",(function(){return T})),n.d(e,"o",(function(){return k})),n.d(e,"d",(function(){return I})),n.d(e,"f",(function(){return N})),n.d(e,"u",(function(){return R}));var a=n("b775"),i={staff:"/enterprise/role/staff",roleList:"/enterprise/role",roleResource:"/enterprise/role/getRoleResource",syncAll:"/enterprise/staff/syncAll",getCustGrpList:"/client_group/customerGroup/getCustGrpList",changeRole:"/enterprise/role/change",departmentStaff:"/enterprise/department/staff",addStaffRole:"/enterprise/role/addStaffRole",getQuitStaff:"/client_manager/transfer/getQuitStaff",getStaff:"/enterprise/staff/get",department:"/enterprise/department",getDepartmentStaff:"/enterprise/department/getStaff",loginAdmin:"/enterprise/staff/loginAdmin",getRoleRes:"/enterprise/role/getRoleRes",changeRes:"/enterprise/role/change/res",getPermissionLog:"/enterprise/permissionLog/query",staffInfo:"/enterprise/staff/statistics/get/staffInfo",yesterdayData:"/enterprise/staff/statistics/get/yesterdayData",getDate:"/enterprise/staff/statistics/get/date",editDelConfig:"/client_manager/customerdelremind/editDelConfig",queryDelConfig:"/client_manager/customerdelremind/queryDelConfig",customStage:"/enterprise/staff/statistics/get/stage",idOrUserIdGet:"/enterprise/staff/idOrUserIdGet",staffOKR:"/enterprise/staffOKR/staffOKR",saveOKR:"/enterprise/staffOKR/save",getStaffOKRList:"/enterprise/staffOKR/getStaffOKRList",getRepeatList:"/enterprise/staffOKR/getRepeatList",checkTime:"enterprise/staffOKR/checkTime",delOkr:"/enterprise/staffOKR/del",modify:"/enterprise/staffOKR/modify"};function s(t){return Object(a["b"])({url:i.idOrUserIdGet,method:"get",params:t})}function r(t){return Object(a["b"])({url:i.customStage,method:"get",params:t})}function o(t){return Object(a["b"])({url:i.loginAdmin,method:"get",params:t})}function c(t){return Object(a["b"])({url:i.getCustGrpList,method:"post",data:t})}function u(t){return Object(a["b"])({url:i.getQuitStaff,method:"get",params:t})}function l(t){return Object(a["b"])({url:i.staff,method:"get",params:t})}function d(){return Object(a["b"])({url:i.roleList,method:"get"})}function f(){return Object(a["b"])({url:i.department,method:"get"})}function p(){return Object(a["b"])({url:i.syncAll,method:"get"})}function h(t){return Object(a["b"])({url:i.changeRole,method:"get",params:t})}function m(){return Object(a["b"])({url:i.departmentStaff,method:"get"})}function g(t){return Object(a["b"])({url:i.addStaffRole,method:"post",data:t})}function v(t){return Object(a["b"])({url:i.getStaff,method:"get",params:t})}function b(t){return Object(a["b"])({url:i.editDelConfig,method:"post",data:t})}function y(t){return Object(a["b"])({url:i.queryDelConfig,method:"post",data:t})}function C(t){return Object(a["b"])({url:i.getRoleRes,method:"get",params:t})}function O(t){return Object(a["b"])({url:i.changeRes,method:"post",data:t})}function _(t){return Object(a["b"])({url:i.getDepartmentStaff,method:"get",params:t})}function S(t){return Object(a["b"])({url:i.getPermissionLog,method:"post",data:t})}function w(t){return Object(a["b"])({url:i.staffInfo,method:"get",params:t})}function L(t){return Object(a["b"])({url:i.yesterdayData,method:"get",params:t})}function x(t){return Object(a["b"])({url:i.getDate,method:"get",params:t})}function D(t){return Object(a["b"])({url:i.staffOKR,method:"get",params:t})}function j(t){return Object(a["b"])({url:i.saveOKR,method:"post",data:t})}function T(t){return Object(a["b"])({url:i.getStaffOKRList,method:"get",params:t})}function k(t){return Object(a["b"])({url:i.getRepeatList,method:"get",params:t})}function I(t){return Object(a["b"])({url:i.checkTime,method:"get",params:t})}function N(t){return Object(a["b"])({url:i.delOkr,method:"post",data:t})}function R(t){return Object(a["b"])({url:i.modify,method:"post",data:t})}},2909:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n("6b75");function i(t){if(Array.isArray(t))return Object(a["a"])(t)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function s(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var r=n("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return i(t)||s(t)||Object(r["a"])(t)||o()}},4204:function(t,e,n){"use strict";n("8753")},"487a":function(t,e,n){(function(e,n){t.exports=n()})(0,(function(){"use strict";var t="@@InfiniteScroll",e=function(t,e){var n,a,i,s,r,o=function(){t.apply(s,r),a=n};return function(){if(s=this,r=arguments,n=Date.now(),i&&(clearTimeout(i),i=null),a){var t=e-(n-a);t<0?o():i=setTimeout((function(){o()}),t)}else o()}},n=function(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop},a=document.defaultView.getComputedStyle,i=function(t){var e=t;while(e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType){var n=a(e).overflowY;if("scroll"===n||"auto"===n)return e;e=e.parentNode}return window},s=function(t){return t===window?document.documentElement.clientHeight:t.clientHeight},r=function(t){return t===window?n(window):t.getBoundingClientRect().top+n(window)},o=function(t){var e=t.parentNode;while(e){if("HTML"===e.tagName)return!0;if(11===e.nodeType)return!1;e=e.parentNode}return!1},c=function(){if(!this.binded){this.binded=!0;var t=this,n=t.el,a=n.getAttribute("infinite-scroll-throttle-delay"),s=200;a&&(s=Number(t.vm[a]||a),(isNaN(s)||s<0)&&(s=200)),t.throttleDelay=s,t.scrollEventTarget=i(n),t.scrollListener=e(u.bind(t),t.throttleDelay),t.scrollEventTarget.addEventListener("scroll",t.scrollListener),this.vm.$on("hook:beforeDestroy",(function(){t.scrollEventTarget.removeEventListener("scroll",t.scrollListener)}));var r=n.getAttribute("infinite-scroll-disabled"),o=!1;r&&(this.vm.$watch(r,(function(e){t.disabled=e,!e&&t.immediateCheck&&u.call(t)})),o=Boolean(t.vm[r])),t.disabled=o;var c=n.getAttribute("infinite-scroll-distance"),l=0;c&&(l=Number(t.vm[c]||c),isNaN(l)&&(l=0)),t.distance=l;var d=n.getAttribute("infinite-scroll-immediate-check"),f=!0;d&&(f=Boolean(t.vm[d])),t.immediateCheck=f,f&&u.call(t);var p=n.getAttribute("infinite-scroll-listen-for-event");p&&t.vm.$on(p,(function(){u.call(t)}))}},u=function(t){var e=this.scrollEventTarget,a=this.el,i=this.distance;if(!0===t||!this.disabled){var o=n(e),c=o+s(e),u=!1;if(e===a)u=e.scrollHeight-c<=i;else{var l=r(a)-r(e)+a.offsetHeight+o;u=c+i>=l}u&&this.expression&&this.expression()}},l={bind:function(e,n,a){e[t]={el:e,vm:a.context,expression:n.value};var i=arguments;e[t].vm.$on("hook:mounted",(function(){e[t].vm.$nextTick((function(){o(e)&&c.call(e[t],i),e[t].bindTryCount=0;var n=function n(){e[t].bindTryCount>10||(e[t].bindTryCount++,o(e)?c.call(e[t],i):setTimeout(n,50))};n()}))}))},unbind:function(e){e&&e[t]&&e[t].scrollEventTarget&&e[t].scrollEventTarget.removeEventListener("scroll",e[t].scrollListener)}},d=function(t){t.directive("InfiniteScroll",l)};return window.Vue&&(window.infiniteScroll=l,Vue.use(d)),l.install=d,l}))},"5a0c":function(t,e,n){},"65b6":function(t,e,n){},"7abe":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-wrap"},[e("BusinessData",{staticClass:"page-left"}),e("LoginInfo",{staticClass:"page-right"})],1)},i=[],s=function(){var t=this,e=t._self._c;return e("div",[e("DataInfo"),e("EventReminder")],1)},r=[],o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"datainfo"},[e("div",{staticClass:"data-box"},[e("div",{staticClass:"ant-card-body"},[e("div",{staticClass:"data-panel"},[e("h2",[t._v("客户统计 "),e("span",{staticClass:"toggle-btn"},[t.invisibleShow?e("a-icon",{staticClass:"icon-wrap",attrs:{type:"eye"},on:{click:function(e){return t.changeStaue("2")}}}):e("a-icon",{staticClass:"icon-wrap",attrs:{type:"eye-invisible"},on:{click:function(e){return t.changeStaue("1")}}})],1)]),e("section",{staticClass:"top-statistics-box"},[e("a",{staticClass:"statistics-item",attrs:{href:"javascript:void(0)"}},[e("div",[e("span",{staticClass:"title"},[t._v("客户总数")]),t.invisibleShow?e("span",{staticClass:"count"},[t._v(t._s(t.dayinfo.dayTotal||0))]):e("span",{staticClass:"count"},[t._v("****")])])]),t._m(0),e("a",{staticClass:"statistics-item",attrs:{href:"javascript:void(0)"}},[e("div",[e("span",{staticClass:"title"},[t._v("今日新增")]),t.invisibleShow?e("span",{staticClass:"count"},[t._v(t._s(t.dayinfo.dayCreate||0))]):e("span",{staticClass:"count"},[t._v("****")])])]),t._m(1),e("a",{staticClass:"statistics-item",attrs:{href:"javascript:void(0)"}},[e("div",[e("span",{staticClass:"title"},[t._v("今日流失")]),t.invisibleShow?e("span",{staticClass:"count"},[t._v(t._s(t.dayinfo.dayLoss||0))]):e("span",{staticClass:"count"},[t._v("****")])])])])]),e("div",{staticClass:"data-gray"}),e("div",{staticClass:"data-panel"},[e("h2",[t._v("群统计 ")]),e("section",{staticClass:"top-statistics-box"},[e("a",{staticClass:"statistics-item",attrs:{href:"javascript:void(0)"}},[e("div",[e("span",{staticClass:"title"},[t._v("群总数")]),t.invisibleShow?e("span",{staticClass:"count"},[t._v(t._s(t.groupinfo.groupCount||0))]):e("span",{staticClass:"count"},[t._v("****")])])]),t._m(2),e("a",{staticClass:"statistics-item",attrs:{href:"javascript:void(0)"}},[e("div",[e("span",{staticClass:"title"},[t._v("今日入群")]),t.invisibleShow?e("span",{staticClass:"count"},[t._v(t._s(t.groupinfo.dayJoin||0))]):e("span",{staticClass:"count"},[t._v("****")])])]),t._m(3),e("a",{staticClass:"statistics-item",attrs:{href:"javascript:void(0)"}},[e("div",[e("span",{staticClass:"title"},[t._v("今日退群")]),t.invisibleShow?e("span",{staticClass:"count"},[t._v(t._s(t.groupinfo.dayExit||0))]):e("span",{staticClass:"count"},[t._v("****")])])])])])])]),e("div",{staticClass:"customer-statistics"},[e("div",{staticClass:"box"},[e("ChatData",{attrs:{invisibleShow:t.invisibleShow}})],1)])])},c=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"divider divider-height",staticStyle:{"padding-top":"0px","padding-bottom":"0px",height:"px"}},[e("span",{staticClass:"ant-divider ant-divider-vertical"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"divider divider-height",staticStyle:{"padding-top":"0px","padding-bottom":"0px",height:"px"}},[e("span",{staticClass:"ant-divider ant-divider-vertical"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"divider divider-height",staticStyle:{"padding-top":"0px","padding-bottom":"0px",height:"px"}},[e("span",{staticClass:"ant-divider ant-divider-vertical"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"divider divider-height",staticStyle:{"padding-top":"0px","padding-bottom":"0px",height:"px"}},[e("span",{staticClass:"ant-divider ant-divider-vertical"})])}],u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tendency-chart background-white"},[e("a-radio-group",{staticClass:"changeRadio",attrs:{size:"default","button-style":"solid"},on:{change:t.changeGroup},model:{value:t.tabPosition,callback:function(e){t.tabPosition=e},expression:"tabPosition"}},t._l(t.customerStatus,(function(n){return e("a-radio-button",{key:n.value,attrs:{value:n.value}},[t._v(" "+t._s(n.text)+" ")])})),1),e("div",{staticClass:"select-date"},[e("div",[e("a-select",{staticStyle:{width:"100px","margin-right":"10px"},on:{change:t.changePeriodTime},model:{value:t.timeSpace,callback:function(e){t.timeSpace=e},expression:"timeSpace"}},t._l(t.periodTime,(function(n){return e("a-select-option",{key:n.id,attrs:{value:n.id}},[t._v(" "+t._s(n.text)+" ")])})),1),t._v(" 自定义: "),e("a-range-picker",{staticStyle:{width:"300px","margin-right":"10px"},attrs:{disabledDate:t.disabledDate},on:{change:t.changeDate},model:{value:t.startOrEndTime,callback:function(e){t.startOrEndTime=e},expression:"startOrEndTime"}},[e("a-icon",{attrs:{slot:"suffixIcon",type:"calendar"},slot:"suffixIcon"})],1),t._v(" 请选择员工: "),e("SelectMultiple",{staticStyle:{display:"inline-block"},attrs:{reactflag:t.reactflag},on:{selectCustom:t.selectCustom}})],1),e("a-button",{on:{click:t.result}},[t._v("重置")])],1),e("div",{staticClass:"echarts",attrs:{id:"chatId"}})],1)},l=[],d=(n("d3b7"),n("d81d"),n("7db0"),n("eb82")),f=n("313e"),p=n("4cb5"),h=n("9394"),m=n("2da7"),g=n("4b2a"),v=n("f95e"),b=n("032e"),y=(n("ca00"),n("b775")),C={customerstatisticaldata:"/client_manager/customerstatisticaldata/get",getgroupstatistics:"/client_group/customerGroup/getgroupstatistics",getstaffcount:"/enterprise/staff/getstaffcount",customerEvent:"/client_manager/customerEvent/list"};function O(t){return Object(y["b"])({url:C.customerstatisticaldata,method:"post",data:t})}function _(t){return Object(y["b"])({url:C.getgroupstatistics,method:"get",params:t})}function S(t){return Object(y["b"])({url:C.getstaffcount,method:"get",params:t})}function w(t){return Object(y["b"])({url:C.customerEvent,method:"post",data:t})}f["b"]([h["a"],m["a"],g["a"],p["a"],v["a"]]);var L={name:"ChatData",components:{SelectMultiple:d["a"]},props:{codeItem:{type:Object,default:function(){return{}}},invisibleShow:{type:Boolean,default:!0}},computed:{codeId:function(){return this.$route.query.id||this.codeItem.id}},data:function(){return{tabPosition:"todayCount",searchName:"",timeSpace:7,reactflag:!1,startOrEndTime:void 0,staffData:[],dayTotalList:[],dayCreateList:[],dayLossList:[],dayAddList:[],staffId:"",customerStatus:[{value:"todayCount",text:"客户总数"},{value:"todayAdd",text:"新增客户数"},{value:"todayLoss",text:"流失客户数"},{value:"todayjing",text:"净增客户数"}],periodTime:[{text:"今日",id:0},{text:"近一周",id:7},{text:"近一个月",id:30}],myChart:"",dateOrStaff:"date"}},mounted:function(){this.changePeriodTime(this.timeSpace),this.myChart=f["a"](document.getElementById("chatId"))},methods:{onChange:function(t){this.dateOrStaff=t},exportForStaff:function(){return b["i"]},exportForDate:function(){return b["g"]},selectCustom:function(t){this.staffId=(null===t||void 0===t?void 0:t.userid)||"",this.reactflag=!1,this.getData()},result:function(){this.timeSpace=7,this.endStatisticsTime=void 0,this.staffId="",this.searchName="",this.tabPosition="todayCount",this.reactflag=!0,this.changePeriodTime(this.timeSpace)},changeGroup:function(t){this.tabPosition=t.target.value,this.invisibleShow?this.renderContainer():this.hiderenderContainer()},disabledDate:function(t){return t&&t>this.$moment().subtract("day")},changeDate:function(t){t.length>0&&this.getData()},changePeriodTime:function(t){this.startOrEndTime=0===t?[this.$moment().subtract(t,"days"),this.$moment().subtract(t,"days")]:[this.$moment().subtract(t-1,"days"),this.$moment()],this.getData()},getData:function(){var t,e,n,a,i=this;this.loading=!0;var s={startStatisticsTime:(null===(t=this.startOrEndTime)||void 0===t||null===(e=t[0])||void 0===e?void 0:e.format("YYYY-MM-DD"))+" 00:00:00",endStatisticsTime:(null===(n=this.startOrEndTime)||void 0===n||null===(a=n[1])||void 0===a?void 0:a.format("YYYY-MM-DD"))+" 23:59:59",staffId:this.staffId};O(s).then((function(t){i.dayTotalList=t.data.map((function(t){return{statisticsDay:t.statisticsDay,num:t.dayTotal}})),i.dayAddList=t.data.map((function(t){return{statisticsDay:t.statisticsDay,num:t.dayAdd}})),i.dayLossList=t.data.map((function(t){return{statisticsDay:t.statisticsDay,num:t.dayLoss}})),i.dayCreateList=t.data.map((function(t){return{statisticsDay:t.statisticsDay,num:t.dayCreate}})),i.invisibleShow?i.renderContainer():i.hiderenderContainer()})).catch((function(t){i.$message.error(t)})).finally((function(){i.loading=!1}))},renderContainer:function(){var t=this,e=this.customerStatus.find((function(e){return e.value===t.tabPosition})).text;"todayCount"==this.tabPosition?this.dataList=this.dayTotalList:"todayAdd"==this.tabPosition?this.dataList=this.dayCreateList:"todayLoss"==this.tabPosition?this.dataList=this.dayLossList:"todayjing"==this.tabPosition&&(this.dataList=this.dayAddList),this.myChart.setOption({xAxis:{data:this.dataList.map((function(t){return t.statisticsDay}))},tooltip:{trigger:"axis",show:!0},yAxis:{name:"人数",minInterval:1,axisLabel:{formatter:function(t){return t}}},grid:{left:"60px",right:"5%"},series:[{name:e,type:"line",data:this.dataList.map((function(t){return t.num}))}]})},hiderenderContainer:function(){var t=this,e=this.customerStatus.find((function(e){return e.value===t.tabPosition})).text;"todayCount"==this.tabPosition?this.dataList=this.dayTotalList:"todayAdd"==this.tabPosition?this.dataList=this.dayCreateList:"todayLoss"==this.tabPosition?this.dataList=this.dayLossList:"todayjing"==this.tabPosition&&(this.dataList=this.dayAddList),this.myChart.setOption({xAxis:{data:this.dataList.map((function(t){return t.statisticsDay}))},tooltip:{trigger:"axis",show:!1},yAxis:{name:"人数",minInterval:1,axisLabel:{formatter:function(){return"****"}}},grid:{left:"60px",right:"5%"},series:[{name:e,type:"line",data:this.dataList.map((function(t){return t.num}))}]})}},watch:{invisibleShow:{handler:function(){this.invisibleShow?this.renderContainer():this.hiderenderContainer()}}}},x=L,D=(n("d3d7"),n("2877")),j=Object(D["a"])(x,u,l,!1,null,"94c780f6",null),T=j.exports,k={components:{ChatData:T},data:function(){return{invisibleShow:!0,dayinfo:{},groupinfo:{}}},created:function(){var t=window.localStorage.getItem("invisibleNum");this.getCustomerData(),this.getgroups(),t&&(this.invisibleShow="1"==t)},methods:{getCustomerData:function(){var t=this,e={startStatisticsTime:"",endStatisticsTime:"",staffId:""};O(e).then((function(e){null!==e&&void 0!==e&&e.data&&(t.dayinfo=e.data[0])})).catch((function(e){t.$message.error(e)}))},getgroups:function(){var t=this;_().then((function(e){null!==e&&void 0!==e&&e.data&&(t.groupinfo=e.data)})).catch((function(e){t.$message.error(e)}))},changeStaue:function(t){this.invisibleShow="1"==t,window.localStorage.setItem("invisibleNum",t)}}},I=k,N=(n("9651"),Object(D["a"])(I,o,c,!1,null,"2a51979c",null)),R=N.exports,A=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"customer-event"},[e("div",{staticClass:"title"},[e("span",[t._v("客户事件提醒")]),e("a-popover",{attrs:{trigger:"focus",placement:"leftBottom",getPopupContainer:function(){return t.$refs.noticeRef.parentElement}}},[e("template",{slot:"content"},[e("h2",{on:{mousedown:function(t){return t.preventDefault()}}},[t._v("全部事件提醒")]),e("div",{staticClass:"list-wrap",on:{mousedown:function(t){return t.preventDefault()}}},[e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.getPageList,expression:"getPageList"}],staticClass:"demo-infinite-container",attrs:{"infinite-scroll-disabled":t.busy,"infinite-scroll-distance":10}},[t.dataList.length>0?e("ul",t._l(t.dataList,(function(n,a){return e("li",{key:a},[e("div",{staticClass:"flex-box"},[e("span",[t._v("【"+t._s(n.eventTypeName)+"】")]),e("div",{staticClass:"content-html",domProps:{innerHTML:t._s(n.contentHtml)},on:{click:function(e){return t.goCustomer(n.customerWxid)}}})]),e("span",{staticClass:"aks-tips"},[t._v(t._s(n.updateTime))])])})),0):t._e(),e("div",{staticStyle:{"text-align":"center","line-height":"30px"}},[t.busy?e("div",{staticClass:"cter"},[t._v("没有更多内容~~")]):e("a-button",{attrs:{type:"link"},on:{click:t.loadMoe}},[t._v("加载更多")])],1)])])]),e("a-button",{attrs:{type:"link"}},[t._v("查看更多")])],2)],1),e("ul",{ref:"noticeRef"},t._l(t.filterDataList,(function(n,a){return e("li",{key:a},[e("div",{staticClass:"flex-box"},[e("span",[t._v("【"+t._s(n.eventTypeName)+"】")]),e("div",{staticClass:"content-html",on:{click:function(e){return t.goCustomer(n.customerWxid)}}},[e("p",{domProps:{innerHTML:t._s(n.contentHtml)}})])]),e("span",{staticClass:"aks-tips"},[t._v(t._s(n.updateTime))])])})),0)])])},P=[],E=n("5530"),B=n("2909"),$=(n("fb6a"),n("99af"),n("ac1f"),n("5319"),n("487a")),F=n.n($),G={name:"EventReminder",directives:{infiniteScroll:F.a},components:{},data:function(){return{dataList:[],busy:!1,pagination:{current:1,pageSize:10,total:0},commonList:[{name:"客户群发",tip:"了解客户群发相关的限制",icon:"/icons/group-sned.png",router:"CustomerGroup"},{name:"渠道活码",tip:"了解渠道活码的功能和使用",icon:"/icons/channel-qr.png",router:"ChannelCode"},{name:"群管理",tip:"统一管理企业客户群",icon:"/icons/welcome.png",router:"ClientBaseOperation"}]}},created:function(){this.getPageList()},computed:{filterDataList:function(){return this.dataList.slice(0,4)}},methods:{getPageList:function(){var t=this,e={currentPage:this.pagination.current,pageSize:this.pagination.pageSize};w(e).then((function(e){var n;(t.pagination.current++,e.data.list)&&(n=t.dataList).push.apply(n,Object(B["a"])(t.changeDataList(e.data.list)));t.pagination.total=e.data.total,t.pagination.total<=t.dataList.length&&(t.busy=!0)}))},goRouter:function(t){this.$router.push({name:t})},goCustomer:function(t){this.$router.push({name:"CustomerDetail",query:{customerId:t}})},changeDataList:function(t){return null!==t&&void 0!==t&&t.length?t.map((function(t){var e='<img src="'.concat(t.staffAvatar,'"></img> ').concat(t.staffName),n='<img src="'.concat(t.customerAvatar,'"></img> ').concat(t.customerName);return Object(E["a"])(Object(E["a"])({},t),{},{contentHtml:t.content.replace("#staff#",e).replace("#customer#",n)})})):[]},loadMoe:function(){this.getPageList()}}},K=G,q=(n("fa1a"),Object(D["a"])(K,A,P,!1,null,"7bbbc16b",null)),H=q.exports,M={name:"BusinessData",components:{DataInfo:R,EventReminder:H},data:function(){return{}},created:function(){},methods:{}},z=M,U=Object(D["a"])(z,s,r,!1,null,"0cd61382",null),Y=U.exports,J=(n("b0c0"),function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"box-wrap"},[e("div",{staticClass:"flexBox"},[e("a-avatar",{attrs:{size:48,shape:"square",src:t.currentUser.avatar}}),e("div",{staticClass:"info"},[e("h4",[t._v(t._s(t.currentUser.name))]),e("p",[t._v(t._s(t.roleName))])])],1),e("ul",{staticClass:"list-wrap"},[e("li",[e("span",{staticClass:"aks-tips"},[t._v("所属企业:")]),e("strong",[t._v(t._s(t.currentUser.corpName))])]),e("li",[e("span",{staticClass:"aks-tips"},[t._v("员工人数:")]),e("strong",[t._v(t._s(t.num))])]),t._m(0)])])])}),Q=[function(){var t=this,e=t._self._c;return e("li",[e("span",{staticClass:"aks-tips"},[t._v("当前版本:")]),e("strong",[t._v("旗舰版")])])}],V={name:"LoginInfo",components:{},data:function(){return{currentUser:{},num:"",roleName:""}},created:function(){var t,e,n,a,i,s,r,o,c,u,l,d;this.roleName=null===(t=this.$store)||void 0===t||null===(e=t.state)||void 0===e?void 0:e.user.info.roleName,this.currentUser={name:(null===(n=this.$store)||void 0===n||null===(a=n.state)||void 0===a||null===(i=a.user)||void 0===i?void 0:i.name)||"未获取到用户名",avatar:null===(s=this.$store)||void 0===s||null===(r=s.state)||void 0===r||null===(o=r.user)||void 0===o?void 0:o.avatar,corpName:(null===(c=this.$store)||void 0===c||null===(u=c.state)||void 0===u||null===(l=u.user)||void 0===l||null===(d=l.corp)||void 0===d?void 0:d.name)||"未获到公司名"},this.getstaffcount()},methods:{goCorporateRiskControl:function(){this.$router.push({name:"news"})},getstaffcount:function(){var t=this;S().then((function(e){t.num=e.data}))}}},W=V,X=(n("4204"),Object(D["a"])(W,J,Q,!1,null,"00c7bdf0",null)),Z=X.exports,tt={name:"Home",components:{BusinessData:Y,LoginInfo:Z},data:function(){return{}},created:function(){},methods:{}},et=tt,nt=(n("160c3"),Object(D["a"])(et,a,i,!1,null,"28a2a943",null));e["default"]=nt.exports},"7cc1":function(t,e,n){},8753:function(t,e,n){},9651:function(t,e,n){"use strict";n("7cc1")},9994:function(t,e,n){"use strict";n("65b6")},c86b:function(t,e,n){},d3d7:function(t,e,n){"use strict";n("5a0c")},ea0b:function(t,e,n){},eb82:function(t,e,n){"use strict";n("498a"),n("b0c0");var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-wrap"},[e("div",{staticClass:"button-name",on:{click:function(e){return e.stopPropagation(),t.selectFocusIsOpen.apply(null,arguments)},mouseenter:t.enter,mouseleave:t.leave}},[t.employeeName?e("span",{staticClass:"hidden"},[e("a-avatar",{attrs:{size:28,shape:"square",src:t.thumbAvatar}}),t._v(" "+t._s(t.employeeName)+" ")],1):e("span",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",color:"rgba(0, 0, 0, 0.25)"}},[t._v(" "+t._s(t.placeholderStr)+" ")]),t.closeCircle?e("span",{staticStyle:{color:"rgba(0, 0, 0, 0.25)"}},[t.employeeName&&1!=t.styleButton?e("a-icon",{attrs:{type:"close-circle",theme:"filled"},on:{click:function(e){return e.stopPropagation(),t.iconClear.apply(null,arguments)}}}):e("a-icon",{attrs:{type:"down"}})],1):t._e()]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"},{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],staticClass:"selectBox_list"},[e("div",{staticClass:"group-owner"},[e("header",{staticClass:"header"},[t._v("全部员工 ("+t._s(t.total)+")")]),e("div",{staticClass:"search-name"},[e("a-input-search",{attrs:{placeholder:"请输入员工后回车"},on:{search:t.onSearchName},model:{value:t.searchName,callback:function(e){t.searchName="string"===typeof e?e.trim():e},expression:"searchName"}})],1),e("ul",{staticClass:"list-wrap"},[e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.getDictionaryByCode,expression:"getDictionaryByCode"}],staticClass:"demo-infinite-container",attrs:{"infinite-scroll-disabled":t.busy,"infinite-scroll-distance":10}},t._l(t.groupOwners,(function(n){return e("li",{key:n.staffId,staticClass:"title-wrap",on:{click:function(e){return t.selectGroupOwner(n)}}},[e("a-space",{attrs:{size:12}},[e("a-avatar",{attrs:{size:30,src:n.thumbAvatar,shape:"square"}}),e("span",[t._v(t._s(n.name))])],1),t.checkShow?e("div",[t.userId==n.userid?e("a-icon",{staticClass:"check-circle",attrs:{type:"check-circle"}}):e("div",{staticClass:"circle"})],1):t._e()],1)})),0)])])])])},i=[],s=n("2909"),r=(n("d81d"),n("4de4"),n("d3b7"),n("25f0"),n("159b"),n("caad"),n("2532"),n("99af"),n("487a")),o=n.n(r),c=n("1c9c"),u={bind:function(t,e){function n(n){if(t.contains(n.target))return!1;e.expression&&e.value(n)}t.__vueClickOutside__=n,document.addEventListener("click",n)},update:function(){},unbind:function(t){document.removeEventListener("click",t.__vueClickOutside__),delete t.__vueClickOutside__}},l={name:"SearchForm",directives:{clickoutside:u,infiniteScroll:o.a},props:{checkShow:{type:Boolean,default:!1},userName:{type:String,default:""},userId:{type:String,default:""},userThumbAvatar:{type:String,default:""},reactflag:{type:Boolean,default:!1},placeholderStr:{type:String,default:"请选择企业员工"},closeCircle:{type:Boolean,default:!0}},data:function(){return{defalytStaffIndex:[],thumbAvatar:"",busy:!0,pagination:{current:1,pageSize:10,total:0},total:0,totalNum:0,selectRoleId:"3",employeeName:"",groupOwners:[],page:1,limit:10,value:[],searchName:"",styleButton:1,owners:[],isOpen:!1,loading:!1,buttonLoding:!1,ownersID:{data:[]}}},created:function(){},methods:{enter:function(){this.styleButton=2},leave:function(){this.styleButton=1},selectGroupOwner:function(t){this.employeeName=t.name,this.thumbAvatar=t.thumbAvatar,this.isOpen=!1,this.$emit("selectCustom",t)},iconClear:function(){this.employeeName="",this.isOpen=!1;var t={empty:"1"};this.groupOwners=[],this.page=1,this.searchName="",this.getDictionaryByCode(),this.$emit("selectCustom",t)},handleClose:function(){this.isOpen=!1},selectFocusIsOpen:function(){this.isOpen=!this.isOpen},ok:function(){var t=this.groupOwners.filter((function(t){if(t.defaultChecked)return t.userid})).map((function(t){return t.userid})),e=this.groupOwners.filter((function(t){if(t.defaultChecked)return t})).map((function(t){return{name:t.name,avatar:t.thumbAvatar}}));this.ownersID.data=e;var n=t.toString();this.isOpen=!this.isOpen,this.$store.commit("SET_STAFFIDS",n)},cancel:function(){var t=this;this.isOpen=!this.isOpen,this.groupOwners.forEach((function(e){var n=t.responseData.useridList.includes(e.userid);e.defaultChecked=!!n}));var e=this.groupOwners.filter((function(t){if(t.defaultChecked)return t})).map((function(t){return{name:t.name,avatar:t.thumbAvatar}}));this.ownersID.data=e},handleInfiniteOnLoad:function(){this.pagination.current++,this.loading&&this.getDictionaryByCode()},getDictionaryByCode:function(){var t=this,e={currentPage:this.page,pageSize:this.limit,name:this.searchName||""};this.buttonLoding||(this.buttonLoding=!0,this.loading=!0,"0"!=this.total&&this.groupOwners.length>=this.total?this.busy=!0:Object(c["q"])(e).then((function(e){var n=e.data.list;t.total=e.data.total,t.page>1?t.groupOwners=[].concat(Object(s["a"])(t.groupOwners),Object(s["a"])(n)):t.groupOwners=Object(s["a"])(n),t.groupOwners.length>=t.total?t.busy=!0:(t.page=t.page+1,t.loading=!1)})).catch((function(e){t.$message.error(e||e.message)})).finally((function(){t.buttonLoding=!1})))},onSearchName:function(){this.groupOwners=[],this.page=1,this.getDictionaryByCode()}},watch:{reactflag:{handler:function(t,e){!0===t&&(this.employeeName="",this.isOpen=!1,this.groupOwners=[],this.page=1,this.searchName="",this.getDictionaryByCode())}},userName:function(){this.employeeName=this.userName},userThumbAvatar:function(){this.thumbAvatar=this.userThumbAvatar}}},d=l,f=(n("9994"),n("2877")),p=Object(f["a"])(d,a,i,!1,null,"c2d4f660",null);e["a"]=p.exports},fa1a:function(t,e,n){"use strict";n("c86b")}}]);