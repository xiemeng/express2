(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a254398"],{"04646":function(t,e,a){"use strict";a("85e6")},"0fa8":function(t,e,a){},1119:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",[t._l(t.form.tagList,(function(a,i){return e("a-form-model-item",t._b({key:a.key,attrs:{prop:"tagList",label:0===i?"标签名称":""}},"a-form-model-item",0===i?t.formItemLayout:t.formItemLayoutWithOutLabel,!1),[e("a-input",{staticStyle:{width:"60%","margin-right":"8px"},attrs:{placeholder:"请输入标签名称",maxLength:10},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"domain.value"}}),t.form.tagList.length>1?e("a-icon",{staticClass:"dynamic-delete-button",attrs:{type:"minus-circle-o",disabled:1===t.form.tagList.length},on:{click:function(e){return t.removeDomain(a)}}}):t._e(),a.tagCount||0===a.tagCount?e("a-space",{staticClass:"using"},[a.tagCount>0?e("a-tag",{attrs:{color:"green"}},[t._v("使用中")]):e("a-tag",{attrs:{color:"orange"}},[t._v("未使用")])],1):t._e()],1)})),e("a-form-model-item",{attrs:{"wrapper-col":{offset:4}}},[e("a-button",{attrs:{type:"link"},on:{click:t.addDomain}},[e("a-icon",{attrs:{type:"plus-circle"}}),t._v(" 添加标签 ")],1)],1)],2)},s=[],n=(a("a434"),{name:"FormlabelAdd",props:{form:{type:[Object],default:function(){return{}}}},mounted:function(){},data:function(){return{formItemLayout:{labelCol:{sm:{span:5}},wrapperCol:{sm:{span:19}}},formItemLayoutWithOutLabel:{wrapperCol:{sm:{span:19,offset:5}}}}},methods:{removeDomain:function(t){var e=this.form.tagList.indexOf(t);-1!==e&&this.form.tagList.splice(e,1)},addDomain:function(){this.form.tagList.push({value:"",key:Date.now()})}}}),r=n,o=(a("74de"),a("2877")),l=Object(o["a"])(r,i,s,!1,null,"bb9da28a",null);e["a"]=l.exports},1344:function(t,e,a){},1531:function(t,e,a){"use strict";a("b1f6")},"1f3e":function(t,e,a){"use strict";a("49c9")},2097:function(t,e,a){"use strict";a("73bf")},"299d":function(t,e,a){},"351b":function(t,e,a){},"496e":function(t,e,a){"use strict";a("6e43")},"49c9":function(t,e,a){},"4f1a":function(t,e,a){"use strict";a("d3b7"),a("ddb0"),a("caad"),a("2532");var i=function(){var t=this,e=t._self._c;return e("div",[e("h6",{staticClass:"dialog-title"},[t._v("选择群聊")]),e("section",[e("a-input-search",{attrs:{allowClear:"",placeholder:"请输入群名称"},on:{search:t.onSearchName},model:{value:t.searchNmae,callback:function(e){t.searchNmae=e},expression:"searchNmae"}}),e("div",{staticClass:"tree"},[e("p",{staticClass:"tree-head"},[t._v(" 全部群聊("+t._s(t.pagination.total)+") "),e("a-checkbox",{on:{change:t.changeAllCheckbox},model:{value:t.isSelectAll,callback:function(e){t.isSelectAll=e},expression:"isSelectAll"}},[t._v(" 全选 ")])],1),e("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.handleInfiniteOnLoad,expression:"handleInfiniteOnLoad"}],staticClass:"scroll-list",attrs:{"infinite-scroll-disabled":t.busy,"infinite-scroll-distance":10}},[t._l(t.groupList,(function(a,i){return e("li",{key:a.groupId,staticClass:"title-wrap"},[e("div",{staticClass:"title-chilred"},[e("a-avatar",{attrs:{size:40,src:"/icons/groupChat.svg",shape:"square"}}),e("div",{staticClass:"info-wrap"},[e("p",[t._v(t._s(a.chatName)+" "),e("a-tag",{attrs:{color:"blue"}},[t._v("外部")])],1),t.isShowNumber?e("p",{staticClass:"aks-tips"},[t._v(t._s(a.count)+"/200")]):e("p",{staticClass:"aks-tips"},[t._v(" 群主："+t._s(a.chatOwnerName))])])],1),e("div",[0!==a[t.keys]&&t.isSetRule?e("p",{staticClass:"aks-tips"},[t._v(t._s(t.tipText))]):e("a-checkbox",{attrs:{disabled:t.selectGroupIdIdList.includes(a.groupId)},on:{change:function(e){return t.changeChilren(i,e)}},model:{value:a.isSelect,callback:function(e){t.$set(a,"isSelect",e)},expression:"item.isSelect"}})],1)])})),t.loading?e("div",{staticClass:"loading-container"},[e("a-spin",{attrs:{tip:"正在加载中..."}})],1):t._e()],2)])],1),e("div",{staticClass:"foot-button"},[e("a-space",{attrs:{size:12}},[e("a-button",{on:{click:function(e){return t.$emit("cancle")}}},[t._v("取消")]),e("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.$emit("serviceOk",t.addGruoupChat)}}},[t._v("确定")])],1)],1)])},s=[],n=a("2909"),r=(a("d81d"),a("4de4"),a("159b"),a("ccdf")),o=a("487a"),l=a.n(o),c={name:"SelectGroupChat",directives:{infiniteScroll:l.a},props:{selectGroupList:{type:[Array],default:function(){return[]}},selectedList:{type:[Array],default:function(){return[]}},isSetRule:{type:Boolean,default:function(){return!0}},isShowNumber:{type:Boolean,default:function(){return!1}},notifyType:{type:String,default:function(){return"groupSop"}}},data:function(){return{searchNmae:"",busy:!1,loading:!1,groupList:[],isSelectAll:!1,pagination:{current:1,pageSize:10,total:0},tipText:"",keys:"",isEnter:!1,isOtherAll:!1}},computed:{selectGroupIdIdList:function(){return this.selectedList.map((function(t){return t.groupId}))},addGruoupChat:function(){var t={};return this.isOtherAll?t.excludeIdList=this.groupList.filter((function(t){return!t.isSelect})).map((function(t){return t.groupId})):t.groupChatIdList=this.groupList.filter((function(t){return t.isSelect})).map((function(t){return t.groupId})),t.groupList=this.groupList.filter((function(t){return t.isSelect})),t}},created:function(){this.getInfo()},methods:{getInfo:function(){switch(this.notifyType){case"groupSop":this.tipText="该群聊已设置规则",this.keys="sopStatus";break;case"groupCalendar":this.tipText="该群聊已设置日历",this.keys="calendarStatus";break;default:break}},changeChilren:function(t,e){if(this.groupList[t].isSelect=e.target.checked,e.target.checked){var a=this.groupList.filter((function(t){return!t.isSelect}));a.length<1&&(this.isSelectAll=!0)}else this.isSelectAll=!1},changeAllCheckbox:function(t){this.isOtherAll=t.target.checked,t.target.checked?this.groupList.forEach((function(t){t.isSelect=!0})):this.groupList.forEach((function(t){t.isSelect=!1}))},onSearchName:function(){this.pagination.current=1,this.groupList=[],this.busy=!1,this.isEnter=!0,this.queryGroupPageByGroupSop()},queryGroupPageByGroupSop:function(){var t=this,e={currentPage:this.pagination.current,pageSize:this.pagination.pageSize,keywords:this.searchNmae,notifyType:this.notifyType};this.loading=!0,Object(r["k"])(e).then((function(e){if(null!==e&&void 0!==e&&e.data){var a,i,s=t.selectGroupList.map((function(t){return t.groupId}));if(null===(a=e.data.list)||void 0===a||a.forEach((function(t){s.includes(t.groupId)?t.isSelect=!0:t.isSelect=!1})),(i=t.groupList).push.apply(i,Object(n["a"])(e.data.list)),t.pagination.current++,t.pagination.total=e.data.total,e.data.list.length<t.pagination.pageSize)return t.busy=!0,void(t.loading=!1);t.$nextTick((function(){t.isEnter=!1}))}})).catch((function(e){t.$message.error(e),t.loading=!1}))},handleInfiniteOnLoad:function(){!this.busy&&!this.isEnter&&this.queryGroupPageByGroupSop()}}},u=c,d=(a("1f3e"),a("2877")),p=Object(d["a"])(u,i,s,!1,null,"94e9cec6",null);e["a"]=p.exports},"501a":function(t,e,a){},"59c3":function(t,e,a){"use strict";a("5c7d")},"5c7d":function(t,e,a){},"5fda":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[e("a-page-header",{staticClass:"page-header background-white",attrs:{title:t.isAddText},on:{back:function(e){return t.$router.go(-1)}}}),e("div",{staticStyle:{padding:"16px"}},[e("a-steps",{staticClass:"step-data",attrs:{current:t.current,size:"small"}},t._l(t.steps,(function(t){return e("a-step",{key:t.title,attrs:{title:t.title}})})),1),e("div",{staticClass:"steps-content"},[e(t.steps[t.current].content,{tag:"component",attrs:{formData:t.formData}})],1),e("div",{staticClass:"steps-action"},[t.current>0?e("a-button",{staticStyle:{"margin-right":"8px"},attrs:{size:"large"},on:{click:t.prev}},[t._v(" 上一步 ")]):t._e(),t.current<t.steps.length-1?e("a-button",{attrs:{type:"primary",size:"large"},on:{click:t.next}},[t._v(" 下一步 ")]):t._e(),t.current==t.steps.length-1?e("a-button",{attrs:{type:"primary",size:"large",loading:t.activityLoading},on:{click:t.goBack}},[t._v(" "+t._s(t.isAddText)+" ")]):t._e()],1)],1)],1)},s=[],n=a("c7eb"),r=a("1da1"),o=(a("d3b7"),a("d81d"),a("b0c0"),a("4de4"),a("9911"),a("a15b"),a("ac1f"),a("5319"),function(){var t=this,e=t._self._c;return e("div",[e("h2",{staticStyle:{"font-size":"15px"}},[t._v("基本信息")]),e("a-divider",{staticStyle:{margin:"12px 0"}}),e("a-form-model",{attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[e("a-form-model-item",{attrs:{label:"活动名称：",required:""}},[e("a-input",{attrs:{maxLength:t.maxLength,disabled:t.isSuccet},model:{value:t.activityName,callback:function(e){t.activityName=e},expression:"activityName"}})],1),e("a-form-model-item",{attrs:{label:"匹配客户方式："}},[e("span",{staticStyle:{color:"rgba(0, 0, 0, 0.45)"}},[t._v("(将参与活动的微信客户和企业微信客户匹配)")]),e("br"),e("a-radio-group",{attrs:{name:"radioGroup",disabled:t.isSuccet},model:{value:t.matchType,callback:function(e){t.matchType=e},expression:"matchType"}},[e("a-radio",{attrs:{value:0}},[t._v(" 客户昵称匹配 ")]),e("a-radio",{attrs:{value:1,disabled:!0}},[t._v(" 客户微信ID匹配 ")]),e("br"),e("span",{staticStyle:{color:"rgba(0, 0, 0, 0.45)"}},[t._v("对数据精准度要求不高可用，相同昵称客户可能会出现匹配错误")])],1)],1),e("a-form-model-item",{attrs:{label:"客服成员：",required:""}},[e("a-button",{on:{click:function(e){t.AddTransfeVisible=!0}}},[e("a-icon",{attrs:{type:"plus"}}),t._v("添加成员")],1),e("span",{staticStyle:{"margin-left":"18px",color:"rgba(0, 0, 0, 0.45)"}},[t._v("可添加多个企业成员分别进行裂变")]),t.selectList.length>0?e("div",[e("ul",{staticClass:"account-list"},t._l(t.selectList,(function(a,i){return e("li",{key:i},[e("a-icon",{attrs:{type:"user"}}),e("a-icon",{staticClass:"close",attrs:{type:"close-circle"},on:{click:function(e){return t.closeDetel(i)}}}),t._v(" "+t._s(a.title)+" ")],1)})),0)]):t._e()],1),e("a-form-model-item",{attrs:{label:"自动通过好友："}},[e("a-switch",{attrs:{size:"small","default-checked":t.throughFriendsChecked},on:{change:t.throughFriendsOnChange}}),t._v(" "+t._s(!0===t.throughFriendsChecked?"已开启":"已关闭")+" ")],1),e("a-form-model-item",{attrs:{label:"客户标签："}},[e("a-switch",{attrs:{size:"small"},model:{value:t.customerLabel,callback:function(e){t.customerLabel=e},expression:"customerLabel"}}),t._v(" "+t._s(!0===t.customerLabel?"已开启":"已关闭")+" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.customerLabel,expression:"customerLabel"}]},[e("div",{class:t.boxshow?"box-none":"box"},[e("a-list",{attrs:{"data-source":t.DataGroupList,split:!1},scopedSlots:t._u([{key:"renderItem",fn:function(a){return e("a-list-item",{},[e("div",{staticClass:"center col-1"},[t._v(" "+t._s(a.groupName)+"： "),e("a-list-item",[e("TagComponents",{attrs:{tagslist:a,selectIDList:t.selectIDList},on:{componentsData:t.componentsData}})],1)],1)])}}])})],1),e("a-button",{attrs:{type:"link"},on:{click:function(e){t.NewLabelgroupVisible=!0}}},[e("a-icon",{attrs:{type:"plus-circle"}}),t._v(" 新建标签组 ")],1),e("a-button",{staticClass:"more",attrs:{type:"link"},on:{click:function(e){t.boxshow=!t.boxshow}}},[e("a-icon",{attrs:{type:t.boxshow?"up":"down"}}),t._v(t._s(t.boxshow?"收起":"展开")+" ")],1)],1)],1),e("a-form-model-item",{attrs:{label:"活动结束时间",required:""}},[e("DatePickerTW",{attrs:{dateTimeStr:t.createTime},on:{dateTime:t.createTimeOnChange}})],1),e("a-form-model-item",{attrs:{label:"二维码有效期："}},[e("a-radio-group",{on:{change:t.validityOfQRCodeOnChange},model:{value:t.validityOfQRCode,callback:function(e){t.validityOfQRCode=e},expression:"validityOfQRCode"}},[e("a-radio",{attrs:{value:1}},[t._v(" 立即失效 ")]),e("a-radio",{attrs:{value:2}},[e("a-input-number",{staticStyle:{width:"45px"},attrs:{id:"inputNumber",min:1,max:15},on:{change:t.numberOnChange},model:{value:t.valueCode,callback:function(e){t.valueCode=e},expression:"valueCode"}}),t._v(" 天后过期 ")],1),e("br"),e("span",[t._v("* 失效后二维码不可再扫码添加")])],1)],1)],1),e("h2",{staticStyle:{"font-size":"15px"}},[t._v("任务设置")]),e("a-divider",{staticStyle:{margin:"12px 0"}}),e("a-form-model",{attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[e("a-form-item",{attrs:{label:"裂变任务设置：",required:""}},[e("TableAdd",{attrs:{dataSourceList:t.dataSource,stateType:t.isSuccet},on:{funcData:t.TableAddData,addToData:t.addToData}})],1),e("a-form-item",{attrs:{label:"高级设置："}},[e("a-switch",{attrs:{size:"small",disabled:""},model:{value:t.newFriendsHelp,callback:function(e){t.newFriendsHelp=e},expression:"newFriendsHelp"}}),t._v(" 新好友才能助力 "),e("a-tooltip",{attrs:{title:"开启后，被推荐客户添加活动员工完成后，推荐客户获取助力次数",placement:"topLeft"}},[e("a-icon",{staticStyle:{"margin-left":"4px"},attrs:{type:"question-circle"}})],1),e("br"),e("a-switch",{attrs:{size:"small",disabled:t.deletingEmployeeFriendsDisabled},model:{value:t.deletingEmployeeFriends,callback:function(e){t.deletingEmployeeFriends=e},expression:"deletingEmployeeFriends"}}),t._v(" 删除员工好友后助力失效 "),e("a-tooltip",{directives:[{name:"show",rawName:"v-show",value:t.deletingEmployeeFriendsDisabled,expression:"deletingEmployeeFriendsDisabled"}],attrs:{title:"仅限裂变任务为一级阶梯时可开通",placement:"topLeft"}},[e("a-icon",{staticStyle:{"margin-left":"4px"},attrs:{type:"question-circle"}})],1)],1),e("a-form-item",{attrs:{label:"领奖方式："}},[e("a-radio-group",{on:{change:t.onChangePrize},model:{value:t.prizeValue,callback:function(e){t.prizeValue=e},expression:"prizeValue"}},[e("a-radio",{attrs:{value:1}},[t._v(" 联系客服 ")])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.prizeValue,expression:"prizeValue === 2"}],staticStyle:{"line-height":"15px"}},[t._v(" * 输入兑奖链接，客户完成任务后会跳转到新的链接领取 "),e("div",{staticStyle:{"margin-top":"16px",background:"#fff7f0",color:"#bb5223","font-size":"13px",padding:"10px 17px"}},[t._v(" 提示：不建议填写直接领奖页面的链接，若客户复制领奖链接发给其他好友，其他未完成任务的客户也可以领取到奖励哦。为避免此行为，建议填写表单等无风险链接~ ")]),e("span",{staticStyle:{"margin-top":"16px",display:"flex","align-items":"center"}},[e("a-form-item",[t._v(" 完成一级任务： "),e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["url",{rules:[{type:"url",message:"* 链接格式不正确"},{required:!0,message:"请输入兑奖链接"}]}],expression:"[\n                'url',\n                {\n                  rules: [\n                    {\n                      type: 'url',\n                      message: '* 链接格式不正确'\n                    },\n                    {\n                      required: true,\n                      message: '请输入兑奖链接'\n                    }\n                  ]\n                }\n              ]"}],staticStyle:{width:"400px"},attrs:{placeholder:"请输入兑奖链接"}})],1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:3===t.prizeValue,expression:"prizeValue === 3"}],staticStyle:{"line-height":"15px"}},[e("div",{staticStyle:{border:"1px solid #acd7ff",padding:"16px 18px 13px",background:"#f7fcff"}},[e("p",[t._v("1: 输入有赞商品链接，客户完成任务后会跳转到新的链接领取")]),e("p",[t._v("2: 有赞限购标签在有赞后台设置 "),e("a",[t._v("查看如何设置有赞限购标签？")])])]),e("span",{staticStyle:{"margin-top":"16px",display:"flex","align-items":"center"}},[e("a-form-item",[t._v(" 完成一级任务： "),e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["url",{rules:[{type:"url",message:"* 链接格式不正确"},{required:!0,message:"请输入兑奖链接"}]}],expression:"[\n                'url',\n                {\n                  rules: [\n                    {\n                      type: 'url',\n                      message: '* 链接格式不正确'\n                    },\n                    {\n                      required: true,\n                      message: '请输入兑奖链接'\n                    }\n                  ]\n                }\n              ]"}],staticStyle:{width:"400px"},attrs:{placeholder:"请输入兑奖链接"}})],1)],1)])],1),e("a-form-item",{directives:[{name:"show",rawName:"v-show",value:1===t.prizeValue,expression:"prizeValue === 1"}],attrs:{label:"选择员工："}},[e("a-button",{on:{click:function(e){t.AddspareVisible=!0}}},[e("a-icon",{attrs:{type:"plus"}}),t._v("选择员工")],1),t.spareList.length>0?e("div",[e("ul",{staticClass:"account-list"},t._l(t.spareList,(function(a,i){return e("li",{key:i},[e("a-icon",{attrs:{type:"user"}}),e("a-icon",{staticClass:"close",attrs:{type:"close-circle"},on:{click:function(e){return t.closespareDetel(i)}}}),t._v(" "+t._s(a.title)+" ")],1)})),0)]):t._e()],1)],1),e("a-modal",{attrs:{footer:null,width:"680px",centered:"",destroyOnClose:""},on:{cancle:function(e){t.AddTransfeVisible=!1}},model:{value:t.AddTransfeVisible,callback:function(e){t.AddTransfeVisible=e},expression:"AddTransfeVisible"}},[e("AddTransfer",{attrs:{selectList:t.selectList,selectRoleIdList:t.selectRoleIdListData,disabledId:"staffId",type:"deptId"},on:{serviceOk:t.serviceOk,cancle:function(e){t.AddTransfeVisible=!1}}})],1),e("a-modal",{attrs:{footer:null,width:"680px",destroyOnClose:"",centered:""},on:{cancle:function(e){t.AddspareVisible=!1}},model:{value:t.AddspareVisible,callback:function(e){t.AddspareVisible=e},expression:"AddspareVisible"}},[e("AddTransfer",{attrs:{selectList:t.spareList,selectRoleIdList:t.selectCustomerIdList,disabledId:"staffId",type:"deptId"},on:{serviceOk:t.servicespareOk,cancle:function(e){t.AddspareVisible=!1}}})],1),e("a-modal",{attrs:{footer:null,width:"599px",centered:"",destroyOnClose:""},model:{value:t.NewLabelgroupVisible,callback:function(e){t.NewLabelgroupVisible=e},expression:"NewLabelgroupVisible"}},[e("NewLabelgroup",{attrs:{tagDetail:t.tagDetail},on:{cancle:function(e){t.NewLabelgroupVisible=!1},serviceOk:t.serviceOkNewLabelgroup}})],1),e("a-modal",{attrs:{footer:null,"confirm-loading":t.confirmLoading,width:"599px",destroyOnClose:""},model:{value:t.TagesCustomerVisible,callback:function(e){t.TagesCustomerVisible=e},expression:"TagesCustomerVisible"}},[e("TagesCustomer",{attrs:{formData:t.formData,selectIDList:t.TagesCustomerSelectIDList},on:{serviceOk:t.TagesCustomerServiceOk,addListData:t.addListData}})],1)],1)}),l=[],c=(a("c740"),a("a434"),a("159b"),function(){var t=this,e=t._self._c;return e("div",[e("a-table",{attrs:{"data-source":t.dataSource,columns:t.columns,pagination:!1},scopedSlots:t._u([{key:"address",fn:function(a,i){return[e("a-button",{staticStyle:{margin:"0 4px 4px 0"},on:{click:function(e){return t.addToData(i)}}},[e("a-icon",{attrs:{type:"plus"}}),t._v("添加")],1),t._l(i.address,(function(a,s){return[e("a-tag",{key:s,staticStyle:{padding:"4px 10px","margin-bottom":"4px"}},[t._v(" "+t._s(a.value)),e("a-icon",{attrs:{type:"close"},on:{click:function(){return t.handleClose(i,a.key)}}})],1)]}))]}},{key:"age",fn:function(a,i){return[e("a-input-number",{staticStyle:{width:"110px"},attrs:{placeholder:"请输入人数",min:1,defaultValue:i.age,disabled:t.stateType},on:{blur:function(e){return t.onBlur(e,i)}}})]}},{key:"operation",fn:function(a,i){return[1===i.id?e("span",[t._v("-")]):e("span",[t.dataSource.length?e("a-popconfirm",{attrs:{title:"确定要删除吗?",disabled:t.stateType},on:{confirm:function(){return t.onDelete(i.key)}}},[e("a-button",{attrs:{type:"link",disabled:t.stateType}},[t._v("删除")])],1):t._e()],1)]}}])}),e("a-button",{directives:[{name:"show",rawName:"v-show",value:t.count<5,expression:"count < 5"}],staticClass:"editable-add-btn",staticStyle:{color:"#1990ff"},attrs:{disabled:t.stateType},on:{click:t.handleAdd}},[e("a-icon",{attrs:{type:"plus-circle"}}),t._v("添加任务 ")],1)],1)}),u=[],d=a("2909"),p=(a("99af"),{data:function(){return{tagDetail:{},visible:!1,keyID:0,dataSource:this.dataSourceList,count:2,columns:[{title:"任务阶梯",dataIndex:"name",scopedSlots:{customRender:"name"},width:140},{title:"任务目标人数",dataIndex:"age",scopedSlots:{customRender:"age"},width:120},{title:"任务达成标签",dataIndex:"address",scopedSlots:{customRender:"address"},width:400},{title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"},width:120}]}},props:{dataSourceList:{type:Array,default:function(){return[]}},stateType:{type:Boolean,default:!1}},watch:{dataSourceList:function(){this.dataSource=this.dataSourceList}},methods:{addToData:function(t){this.$emit("addToData",t)},handleClose:function(t,e){var a=t.key;this.dataSource.forEach((function(t){t.key===a&&(t.address=t.address.filter((function(t){return t.key!==e})))})),this.$emit("funcData",this.dataSource)},onBlur:function(t,e){var a,i=this,s=parseInt(null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.value);if(s){var n=Object(d["a"])(this.dataSource);this.dataSource=n.map((function(t){return t.id===e.id&&(t.age=s),t})),this.dataSource.map((function(t,e){if(0!==e){var a,s=null===(a=i.dataSource[e-1])||void 0===a?void 0:a.age;s>=t.age&&i.$message.warning("阶梯任务目标人数必须大于前一级阶梯任务目标人数")}return t})),this.$emit("funcData",this.dataSource)}},onDelete:function(t){var e=Object(d["a"])(this.dataSource),a=e.filter((function(e){return e.key!==t}));this.dataSource=a.map((function(t,e){var a=e+1;return t.id=a,t.name="".concat(a,"级阶梯任务"),t})),this.count=this.dataSource.length,this.$emit("funcData",this.dataSource)},handleAdd:function(){var t=this.dataSource,e=this.dataSource.length+1;this.count=e,this.keyID++;var a={key:this.keyID,name:"".concat(e,"级阶梯任务"),age:"",address:[],id:e};this.dataSource=[].concat(Object(d["a"])(t),[a])}}}),m=p,f=(a("b3f7"),a("2877")),h=Object(f["a"])(m,c,u,!1,null,null,null),g=h.exports,v=a("1eb1"),b=function(){var t=this,e=t._self._c;return e("div",[e("a-button",{staticClass:"add-tag-button",attrs:{size:"small"},on:{click:t.showInput}},[e("a-icon",{attrs:{type:"plus"}}),t._v("添加")],1),t.inputVisible?e("a-input",{ref:"input",style:{width:"120px"},attrs:{type:"text",size:"small",inputVisible:"false"},on:{blur:t.handleInputConfirm,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputConfirm.apply(null,arguments)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):t._e(),t._l(t.tagslist.tags,(function(a){return[e("a-tag",{key:a.tagId,class:[!0===a.tf?"active":"tagkeyword"],on:{click:function(e){return t.selectPD(a)}}},[t._v(" "+t._s(a.tagName)+" ")])]}))],2)},A=[],x=(a("498a"),a("caad"),a("2532"),a("7183")),C={data:function(){return{inputVisible:!1,inputValue:"",index:"",selectList:[]}},props:{tagslist:{type:Object,default:function(){}},selectIDList:{type:Object,default:function(){}}},created:function(){this.selectedData()},watch:{selectIDList:function(){this.selectedData()}},methods:{selectedData:function(){var t=this;this.tagslist.tags=this.tagslist.tags.map((function(e){return t.selectIDList[e.tagId]?e.tf=!0:e.tf=!1,e}))},selectPD:function(t){var e=this,a=t.tagId,i=this.selectIDList[a];i?delete this.selectIDList[a]:this.selectIDList[a]=t.tagName,this.tagslist.tags=this.tagslist.tags.map((function(t){return e.selectIDList[t.tagId]?t.tf=!0:t.tf=!1,t})),this.$emit("componentsData",this.selectIDList)},showInput:function(){this.inputVisible=!0,this.$nextTick((function(){this.$refs.input.focus()}))},cancle:function(){this.inputValue="",this.inputVisible=!1},handleInputConfirm:function(){var t=this,e=this.inputValue.trim();if(e){var a=this.tagslist.tags,i={tagName:e},s=a.map((function(t){return t.tagName}));if(s.includes(i.tagName))this.$message.warning("存在重复标签");else{var n=this.getAddParams(e);Object(x["a"])(n).then((function(){t.$message.success("添加标签成功"),e&&(a=[].concat(Object(d["a"])(a),[i])),t.tagslist.tags=a,t.cancle()})).catch((function(e){t.$message.error("标签添加失败")}))}}else this.inputValue=""},getAddParams:function(t){var e={wxGroupId:this.tagslist.wxGroupId,tagGroupName:this.tagslist.groupName,scope:this.tagslist.depScope?1:0,addOrEditTags:[{tagName:t}],departments:[]};return e}}},w=C,y=(a("da08"),Object(f["a"])(w,b,A,!1,null,"d289366c",null)),D=y.exports,I=a("c758"),L=function(){var t=this,e=t._self._c;return e("div",[e("h2",{staticStyle:{"font-size":"17px","margin-bottom":"24px","margin-top":"2px","text-align":"center","font-weight":"600"}},[t._v(" 选择标签 ")]),e("section",{staticClass:"user-tag-panel"},[e("a-list",{attrs:{"data-source":t.DataGroupList,split:!1},scopedSlots:t._u([{key:"renderItem",fn:function(a){return e("a-list-item",{},[e("div",{staticClass:"center col-1"},[t._v(" "+t._s(a.groupName)+"： "),e("a-list-item",[e("TagComponents",{attrs:{tagslist:a,selectIDList:t.selectIDList},on:{componentsData:t.componentsData}})],1)],1)])}}])})],1),e("section",{staticClass:"customer-tag-section"},[e("a-row",{staticClass:"tag-manage-header",attrs:{type:"flex",justify:"space-between"}},[e("a-button",{staticClass:"add-member",staticStyle:{padding:"0"},attrs:{type:"link",icon:"plus"},on:{click:t.addGroupTag}},[t._v("添加标签组")]),e("div",[e("a-button",{staticStyle:{"margin-right":"8px"},on:{click:t.clear}},[t._v("取消")]),e("a-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1)],1),e("a-modal",{attrs:{footer:null,"confirm-loading":t.confirmLoading,width:"599px",destroyOnClose:""},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[e("NewLabelgroup",{attrs:{tagDetail:t.tagDetail},on:{cancle:function(e){t.visible=!1},serviceOk:t.serviceOk}})],1)],1)},k=[],T=function(){var t=this,e=t._self._c;return e("div",[e("a-col",[e("a-tree-select",{staticStyle:{width:"192px"},attrs:{"dropdown-style":{maxHeight:"300px",overflow:"auto"},"tree-data":t.treeData,"tree-default-expand-all":"",allowClear:t.allowClear},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)},S=[],_={data:function(){return{value:"全部部门",allowClear:!1}},watch:{value:function(t){this.$emit("selectDepartment",t),void 0===t?this.value="全部部门":this.allowClear="全部部门"!==t}},props:["treeData"]},N=_,O=Object(f["a"])(N,T,S,!1,null,null,null),E=O.exports,G=a("1c9c"),j={name:"CustomerTages",data:function(){return{tagDetail:{},wxDepId:"",visible:!1,DataGroupList:[],confirmLoading:!1,visibleEdit:!1,treeData:[]}},components:{NewLabelgroup:I["a"],TagComponents:D,TreeSelect:E},props:{selectIDList:{type:Object,default:function(){}}},created:function(){this.getGroupList(),this.getDepartment()},methods:{componentsData:function(t){this.$emit("addListData",t)},clear:function(){this.$emit("serviceOk")},save:function(){this.$emit("serviceOk")},addGroupTag:function(){this.tagDetail={},this.visible=!0},serviceOk:function(){this.visible=!1,this.getGroupList()},getGroupList:function(){var t=this,e={wxDepId:this.wxDepId};return Object(x["c"])(e).then((function(e){var a,i;t.DataGroupList=(null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.tagGroup)||void 0===i?void 0:i.map((function(t){var e=t.tags.findIndex((function(t){return(null===t||void 0===t?void 0:t.tagCount)>0}));return e>=0&&(t.using=!0),t})))||[]})).catch((function(e){t.$message.error(e)}))},getDepartment:function(){var t=this;Object(G["g"])().then((function(e){var a;(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.length)>0&&(t.treeData=t.getTreeData(e.data))})).catch((function(e){t.$message.error(e)}))},getTreeData:function(t){var e=this;if((null===t||void 0===t?void 0:t.length)>0){var a=t.map((function(t){var a={title:t.name,key:t.wxDepartmentId,value:t.wxDepartmentId,slots:{icon:"smile"},children:void 0};return t.children&&(a.children=e.getTreeData(t.children)),a}));return a}}}},P=j,R=(a("04646"),Object(f["a"])(P,L,k,!1,null,"3df42369",null)),F=R.exports,B=a("6704"),Q={data:function(){return{dateFormatDate:"YYYY-MM-DD hh:mm:ss",tagDetail:{},NewLabelgroupVisible:!1,TagesCustomerVisible:!1,confirmLoading:!1,selectIDList:{},TagesCustomerSelectIDList:{},boxshow:!1,maxLength:15,spareList:[],DataGroupList:[],AddspareVisible:!1,selectList:[],AddTransfeVisible:!1,throughFriendsChecked:!0,customerLabel:!1,customerVisible:!1,validityOfQRCode:1,valueCode:7,newFriendsHelp:!0,deletingEmployeeFriends:!0,deletingEmployeeFriendsDisabled:!1,prizeValue:1,activityName:"",matchType:0,createTime:"",labelCol:{span:2},wrapperCol:{span:10},dataSource:[{key:0,id:1,name:"1级阶梯任务",address:[],age:""}],dataSourceTwo:{}}},created:function(){this.init(),this.getGroupList()},components:{TableAdd:g,AddTransfer:v["a"],TagComponents:D,NewLabelgroup:I["a"],TagesCustomer:F,DatePickerTW:B["a"]},watch:{formData:{handler:function(t,e){this.init()},deep:!0},customerLabel:function(t){this.formData.stafftf=t},activityName:function(t){this.formData.activityName=t},matchType:function(t){this.formData.matchType=t},selectList:function(t){this.formData.selectList=t},spareList:function(t){this.formData.spareList=t},dataSource:{handler:function(t,e){this.formData.taskConf=this.dataSource,this.dataSource.length>1?(this.deletingEmployeeFriends=!1,this.deletingEmployeeFriendsDisabled=!0):this.deletingEmployeeFriendsDisabled=!1},deep:!0},newFriendsHelp:function(){this.formData.newFriendCondition=this.newFriendsHelp},deletingEmployeeFriends:function(){this.formData.deleteFriendCondition=this.deletingEmployeeFriends}},computed:{selectRoleIdListData:function(){var t=this.selectList;switch(this.$route.query.state){case"added":break;case"edit":t=[];break}return t.map((function(t){return t.source.staffId}))},selectCustomerIdList:function(){var t=this.spareList;switch(this.$route.query.state){case"added":break;case"edit":t=[];break}return t.map((function(t){return t.source.staffId}))},isSuccet:function(){var t=!0;switch(this.$route.query.state){case"added":t=!1;break;case"edit":t=!0;break}return t}},props:{formData:{type:Object,default:function(){}}},methods:{init:function(){this.activityName=this.formData.activityName||this.activityName,this.matchType=this.formData.matchType||this.matchType,this.selectList=this.formData.selectList||this.selectList,this.throughFriendsChecked=this.formData.autoAdd||this.throughFriendsChecked,this.customerLabel=this.formData.stafftf||this.customerLabel,this.selectIDList=this.formData.staffData||this.selectIDList,this.createTime=this.formData.createTime||this.createTime,this.validityOfQRCode=this.formData.validityOfQRCode||this.validityOfQRCode,this.valueCode=this.formData.qrCodeTimeNum||this.valueCode,this.dataSource=this.formData.taskConf||this.dataSource,this.newFriendsHelp=this.formData.newFriendCondition||this.newFriendsHelp,this.deletingEmployeeFriends=this.formData.deleteFriendCondition||this.deletingEmployeeFriends,this.spareList=this.formData.spareList||this.spareList},addToData:function(t){this.dataSourceTwo=t;var e={};for(var a in t.address){var i=t.address[a];e[i.key]=i.value}this.TagesCustomerSelectIDList=e,this.TagesCustomerVisible=!0},addListData:function(t){var e=[];for(var a in t){var i=t[a];e.push({key:a,value:i})}this.dataSourceTwo.address=e},TagesCustomerServiceOk:function(){this.TagesCustomerVisible=!1},TableAddData:function(t){this.dataSource=t},serviceOkNewLabelgroup:function(){this.NewLabelgroupVisible=!1,this.getGroupList()},componentsData:function(t){this.formData.staffData=t},getGroupList:function(){var t=this,e={wxDepId:this.wxDepId};return Object(x["c"])(e).then((function(e){var a,i;t.DataGroupList=(null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.tagGroup)||void 0===i?void 0:i.map((function(t){var e=t.tags.findIndex((function(t){return(null===t||void 0===t?void 0:t.tagCount)>0}));return e>=0&&(t.using=!0),t})))||[]})).catch((function(e){t.$message.error(e)}))},createTimeOnChange:function(t){this.formData.createTime=t},throughFriendsOnChange:function(t){var e=t?1:0;this.formData.autoAdd=e},validityOfQRCodeOnChange:function(t){this.formData.validityOfQRCode=t.target.value,this.formData.qrCodeTimeNum=this.valueCode},numberOnChange:function(t){this.formData.validityOfQRCode=2,this.formData.qrCodeTimeNum=t},closeDetel:function(t){this.selectList.splice(t,1),this.selectList.length<=0&&(this.hasAddLimit=!1)},closespareDetel:function(t){this.spareList.splice(t,1)},serviceOk:function(t){this.AddTransfeVisible=!1,t.forEach((function(t){t.value=100})),this.selectList=t},servicespareOk:function(t){this.AddspareVisible=!1,this.spareList=t},onSubmit:function(){this.$refs.ruleForm.validate((function(t){if(!t)return!1;alert("submit!")}))},resetForm:function(){this.$refs.ruleForm.resetFields()},onChangePrize:function(t){this.formData.receiveThePrizeType=t.target.value}}},W=Q,U=(a("c233"),Object(f["a"])(W,o,l,!1,null,"86a99f0e",null)),q=U.exports,Y=function(){var t=this,e=t._self._c;return e("div",[e("h2",{staticStyle:{"font-size":"15px"}},[t._v("裂变海报设置")]),e("a-divider",{staticStyle:{margin:"12px 0"}}),e("a-form-model",{attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[e("a-form-model-item",{attrs:{label:"裂变海报：",required:""}},[e("a-radio-group",{attrs:{name:"radioGroup"},model:{value:t.radioGroup,callback:function(e){t.radioGroup=e},expression:"radioGroup"}},[e("a-radio",{attrs:{value:1}},[t._v(" 上传海报 ")]),e("a-radio",{attrs:{value:2,disabled:""}},[t._v(" 个人名片 ")])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.radioGroup,expression:"radioGroup === 1"}],staticClass:"tab-content"},[e("div",{staticClass:"poster-preview"},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.imageUrl,expression:"imageUrl"}],staticClass:"bg",attrs:{src:t.imageUrl}}),e("div",{staticClass:"user-info-box"},[e("a-avatar",{directives:[{name:"show",rawName:"v-show",value:t.userProfile,expression:"userProfile"}],staticStyle:{"margin-right":"6px"},attrs:{size:25,src:"/imgs/user.jpg"}}),e("span",{staticStyle:{"font-size":"12px","line-height":"0"}},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.userNickname,expression:"userNickname"}],style:{color:t.color}},[t._v("用户昵称")])])],1),t.imageUrl?t._e():e("a-dropdown",{staticStyle:{position:"absolute",top:"50%",left:"50%","-webkit-transform":"translateX(-50%) translateY(-50%)",transform:"translateX(-50%) translateY(-50%)"}},[e("a-menu",{attrs:{slot:"overlay"},on:{click:t.handleMenuClick},slot:"overlay"},[e("a-menu-item",{key:"1"},[e("UploadImages",{on:{imageUrlData:t.imageUrlData,input:t.uploadFile}},[e("a-button",{staticStyle:{color:"rgba(0, 0, 0, 0.65)"},attrs:{type:"link"}},[t._v("上传海报")])],1)],1),e("a-menu-item",{key:"2",on:{click:t.handleOkVisibleFun}},[t._v("从素材库选择")])],1),e("a-button",[t._v(" 添加海报 "),e("a-icon",{attrs:{type:"down"}})],1)],1),e("div",{directives:[{name:"drag",rawName:"v-drag",value:t.dragSetData,expression:"dragSetData"}],ref:"imageBox",staticClass:"image-scale-box",style:{top:t.topY,left:t.leftX}},[e("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:"/imgs/qrCode.png"}})])],1),e("a-form",{staticStyle:{"padding-left":"35px"}},[e("a-form-item",{attrs:{label:"海报设置："}},[e("span",{staticStyle:{"margin-right":"22px"}},[t._v(" 用户头像"),e("a-switch",{staticStyle:{"margin-left":"8px"},attrs:{size:"small"},model:{value:t.userProfile,callback:function(e){t.userProfile=e},expression:"userProfile"}})],1),e("span",[t._v("用户昵称"),e("a-switch",{staticStyle:{"margin-left":"8px"},attrs:{size:"small"},model:{value:t.userNickname,callback:function(e){t.userNickname=e},expression:"userNickname"}})],1),e("div",{staticStyle:{"align-items":"center",display:"flex"}},[t._v(" 昵称颜色："),e("input",{directives:[{name:"model",rawName:"v-model",value:t.color,expression:"color"}],staticStyle:{width:"26px",height:"26px",border:"0",padding:"0"},attrs:{type:"color"},domProps:{value:t.color},on:{input:function(e){e.target.composing||(t.color=e.target.value)}}})])]),e("a-dropdown",[e("a-menu",{attrs:{slot:"overlay"},on:{click:t.handleMenuClick},slot:"overlay"},[e("a-menu-item",{key:"1"},[e("UploadImages",{on:{imageUrlData:t.imageUrlData,input:t.uploadFile}},[e("a-button",{staticStyle:{color:"rgba(0, 0, 0, 0.65)"},attrs:{type:"link"}},[t._v("上传海报")])],1)],1),e("a-menu-item",{key:"2",on:{click:t.handleOkVisibleFun}},[t._v("从素材库选择")])],1),e("a-button",[t._v(" 添加海报 "),e("a-icon",{attrs:{type:"down"}})],1)],1),e("div",{staticClass:"tips"},[e("p",[t._v("裂变海报设计须知：")]),e("p",[t._v("（1）尺寸：720px*1280px，分辨率72")]),e("p",[t._v("（2）[用户头像] [用户昵称] [裂变带参二维码] 这三个元素需要空出")]),e("p",[t._v("（3）裂变海报其他部分皆可自定义设计")]),e("p",[t._v("（4）裂变海报大小不超过5M")])])],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.radioGroup,expression:"radioGroup === 2"}],staticClass:"tab-content"},[e("div",{staticClass:"poster-preview"},[e("div",{staticClass:"user-info-box"},[e("span",{staticStyle:{"margin-right":"6px",width:"38px",height:"38px"}},[e("img",{attrs:{src:"/imgs/company-weixin.png"}})]),e("span",{staticStyle:{color:"#000000","font-size":"12px"}},[t._v("用户昵称")])]),e("div",[e("div",{staticClass:"qr-box"},[e("img",{staticStyle:{width:"100%",height:"100%",margin:"16px auto 0"},attrs:{src:"/imgs/qr-preview.png"}}),e("div",{staticClass:"logo"},[e("img",{attrs:{src:"/imgs/company-weixin.png"}})])]),e("p",{staticClass:"pinfo"},[t._v("扫一扫上面的二维码图案"),e("br"),t._v("加我企业微信")])]),e("p",{staticClass:"pinfo"},[t._v("* 此二维码只是样式预览效果，请勿直接使用")])]),e("a-form",{staticStyle:{"padding-left":"35px"}},[e("a-form-item",{attrs:{label:"海报设置："}},[e("span",{staticStyle:{"margin-right":"22px"}},[t._v("企业形象名称"),e("a-switch",{staticStyle:{"margin-left":"8px"},attrs:{size:"small"}})],1),e("br"),e("a-input",{staticStyle:{width:"200px"},attrs:{maxlength:"6",placeholder:"请输入企业形象名称"}}),e("br"),e("span",[t._v("企业名称"),e("a-switch",{staticStyle:{"margin-left":"8px"},attrs:{size:"small"}})],1),e("br"),e("a-input",{staticStyle:{width:"200px"},attrs:{maxlength:"6",placeholder:"请输入企业形象名称"}})],1),e("a-form-item",{attrs:{label:"上传企业loge"}})],1)],1)],1),e("a-form-model-item",{attrs:{label:"海报转发话术："}},[e("a-switch",{attrs:{size:"small"},model:{value:t.forwarding,callback:function(e){t.forwarding=e},expression:"forwarding"}}),e("span",[t._v(" 设置海报转发话术，开启后客户可直接复制文案分享")]),e("a-textarea",{directives:[{name:"show",rawName:"v-show",value:t.forwarding,expression:"forwarding"}],attrs:{placeholder:"请输入海报转发话术",rows:7,maxLength:t.maxLength},model:{value:t.forwardingText,callback:function(e){t.forwardingText=e},expression:"forwardingText"}})],1)],1),e("h2",{staticStyle:{"font-size":"15px"}},[t._v("欢迎语设置")]),e("a-divider",{staticStyle:{margin:"12px 0"}}),e("NewWelcome",{attrs:{formData:t.formData}}),e("a-modal",{attrs:{visible:t.handleOkVisible,footer:null,width:"840px",destroyOnClose:""},on:{cancel:function(e){t.handleOkVisible=!1}}},[e("EnterpriseModel",{attrs:{spinningTf:t.spinning,ListImagesData:t.pageList},on:{handleOk:t.handleOk,handleCancel:t.handleCancel,uploadData:t.getMaterialList,onSearchName:t.onSearchName}})],1)],1)},V=[],M=function(){var t=this,e=t._self._c;return e("div",{staticClass:"height100"},[e("section",{staticClass:"section background-white"},[e("a-form",{staticClass:"model",attrs:{"label-col":{span:2},"wrapper-col":{span:12}}},[e("a-form-item",{attrs:{label:t.labelName,required:""}},[e("InputHtml",{model:{value:t.innerText,callback:function(e){t.innerText=e},expression:"innerText"}})],1),e("h2",{staticStyle:{"font-size":"15px"}},[t._v("链接设置")]),e("a-divider",{staticStyle:{margin:"12px 0"}}),e("a-form-item",{attrs:{label:"标题",required:""}},[e("a-input",{attrs:{placeholder:"标题"},model:{value:t.inputTitle,callback:function(e){t.inputTitle=e},expression:"inputTitle"}})],1),e("a-form-item",{attrs:{label:"摘要",required:""}},[e("a-input",{attrs:{placeholder:"摘要"},model:{value:t.inputAbstract,callback:function(e){t.inputAbstract=e},expression:"inputAbstract"}})],1),e("a-form-item",{attrs:{label:"封面"}},[e("div",{staticStyle:{display:"flex"}},[e("span",{staticClass:"box-img"},[e("a-avatar",{staticStyle:{left:"2px",top:"2px"},attrs:{src:t.defaultImage,size:100,shape:"square"}}),e("span",{staticClass:"box-close-icon"},["/imgs/default-cover.png"!==t.defaultImage?e("a-icon",{attrs:{type:"close-circle",theme:"filled"},on:{click:t.iconClose}}):t._e()],1)],1),e("UploadImages",{on:{imageUrlData:t.imageUrlData,input:t.uploadFile}},[e("a-button",{staticStyle:{position:"relative","margin-top":"80px"},attrs:{type:"link",icon:"sync"}},[t._v(" 重新上传 ")])],1)],1)])],1),e("PhoneModelTwo",{attrs:{textList:t.textList}})],1)])},H=[],z=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"reason-box"},[e("div",{staticClass:"reason-tilte",on:{click:t.insertNickname}},[t._v("[插入客户昵称]")]),e("Contenteditable",{ref:"contenteditable",attrs:{maxLength:t.maxLength,stateType:!1},model:{value:t.innerText,callback:function(e){t.innerText=e},expression:"innerText"}}),e("div",{staticClass:"reason-tip"},[t._v(t._s(t.contentOne.length)+"/"+t._s(t.maxLength))])],1)])},K=[],$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"textarea",class:t.classNmae,attrs:{contenteditable:"true",maxLength:"maxLength","data-form-type":"reason","data-placeholder":"请输入回复框的内容"},domProps:{innerHTML:t._s(t.innerText)},on:{blur:t.textareaBlur,input:t.changeText}})},X=[],Z=(a("a9e3"),a("466d"),{name:"Contenteditable",props:{classNmae:{type:String,default:"link-textarea"},value:{type:String,default:""},maxLength:{type:[String,Number],default:""},stateType:{type:[Boolean],default:!0}},data:function(){return{innerText:"",isLocked:!0,sel:null,range:null,textareaElement:"",num:0}},watch:{value:{handler:function(){this.stateType||this.isLocked&&this.value&&(this.innerText=this.value,this.isLocked=!1)},immediate:!0},classNmae:{handler:function(){this.textareaElement=document.querySelector(this.classNmae),this.textareaElement&&(this.textareaElement.focus(),this.textareaElement.blur())},immediate:!0}},methods:{keepLastIndex:function(t){t&&this.$nextTick((function(){if(window.getSelection){t.focus();var e=window.getSelection();e.selectAllChildren(t),e.collapseToEnd()}else if(document.selection){e=document.selection.createRange();e.moveToElementText(t),e.collapse(!1),e.select()}}))},textareaBlur:function(){this.sel=window.getSelection(),this.range=this.sel.getRangeAt(0),this.range.deleteContents()},changeText:function(t){var e=this;this.controlMaxlength(t.target.innerHTML,t),this.$nextTick((function(){e.$emit("input",e.checkInnerHtml(e.$el.innerHTML))}))},controlMaxlength:function(t,e){(null===t||void 0===t?void 0:t.length)>this.maxLength&&(this.innerText=t.substring(0,this.maxLength-this.num),this.num++,this.num>6&&(this.num=0)),this.keepLastIndex(this.textareaElement)},checkInnerHtml:function(t){var e=/<span[^>]*>([\s\S]*?)<\/span>/i,a=t.match(e),i=t;return a&&"客户昵称"!==a[1]&&(i=t.replace(/<span class="nick-name">/g,"").replace(/<\/span>/g,""),this.innerText=i,this.keepLastIndex(this.textareaElement)),i},insertHtmlAtCaret:function(t){if(window.getSelection){if(this.sel.getRangeAt&&this.sel.rangeCount){var e=document.createDocumentFragment(),a=e.appendChild(t),i=document.createElement("div");i.innerHTML="&#8203",a=e.appendChild(i.firstChild),this.range.insertNode(e),a&&(this.range=this.range.cloneRange(),this.range.setStartAfter(a),this.range.collapse(!0),this.sel.removeAllRanges(),this.sel.addRange(this.range),this.$emit("input",this.$el.innerHTML))}}else document.selection&&"Control"!=document.selection.type&&(document.selection.createRange().pasteHTML(html),this.$emit("input",this.$el.innerHTML))}}}),J=Z,tt=(a("59c3"),Object(f["a"])(J,$,X,!1,null,"97084fee",null)),et=tt.exports,at={name:"NewGroupWelcome",data:function(){return{attachments:[],maxLength:4e3,innerText:this.getDetailPage(this.innerTextStr)||""}},components:{Contenteditable:et},model:{prop:"innerTextStr",event:"change"},props:{innerTextStr:{type:String,default:""}},watch:{innerText:function(t){this.$emit("change",t)}},computed:{contentOne:function(){var t;return(null===(t=this.innerText)||void 0===t?void 0:t.replace(/<span class="nick-name">客户昵称<\/span>/g,"#"))||""},textList:function(){return this.innerText||this.attachments.length>0?[this.innerText.replace(/<span class="nick-name">/g," ").replace(/<\/span>/g," ")].concat(Object(d["a"])(this.attachments)):[]}},methods:{getParams:function(){this.innerText.replace(/<span class="nick-name">/g,"#").replace(/<\/span>/g,"#")},getDetailPage:function(t){return null===t||void 0===t?void 0:t.replace(/#客户昵称#​*/g,'<span class="nick-name">客户昵称</span>')},insertNickname:function(){var t=document.createElement("span");t.className="nick-name",t.innerHTML="客户昵称",this.$refs.contenteditable.insertHtmlAtCaret(t)}}},it=at,st=(a("6a2f"),Object(f["a"])(it,z,K,!1,null,"e237b5ac",null)),nt=st.exports,rt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"phone-model"},[e("img",{staticClass:"bg",attrs:{src:"/imgs/chatBg.png"}}),e("div",{staticClass:"contant"},[e("p",{staticClass:"time"},[t._v(t._s(t.time))]),t.textList.length>0?e("ul",{staticClass:"contant-ul"},t._l(t.textList,(function(a,i){return e("li",{key:i,staticClass:"contant-list"},[e("img",{attrs:{src:"/icons/user.png"}}),e("div",{staticClass:"contant-title"},[e("p",[t._v(t._s(a.title))]),e("div",{staticClass:"contant-contant"},[a.content?e("span",[t._v(t._s(a.content))]):t._e(),a.imageurl?e("img",{attrs:{src:a.imageurl}}):t._e()])])])})),0):t._e()])])},ot=[],lt={name:"PhoneModel",data:function(){return{time:this.$moment().format("HH:mm")}},props:{textList:{type:[Array],default:function(){return[]}}}},ct=lt,ut=(a("f5f4"),Object(f["a"])(ct,rt,ot,!1,null,"0d9d4ada",null)),dt=ut.exports,pt=function(){var t=this,e=t._self._c;return e("div",[e("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar","list-type":"picture","show-upload-list":!1,"before-upload":t.beforeUpload,accept:t.accept,customRequest:t.customRequest},on:{change:t.handleChange}},[t._t("default",(function(){return[e("a-button",{staticStyle:{position:"relative","margin-top":"80px"},attrs:{type:"link",icon:"sync"}},[t._v(" 重新上传 ")])]}))],2)],1)},mt=[],ft={data:function(){return{loading:!1,accept:".bmp,.jpg,.jpeg,.png,.tif,.gif,.pcx,.tga,.exif,.fpx,.svg,.psd,.cdr,.pcd,.dxf,.ufo,.eps,.ai,.raw,.WMF,.webp",imageUrl:"",iconStart:0,uploadFile:""}},created:function(){this.imageUrl=this.defaultImage},watch:{imageUrl:function(){this.$emit("imageUrlData",this.imageUrl)}},props:{defaultImage:{type:String,default:""}},methods:{customRequest:function(t){this.uploadFile=t.file,t.onSuccess()},beforeUpload:function(t){var e=t.size/1024/1024<5;return e||this.$message.error("文件不能大于5MB!"),e},getBase64:function(t,e){var a=new FileReader;a.addEventListener("load",(function(){return e(a.result)})),a.readAsDataURL(t)},handleChange:function(t){var e,a=this;"uploading"===t.file.status&&(this.getBase64(t.file.originFileObj,(function(t){a.imageUrl=t})),this.fileList=[t.fileList[t.fileList.length-1]],this.fileList[0].status="done"),"removed"===t.file.status&&(this.fileList=[],this.imageUrl=""),this.$emit("input",null===t||void 0===t||null===(e=t.fileList[t.fileList.length-1])||void 0===e?void 0:e.originFileObj)}}},ht=ft,gt=(a("a02b"),Object(f["a"])(ht,pt,mt,!1,null,"98262122",null)),vt=gt.exports,bt=(a("ace4"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file",a=t.split(","),i=a[0].match(/:(.*?);/)[1],s=i.split("/")[1],n=atob(a[1]),r=n.length,o=new Uint8Array(r);while(r--)o[r]=n.charCodeAt(r);return new File([o],"".concat(e,".").concat(s),{type:i})}),At={name:"NewWelcome",components:{AddTransfer:v["a"],InputHtml:nt,PhoneModelTwo:dt,UploadImages:vt},data:function(){return{defaultImage:"/imgs/default-cover.png",inputTitle:"点击这里，完成任务领取奖品吧👇",inputAbstract:"快来参加活动吧",form:this.$form.createForm(this,{name:"coordinated"}),visibleUsePerson:!1,maxLength:4e3,usePersionList:[{title:"全部账号",icon:"user",default:!0}],defaultUsePerson:function(){return{title:"全部账号",icon:"user",default:!0}},innerText:"你好，我们正在进行xxx活动，只要邀请x位好友添加我的微信就可以获得奖品\n\n参与流程：\n①点击下面链接，生成专属海报\n②进入链接后长按保存海报，将海报发给好友或朋友圈\n③邀请x位好友扫码添加，即可成功获得奖品\n④进入链接点击查看进度，完成任务后点击「领取奖励」即可领取哦\n\n注意事项：请不要直接转发活动链接给好友，是无法成功记录数据的哦~"}},props:{defaultImageData:{type:String,default:""},formData:{type:Object,default:function(){}},labelName:{type:String,default:"欢迎语"}},watch:{defaultImageData:function(){this.defaultImage=this.defaultImageData,this.formData.NewWelcomedefaultImage=this.defaultImageData},inputTitle:function(){this.formData.NewWelcomeInputTitle=this.inputTitle},inputAbstract:function(){this.formData.NewWelcomeInputAbstract=this.inputAbstract},innerText:function(){this.formData.NewWelcomeInnerText=this.innerText}},computed:{textList:function(){return this.innerText?[{title:this.innerText.replace(/<span class="nick-name">/g," ").replace(/<\/span>/g," ")},{title:this.inputTitle,content:this.inputAbstract,imageurl:this.defaultImage}]:[]}},created:function(){this.init()},methods:{init:function(){this.formData.NewWelcomeInnerText=this.innerText=this.formData.NewWelcomeInnerText||this.innerText,this.formData.NewWelcomeInputTitle=this.inputTitle=this.formData.NewWelcomeInputTitle||this.inputTitle,this.formData.NewWelcomeInputAbstract=this.inputAbstract=this.formData.NewWelcomeInputAbstract||this.inputAbstract,this.defaultImage=this.formData.NewWelcomedefaultImage||this.defaultImage},uploadFile:function(t){this.formData.NewWelcomeImageFile=t},imageUrlData:function(t){this.defaultImage=t,this.formData.NewWelcomedefaultImage=t},iconClose:function(){this.defaultImage="/imgs/default-cover.png";var t="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABYAFgDASIAAhEBAxEB/8QAGgABAAMBAQEAAAAAAAAAAAAAAAQFBwYDAv/EACwQAAEEAQIFAgYDAQAAAAAAAAEAAgMEBQYREiExQVEHgRMWIkJhcRRicpH/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A3/TuDx+ncPWxmIrRVqldgY1sbQN9h1PknqSeZKskRAREQEREBERAREQVuosHj9RYezjMvWis1LDCxzZGg7bjqPBHUEcwUVkiAiIgIiICIsw1pqu5mcl8t6RJkneeGezGdgB3Ad2A7u9gg7q1qPC1LJr2crRimB2LHTNBB/PPl7qzikZNG2SF7ZI3DdrmncEfgrP8b6VYSKg2O+6xZtEfXK2QsAP9R4/e6qdJm3ozX3y3LYdPjbjeOHi+0kEh23Y7gtO3Xqg1hERAREQEREBEWbar1lkL2cjwOjPruNftNYDQ5o26gbgjYdz7BBI9V85drso4PEktuZJ3AXNOxDSQ0AHtuT18Ar5xrsF6aso0bglfcvc5bgYOEbEDmSdw0b9Bv5Kieq1G9Tnwuo4GiaTHuaJ+EbDcODgf8k7j3Cm+oVqhnfTM5R8ZZxBktf4g2e15cAQPbf25oO3yORqY7HyXbk7I6sbeIvJ5bdtvO/ZZjpT+TrP1AdqN8LocZSHBDxfcQCGt/f1Fx8dFc4bT8WrPTvBQZaWxH8IB4MbgCQC5rd9wft2Xb4+nXx9OKpSibDXibwsY3oAgkIiICIiAiIgqdW2Jqml8rYrEiaOtI5hHVp4Tz9uq5T0VoVYdLG7E1ptWJXCV/cBp2Df1391300TJoXxStD43tLXNPQg8iFlXy9qrRd+w/SwZfxkzuL4L9iW+N27g79t2nn3QadlL1XHUJrWQlZFWjbu9zum3jbvv4WURR5D1NzLXOa+npqo/ZrRy4vx4LiPZoP8A2T8u6r1pehdqkihjIncXwI9gXfpu55/l3TstQx9Kvj6cVSlE2GvE3hYxo5AIPStBHWrxQQMDIYmhjGDo1oGwC9ERAREQEREBERAREQEREBERAREQEREFbp3OY/UWHrZPEWYrNSwwPa6NwO246HwR0IPMFWSIgIiICIiAiIgIiIK3UWcx+ncPZyeXsxVqldhe50jgN9h0HknoAOZKIiD/2Q==";this.formData.NewWelcomedefaultImage=t;var e=bt(t);this.formData.NewWelcomeImageFile=e}}},xt=At,Ct=(a("8b20"),Object(f["a"])(xt,M,H,!1,null,"24a7b612",null)),wt=Ct.exports,yt=function(){var t=this,e=t._self._c;return e("div",[e("h2",{staticStyle:{"align-items":"center","justify-content":"center",display:"flex","font-size":"17px","font-weight":"600"}},[t._v(" 选择素材 ")]),e("a-row",{attrs:{type:"flex",justify:"space-between"}},[e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("div",{staticClass:"border-left"}),e("span",{staticClass:"total-txt"},[t._v("共"+t._s(t.ListImages.length)+"个素材")]),e("a-divider",{attrs:{type:"vertical"}}),e("span",{staticStyle:{cursor:"pointer"},on:{click:t.uploadData}},[e("a-icon",{attrs:{type:"sync"}}),t._v(" 更新数据 ")],1)],1),e("a-input-search",{staticStyle:{width:"200px"},attrs:{placeholder:"搜索海报标题",allowClear:""},on:{search:t.onSearchName},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}})],1),e("section",{staticStyle:{height:"510px",overflow:"auto"}},[e("a-row",{attrs:{type:"flex"}},t._l(t.ListImages,(function(a,i){return e("a-col",{key:i,staticClass:"card-wrap",staticStyle:{padding:"8px"}},[e("a-card",{class:t.activeFun===i?"active":"poster-item",attrs:{hoverable:""}},[e("div",{staticClass:"cover",attrs:{slot:"cover"},slot:"cover"},[e("div",{staticClass:"cover-img"},[e("img",{staticClass:"posters",attrs:{src:a.url},on:{click:function(e){return t.imgClick(a,i)}}})])]),e("div",{staticClass:"action-button",attrs:{slot:"actions"},slot:"actions"},[e("a-tooltip",[e("p",[t._v(t._s(a.title))])])],1)])],1)})),1),t.spinning?e("div",{staticClass:"data-loading-box"},[e("a-spin")],1):e("div",{staticClass:"data-loading-box"},[t._v("没有更多了~")])],1),e("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[e("a-button",{staticStyle:{"margin-right":"10px"},on:{click:t.handleCancel}},[t._v("取消")]),e("a-button",{attrs:{type:"primary"},on:{click:t.handleOk}},[t._v("确定")])],1)],1)},Dt=[],It={data:function(){return{spinning:!1,activeFun:"",searchName:"",visible:!1,ListImages:[],imageUrl:""}},props:{ListImagesData:{type:Array,default:function(){return[]}},spinningTf:{type:[Boolean],default:!1}},watch:{ListImagesData:function(){this.ListImages=this.ListImagesData},spinningTf:function(){this.spinning=this.spinningTf}},methods:{onSearchName:function(){this.$emit("onSearchName",this.searchName)},uploadData:function(){this.$emit("uploadData")},imgClick:function(t,e){this.activeFun=e,this.imageUrl=t.url},handleOk:function(){this.imageUrl?this.$emit("handleOk",this.imageUrl):this.$message.warning("请选择一个素材")},handleCancel:function(){this.$emit("handleCancel")}}},Lt=It,kt=(a("b442"),Object(f["a"])(Lt,yt,Dt,!1,null,"6aeed86c",null)),Tt=kt.exports,St=a("cf5f"),_t={data:function(){return{forwarding:!0,forwardingText:"",handleOkVisible:!1,imageUrl:"",color:"#000000",maxLength:200,spareList:[],AddspareVisible:!1,selectList:[],AddTransfeVisible:!1,customerVisible:!1,radioGroup:1,valueCode:7,prizeValue:1,activityName:"",matching:"",selectDate:"",userProfile:!0,userNickname:!0,leftX:"152px",topY:"336px",labelCol:{span:2},wrapperCol:{span:18},urlCode:"",qrCode:"",pagination:{current:1,pageSize:12,total:0},searchName:"",spinning:!1,selectMaterial:"2",pageList:[]}},directives:{drag:function(t,e){t.onmousedown=function(a){var i=a.pageX-t.offsetLeft,s=a.pageY-t.offsetTop;document.onmousemove=function(a){a.pageX-i<=0?t.style.left="0px":a.pageX-i>=162?t.style.left="162px":t.style.left=a.pageX-i+"px",a.pageY-s<=0?t.style.top="0px":a.pageY-s>=336?t.style.top="336px":t.style.top=a.pageY-s+"px",e.value(t.style.left,t.style.top)},document.onmouseup=function(){document.onmousemove=document.onmouseup=null}}}},watch:{formData:{handler:function(t,e){this.init()}},color:function(){this.formData.CreateWelcomecolor=this.color},forwarding:function(){this.formData.CreateWelcomeforwarding=this.forwarding},forwardingText:function(){this.formData.CreateWelcomeforwardingText=this.forwardingText},userProfile:function(){this.formData.CreateWelcomeuserProfile=this.userProfile},userNickname:function(){this.formData.CreateWelcomeuserNickname=this.userNickname}},props:{formData:{type:Object,default:function(){}}},components:{AddTransfer:v["a"],NewWelcome:wt,UploadImages:vt,EnterpriseModel:Tt},computed:{selectRoleIdList:function(){return this.selectList.map((function(t){return t.source.staffId}))},selectCustomerIdList:function(){return this.spareList.map((function(t){return t.source.staffId}))},state:function(){return this.$route.query.state}},mounted:function(){},created:function(){this.init()},methods:{init:function(){this.imageUrl=this.formData.CreateWelcomeposterImage||this.imageUrl,this.userProfile=!1!==this.formData.CreateWelcomeuserProfile&&this.userProfile,this.userNickname=!1!==this.formData.CreateWelcomeuserNickname&&this.userNickname,this.color=this.formData.CreateWelcomecolor||this.color,this.forwarding=!1!==this.formData.CreateWelcomeforwarding&&this.forwarding,this.forwardingText=this.formData.CreateWelcomeforwardingText||this.forwardingText,this.leftX=this.formData.CreateWelcomeleftX||this.leftX,this.topY=this.formData.CreateWelcometopY||this.topY},dragSetData:function(t,e){this.formData.CreateWelcomeleftX=t,this.formData.CreateWelcometopY=e},uploadFile:function(t){this.formData.CreateWelcomeposterFile=t,this.formData.CreateWelcomeImageUrl=""},onSearchName:function(t){this.searchName=t,this.getMaterialList()},handleOkVisibleFun:function(){this.handleOkVisible=!0,this.getMaterialList()},getMaterialList:function(){var t=this;this.spinning=!0;var e={currentPage:this.pagination.current,pageSize:this.pagination.pageSize,mtype:this.selectMaterial,title:this.searchName,belongTo:1};Object(St["o"])(e).then((function(e){t.pageList=e.data.list,t.pagination.total=e.data.total})).catch((function(e){t.$message.error(e)})).finally((function(){return t.spinning=!1}))},handleOk:function(t){this.imageUrl=t,this.formData.CreateWelcomeImageUrl=t,this.formData.CreateWelcomeposterImage=t,this.handleOkVisible=!1},handleCancel:function(){this.handleOkVisible=!1},imageUrlData:function(t){this.imageUrl=t,this.formData.CreateWelcomeposterImage=t},handleMenuClick:function(t){},closeDetel:function(t){this.selectList.splice(t,1),this.selectList.length<=0&&(this.hasAddLimit=!1)},closespareDetel:function(t){this.spareList.splice(t,1)},serviceOk:function(t){this.AddTransfeVisible=!1,t.forEach((function(t){t.value=100})),this.selectList=t},servicespareOk:function(t){this.AddspareVisible=!1,this.spareList=t},disabledDate:function(t){return t&&t<this.$moment().subtract(1,"day")},onSubmit:function(){this.$refs.ruleForm.validate((function(t){if(!t)return!1;alert("submit!")}))},resetForm:function(){this.$refs.ruleForm.resetFields()}}},Nt=_t,Ot=(a("2097"),Object(f["a"])(Nt,Y,V,!1,null,"982e1b32",null)),Et=Ot.exports,Gt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"height100"},[e("h2",{staticStyle:{"font-size":"15px"}},[t._v("企微推送")]),e("a-divider",{staticStyle:{margin:"12px 0"}}),e("section",{staticClass:"section background-white"},[e("a-form",{staticClass:"model",attrs:{"label-col":{span:2},"wrapper-col":{span:18}}},[e("a-form-item",{attrs:{label:"给员工推送"}},[e("a-switch",{attrs:{size:"small"},model:{value:t.Employees,callback:function(e){t.Employees=e},expression:"Employees"}}),t._v(" 开启后，若客户完成裂变任务，"+t._s(t.ENTERPRICE_NAME)+"会给所属员工发送通知提醒 ")],1),e("a-form-item",{attrs:{label:"给客户推送"}},[e("a-switch",{attrs:{size:"small"},model:{value:t.Customers,callback:function(e){t.Customers=e},expression:"Customers"}}),t._v(" 客户裂变成功后，给客户发送裂变成功的提醒通知 ")],1),e("div",{staticClass:"tips flex-row justify-start"},[e("p",[t._v("提示：")]),e("div",{staticClass:"flex-col align-left"},[e("p",[t._v("1、本次推送将占用1次「企业群发」机会，每个客户每月只可收到4次企业群发")]),e("p",[t._v("2、如完成任务的客户本月已收次4次群发消息本条邀请将不会成功发送")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.Customers,expression:"Customers"}]},[e("a-form-item",{attrs:{label:"消息1"}},[e("div",{staticClass:"reason-box"},[e("Contenteditable",{ref:"contenteditable",attrs:{maxLength:t.maxLength,stateType:t.stateType},model:{value:t.innerText,callback:function(e){t.innerText=e},expression:"innerText"}}),e("div",{staticClass:"reason-tip"},[t._v(t._s(t.contentOne.length)+"/"+t._s(t.maxLength))])],1)]),e("a-form-item",{attrs:{label:"消息2"}},[e("div",{staticClass:"message-box-content"},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v("选择消息类型")]),e("a-radio-group",{attrs:{name:"radioGroup"},model:{value:t.radioGroup,callback:function(e){t.radioGroup=e},expression:"radioGroup"}},[e("a-radio",{attrs:{value:1}},[t._v(" 图片 ")])],1),e("section",[e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.radioGroup,expression:"radioGroup === 1"}]},[e("UpDateImg",{attrs:{title:t.imgtitle,url:t.imageUrl},on:{input:t.inputImageFile,imageUrlData:t.imageUrlData}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.radioGroup,expression:"radioGroup === 2"}]},[e("a-form-item",[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["url",{rules:[{type:"url",message:"链接地址请以http或https开头"}]}],expression:"[\n                      'url',\n                      {\n                        rules: [\n                          {\n                            type: 'url',\n                            message: '链接地址请以http或https开头'\n                          }\n                        ]\n                      }\n                    ]"}],staticStyle:{width:"300px"},attrs:{placeholder:"链接地址请以http 或https开头"},model:{value:t.httpUrl,callback:function(e){t.httpUrl=e},expression:"httpUrl"}}),e("a-button",{staticStyle:{"margin-left":"12px"},attrs:{type:"primary"}},[t._v("选择互动雷达")])],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:3===t.radioGroup,expression:"radioGroup === 3"}]},[e("a-button",{staticStyle:{width:"102px",height:"102px"},attrs:{type:"dashed"},on:{click:function(e){t.visible=!0}}},[e("a-icon",{attrs:{type:"plus-circle"}}),e("br"),t._v("添加小程序 ")],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:4===t.radioGroup,expression:"radioGroup === 4"}]},[e("a-button",{staticStyle:{width:"102px",height:"102px"},attrs:{type:"dashed"}},[e("a-icon",{attrs:{type:"plus-circle"}}),e("br"),t._v("选择素材 ")],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:5===t.radioGroup,expression:"radioGroup === 5"}]},[e("a-button",{staticStyle:{width:"102px",height:"102px"},attrs:{type:"dashed"}},[e("a-icon",{attrs:{type:"plus-circle"}}),e("br"),t._v("选择活动 ")],1)],1)])],1)])],1)],1),e("PhoneModelTwo",{directives:[{name:"show",rawName:"v-show",value:t.Customers,expression:"Customers"}],attrs:{textList:t.textList}})],1),e("a-modal",{attrs:{visible:t.visible,footer:null,width:"599px"},on:{ok:t.handleOk,cancel:t.handleCancel}},[e("h2",{staticStyle:{"align-items":"center","justify-content":"center",display:"flex","font-size":"17px","font-weight":"600"}},[t._v(" 新建活动 ")]),e("section",{staticStyle:{"max-height":"510px",overflow:"auto"}},[e("div",{staticStyle:{background:"#effaff","font-size":"13px",color:"rgba(0, 0, 0, 0.64)","line-height":"18px",padding:"8px 0 8px 13px","margin-bottom":"16px"}},[e("a-icon",{staticStyle:{color:"#1890ff"},attrs:{type:"bell",theme:"filled"}}),t._v(" 请填写企业微信后台绑定的小程序id和路径，否则会造成发送失败 ")],1),e("a-form",{attrs:{"label-col":{span:4},"wrapper-col":{span:18}}},[e("a-form-item",{attrs:{label:"小程序标题",required:""}},[e("a-input",{attrs:{placeholder:"请输入小程序标题"}})],1),e("a-form-item",{attrs:{label:"小程序appID",required:""}},[e("a-input",{attrs:{placeholder:"请输入小程序appID"}})],1),e("a-form-item",{attrs:{label:"小程序路径",required:""}},[e("a-input",{attrs:{placeholder:"请输入小程序路径"}}),e("span",{staticClass:"span-tip",staticStyle:{color:"rgba(0, 0, 0, 0.45)","font-size":"13px"}},[t._v(" 注意：小程序路径应以html作为后缀 ")])],1),e("a-form-item",{attrs:{label:"小程序封面",required:""}},[e("UpDateImg",{attrs:{title:t.cxtitle}}),e("p",{staticStyle:{color:"rgba(0, 0, 0, 0.45)","font-size":"13px"}},[t._v("建议图片大小在2M以内,建议尺寸：352*282px")])],1)],1)],1),e("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[e("a-button",{staticStyle:{"margin-right":"10px"},on:{click:t.handleCancel}},[t._v("取消")]),e("a-button",{attrs:{type:"primary"},on:{click:t.handleOk}},[t._v("确定")])],1)])],1)},jt=[],Pt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"qrcode-wrap"},[e("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar","list-type":"picture-card",accept:t.accept,"file-list":t.fileList,customRequest:t.customRequest,"before-upload":t.beforeUpload},on:{preview:t.handlePreview,change:t.handleChange}},[e("div",[e("a-icon",{attrs:{type:"plus"}}),e("div",{staticClass:"ant-upload-text"},[t._v(" "+t._s(t.imageUrl?"重新选择":t.titleName)+" ")])],1)]),e("a-modal",{attrs:{visible:t.previewVisible,footer:null},on:{cancel:function(e){t.previewVisible=!1}}},[e("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:t.imageUrl}})])],1)},Rt=[],Ft={name:"UpDateImg",props:["value","url","title"],data:function(){return{accept:".bmp,.jpg,.jpeg,.png,.tif,.gif,.pcx,.tga,.exif,.fpx,.svg,.psd,.cdr,.pcd,.dxf,.ufo,.eps,.ai,.raw,.WMF,.webp",previewVisible:!1,imageUrl:"",titleName:this.title||"上传活码",fileList:[]}},watch:{url:{handler:function(){this.url&&(this.fileList[0]={uid:"-1",name:"image.png",status:"done",url:this.url},this.imageUrl=this.url)},immediate:!0},imageUrl:function(){this.$emit("imageUrlData",this.imageUrl)}},methods:{beforeUpload:function(t){var e=t.size/1024/1024<2;return e||this.$message.error("文件不能大于2MB!"),e},customRequest:function(t){t.onSuccess()},handlePreview:function(t){this.previewVisible=!0},getBase64:function(t,e){var a=new FileReader;a.addEventListener("load",(function(){return e(a.result)})),a.readAsDataURL(t)},handleChange:function(t){var e,a=this;"uploading"===t.file.status&&(this.getBase64(t.file.originFileObj,(function(t){a.imageUrl=t})),this.fileList=[t.fileList[t.fileList.length-1]],this.fileList[0].status="done"),"removed"===t.file.status&&(this.fileList=[],this.imageUrl=""),this.$emit("input",null===t||void 0===t||null===(e=t.fileList[t.fileList.length-1])||void 0===e?void 0:e.originFileObj)}}},Bt=Ft,Qt=(a("6444"),Object(f["a"])(Bt,Pt,Rt,!1,null,"7f813d88",null)),Wt=Qt.exports,Ut={name:"CreateMessage",components:{AddTransfer:v["a"],Contenteditable:et,PhoneModelTwo:dt,UpDateImg:Wt},data:function(){return{stateType:"added"===this.$route.query.state,httpUrl:"",imageUrl:"",Employees:!0,Customers:!0,visible:!1,radioGroup:1,imgtitle:"添加图片",cxtitle:"上传封面",inputTitle:"点击这里，完成任务领取奖品吧👇",inputAbstract:"快来参加活动吧",selectRoleIdList:[],form:this.$form.createForm(this,{name:"coordinated"}),visibleUsePerson:!1,maxLength:4e3,usePersionList:[{title:"全部账号",icon:"user",default:!0}],defaultUsePerson:function(){return{title:"全部账号",icon:"user",default:!0}},innerText:""}},computed:{selectList:function(){var t=this.usePersionList;return this.usePersionList[0].title===this.defaultUsePerson.title&&(t=[]),t},contentOne:function(){return this.innerText.replace(/<span class="nick-name">客户昵称<\/span>/g,"#")},isAddText:function(){return"added"===this.$route.query.state?"新建":"修改"},textList:function(){return this.innerText?[{title:this.innerText.replace(/<span class="nick-name">/g," ").replace(/<\/span>/g," ")}]:[]}},created:function(){this.init()},props:{formData:{type:Object,default:function(){}}},watch:{Employees:function(){this.formData.Employees=this.Employees},Customers:function(){this.formData.CreateMessageCustomers=this.Customers},innerText:function(){this.formData.CreateMessageinnerText=this.innerText},radioGroup:function(){this.formData.CreateMessageradioGroup=this.radioGroup},httpUrl:function(){this.formData.CreateMessageHttpUrl=this.httpUrl},imageUrl:function(){""===this.imageUrl?(this.formData.CreateMessageImageUrl="",this.formData.CreateMessageradioGroup=""):this.formData.CreateMessageradioGroup=this.radioGroup}},methods:{init:function(){this.Employees=!1!==this.formData.Employees&&this.Employees,this.Customers=!1!==this.formData.CreateMessageCustomers&&this.Customers,this.innerText=this.formData.CreateMessageinnerText||this.innerText,this.radioGroup=this.formData.CreateMessageradioGroup||this.radioGroup,this.imageUrl=this.formData.CreateMessageImageUrl||this.imageUrl,this.httpUrl=this.formData.CreateMessageHttpUrl||this.httpUrl},handleOk:function(){this.visible=!1},handleCancel:function(){this.visible=!1},inputImageFile:function(t){this.formData.CreateMessageImageFile=t},imageUrlData:function(t){this.formData.CreateMessageImageUrl=this.imageUrl=t},insertNickname:function(){var t=document.createElement("span");t.className="nick-name",t.innerHTML="客户昵称",this.$refs.contenteditable.insertHtmlAtCaret(t)}}},qt=Ut,Yt=(a("9279"),Object(f["a"])(qt,Gt,jt,!1,null,"4446b49c",null)),Vt=Yt.exports,Mt=function(){var t=this,e=t._self._c;return e("div",[e("h2",{staticStyle:{"font-size":"15px"}},[t._v("选择客户参与方式")]),e("a-divider",{staticStyle:{margin:"12px 0"}}),t.isAddText?e("a-radio-group",{attrs:{name:"radioGroup"},model:{value:t.radioGroup,callback:function(e){t.radioGroup=e},expression:"radioGroup"}},[e("a-radio",{attrs:{value:1}},[t._v(" 选择参与客户 ")]),e("a-radio",{attrs:{value:2}},[t._v(" 暂不邀请 ")])],1):t._e(),e("div",{staticStyle:{"margin-bottom":"16px"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.radioGroup,expression:"radioGroup === 1"}]},[e("AddLabelGroup",{attrs:{formData:t.formData}}),e("h2",{staticStyle:{"font-size":"15px"}},[t._v("邀请文案")]),e("a-divider",{staticStyle:{margin:"12px 0"}}),e("NewCustomer",{attrs:{formData:t.formData}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.radioGroup,expression:"radioGroup === 2"}]},[e("img",{staticStyle:{"max-width":"710px","margin-top":"16px"},attrs:{src:"/imgs/invite-guide.png"}})]),e("a-modal",{attrs:{footer:null,width:"680px",destroyOnClose:"",centered:""},on:{cancle:function(e){t.AddspareVisible=!1}},model:{value:t.AddspareVisible,callback:function(e){t.AddspareVisible=e},expression:"AddspareVisible"}},[e("AddTransfer",{attrs:{selectList:t.spareList,disabledId:"staffId",selectRoleIdList:t.selectRoleIdList,type:"deptId"},on:{serviceOk:t.servicespareOk,cancle:function(e){t.AddspareVisible=!1}}})],1)],1)},Ht=[],zt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"height100"},[e("section",{staticClass:"section background-white"},[e("a-form",{staticClass:"model",attrs:{"label-col":{span:2},"wrapper-col":{span:16}}},[e("a-form-item",{attrs:{label:"邀请文案",required:""}},[e("div",{staticClass:"reason-box"},[e("Contenteditable",{ref:"contenteditable",attrs:{maxLength:t.maxLength,stateType:!1},model:{value:t.innerText,callback:function(e){t.innerText=e},expression:"innerText"}}),e("div",{staticClass:"reason-tip"},[t._v(t._s(t.contentOne.length)+"/"+t._s(t.maxLength))])],1)]),e("h2",{staticStyle:{"font-size":"15px"}},[t._v("链接设置")]),e("a-divider",{staticStyle:{margin:"12px 0"}}),e("a-form-item",{attrs:{label:"标题",required:""}},[e("a-input",{attrs:{placeholder:"标题"},model:{value:t.inputTitle,callback:function(e){t.inputTitle=e},expression:"inputTitle"}})],1),e("a-form-item",{attrs:{label:"摘要",required:""}},[e("a-input",{attrs:{placeholder:"摘要"},model:{value:t.inputAbstract,callback:function(e){t.inputAbstract=e},expression:"inputAbstract"}})],1),e("a-form-item",{attrs:{label:"封面"}},[e("div",{staticStyle:{display:"flex"}},[e("span",{staticClass:"box-img"},[e("a-avatar",{staticStyle:{left:"2px",top:"2px"},attrs:{src:t.defaultImage,size:100,shape:"square"}}),e("span",{staticClass:"box-close-icon"},["/imgs/default-cover.png"!==t.defaultImage?e("a-icon",{attrs:{type:"close-circle",theme:"filled"},on:{click:t.iconClose}}):t._e()],1)],1),e("UploadImages",{on:{imageUrlData:t.imageUrlData,input:t.uploadFile}},[e("a-button",{staticStyle:{position:"relative","margin-top":"80px"},attrs:{type:"link",icon:"sync"}},[t._v(" 重新上传 ")])],1)],1)])],1),e("PhoneModel",{attrs:{textList:t.textList}})],1)])},Kt=[],$t=a("e6b1"),Xt={name:"NewWelcome",components:{AddTransfer:v["a"],Contenteditable:et,PhoneModel:$t["a"],UploadImages:vt},data:function(){return{defaultImage:"/imgs/default-cover.png",inputTitle:"点击这里，完成任务领取奖品吧👇",inputAbstract:"快来参加活动吧",selectRoleIdList:[],visibleUsePerson:!1,maxLength:4e3,usePersionList:[{title:"全部账号",icon:"user",default:!0}],defaultUsePerson:function(){return{title:"全部账号",icon:"user",default:!0}},innerText:"你好，我们正在进行xxx活动，只要邀请x位好友添加我的微信就可以获得奖品\n\n参与流程：\n①点击下面链接，生成专属海报\n②进入链接后长按保存海报，将海报发给好友或朋友圈\n③邀请x位好友扫码添加，即可成功获得奖品\n④进入链接点击查看进度，完成任务后点击「领取奖励」即可领取哦\n\n注意事项：请不要直接转发活动链接给好友，是无法成功记录数据的哦~"}},computed:{contentOne:function(){return this.innerText.replace(/<span class="nick-name">客户昵称<\/span>/g,"#")},isAddText:function(){return"added"===this.$route.query.state?"新建":"修改"},textList:function(){return this.innerText?[this.innerText.replace(/<span class="nick-name">/g," ").replace(/<\/span>/g," ")]:[]}},props:{formData:{type:Object,default:function(){}}},watch:{innerText:function(){this.formData.NewCustomerinnerText=this.innerText}},created:function(){this.init()},methods:{init:function(){this.formData.NewCustomerinnerText=this.innerText=this.formData.NewCustomerinnerText||this.innerText,this.formData.NewWelcomeInputTitle=this.inputTitle=this.formData.NewWelcomeInputTitle||this.inputTitle,this.formData.NewWelcomeInputAbstract=this.inputAbstract=this.formData.NewWelcomeInputAbstract||this.inputAbstract,this.defaultImage=this.formData.NewCustomerFileImage||this.defaultImage},uploadFile:function(t){this.formData.NewCustomerFile=t},imageUrlData:function(t){this.defaultImage=t,this.formData.NewCustomerFileImage=t},iconClose:function(){this.defaultImage="/imgs/default-cover.png";var t="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABYAFgDASIAAhEBAxEB/8QAGgABAAMBAQEAAAAAAAAAAAAAAAQFBwYDAv/EACwQAAEEAQIFAgYDAQAAAAAAAAEAAgMEBQYREiExQVEHgRMWIkJhcRRicpH/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A3/TuDx+ncPWxmIrRVqldgY1sbQN9h1PknqSeZKskRAREQEREBERAREQVuosHj9RYezjMvWis1LDCxzZGg7bjqPBHUEcwUVkiAiIgIiICIsw1pqu5mcl8t6RJkneeGezGdgB3Ad2A7u9gg7q1qPC1LJr2crRimB2LHTNBB/PPl7qzikZNG2SF7ZI3DdrmncEfgrP8b6VYSKg2O+6xZtEfXK2QsAP9R4/e6qdJm3ozX3y3LYdPjbjeOHi+0kEh23Y7gtO3Xqg1hERAREQEREBEWbar1lkL2cjwOjPruNftNYDQ5o26gbgjYdz7BBI9V85drso4PEktuZJ3AXNOxDSQ0AHtuT18Ar5xrsF6aso0bglfcvc5bgYOEbEDmSdw0b9Bv5Kieq1G9Tnwuo4GiaTHuaJ+EbDcODgf8k7j3Cm+oVqhnfTM5R8ZZxBktf4g2e15cAQPbf25oO3yORqY7HyXbk7I6sbeIvJ5bdtvO/ZZjpT+TrP1AdqN8LocZSHBDxfcQCGt/f1Fx8dFc4bT8WrPTvBQZaWxH8IB4MbgCQC5rd9wft2Xb4+nXx9OKpSibDXibwsY3oAgkIiICIiAiIgqdW2Jqml8rYrEiaOtI5hHVp4Tz9uq5T0VoVYdLG7E1ptWJXCV/cBp2Df1391300TJoXxStD43tLXNPQg8iFlXy9qrRd+w/SwZfxkzuL4L9iW+N27g79t2nn3QadlL1XHUJrWQlZFWjbu9zum3jbvv4WURR5D1NzLXOa+npqo/ZrRy4vx4LiPZoP8A2T8u6r1pehdqkihjIncXwI9gXfpu55/l3TstQx9Kvj6cVSlE2GvE3hYxo5AIPStBHWrxQQMDIYmhjGDo1oGwC9ERAREQEREBERAREQEREBERAREQEREFbp3OY/UWHrZPEWYrNSwwPa6NwO246HwR0IPMFWSIgIiICIiAiIgIiIK3UWcx+ncPZyeXsxVqldhe50jgN9h0HknoAOZKIiD/2Q==";this.formData.NewCustomerdefaultImage=t;var e=bt(t);this.formData.NewCustomerFile=e},insertNickname:function(){var t=document.createElement("span");t.className="nick-name",t.innerHTML="用户昵称",this.$refs.contenteditable.insertHtmlAtCaret(t)}}},Zt=Xt,Jt=(a("496e"),Object(f["a"])(Zt,zt,Kt,!1,null,"b60b4996",null)),te=Jt.exports,ee=function(){var t=this,e=t._self._c;return e("div",t._l(t.tagslist.tags,(function(a,i){return e("a-row",{key:i},[e("a-col",{staticStyle:{"line-height":"0",padding:"10px 0 5px 0"}},[t._v(t._s(a.name))]),t._l(a.data,(function(a){return[e("a-tag",{key:a.tagId,class:[!0===a.tf?"active":"tagkeyword"],on:{click:function(e){return t.selectPD(a.tagId)}}},[t._v(" "+t._s(a.tagName)+" ")])]}))],2)})),1)},ae=[],ie={data:function(){return{tagslist:{groupName:"qq",tags:[{name:"标签11",data:[{tagId:"1",tagName:"今晚上山打老虎"},{tagId:"2",tagName:"哈哈哈"},{tagId:"3",tagName:"大砍刀速度快三年"}]},{name:"标签222222222222",data:[{tagId:"4",tagName:"今晚上山打老虎"},{tagId:"5",tagName:"哈哈哈"},{tagId:"6",tagName:"大砍刀速度快三年"}]},{name:"44444444444444444",data:[{tagId:"7",tagName:"今晚上山打老虎"},{tagId:"8",tagName:"哈哈哈"},{tagId:"9",tagName:"大砍刀速度快三年"}]},{name:"55555555",data:[{tagId:"10",tagName:"今晚上山打老虎"},{tagId:"11",tagName:"哈哈哈"},{tagId:"12",tagName:"大砍刀速度快三年"}]}]},selectIDList:[],stylemodel:{width:"120px",marginright:"5px"}}},methods:{selectPD:function(t){var e=this,a=this.selectIDList.indexOf(t);-1===a?this.selectIDList.push(t):this.selectIDList=this.selectIDList.filter((function(e){return e!==t})),this.tagslist.tags=this.tagslist.tags.map((function(t){return t.data.map((function(t){return-1!==e.selectIDList.indexOf(t.tagId)?t.tf=!0:t.tf=!1,t})),t}))}}},se=ie,ne=(a("c36e"),Object(f["a"])(se,ee,ae,!1,null,"1fac1f76",null)),re=ne.exports,oe=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"labelgroup-main-card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"edit-panel"},[e("div",{staticClass:"row"},[t._m(0),e("div",{staticClass:"content"},[e("usePerson",{attrs:{type:"deptId",placeHolder:"请选择使用成员账号"},on:{usePersionInfo:t.usePersionInfo},model:{value:t.userIds,callback:function(e){t.userIds=e},expression:"userIds"}})],1)]),e("div",{staticClass:"row row3"},[t._m(1),e("div",{staticClass:"content"},[e("div",[e("a-radio-group",{attrs:{name:"radioGroup"},model:{value:t.screeningCustomer,callback:function(e){t.screeningCustomer=e},expression:"screeningCustomer"}},[e("a-radio",{attrs:{value:1}},[t._v("全部客户")]),e("a-radio",{attrs:{value:2}},[t._v("筛选客户")])],1)],1),"2"==t.screeningCustomer?e("div",{staticClass:"select-content"},[e("p",{staticClass:"bar"},[t._v("筛选客户")]),e("div",{staticClass:"client-info"},[e("div",{staticClass:"info-title"},[t._v("性别:")]),e("div",{staticClass:"tabs"},[e("a-radio-group",{attrs:{name:"radioGroup"},on:{change:function(e){t.seeShow=!0}},model:{value:t.criteriaGender,callback:function(e){t.criteriaGender=e},expression:"criteriaGender"}},[e("a-radio",{attrs:{value:3}},[t._v("全部性别")]),e("a-radio",{attrs:{value:1}},[t._v("仅男性粉丝")]),e("a-radio",{attrs:{value:2}},[t._v("仅女性粉丝")]),e("a-radio",{attrs:{value:4}},[t._v("未知性别")])],1)],1)]),e("div",{staticClass:"client-info"},[e("div",{staticClass:"info-title"},[t._v("添加时间:")]),e("div",{staticClass:"tabs"},[e("a-range-picker",{staticStyle:{width:"340px"},attrs:{allowClear:"",value:t.showLossDateTime,"disabled-date":t.disabledDate},on:{change:t.changeDate}},[e("a-icon",{attrs:{slot:"suffixIcon",type:"calendar"},slot:"suffixIcon"})],1)],1)]),e("div",{staticClass:"client-info"},[e("div",{staticClass:"info-title"},[t._v("标签:")]),e("div",{staticClass:"tag-group-container"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.DataGroupList.length>3,expression:"DataGroupList.length > 3"}],staticClass:"fold-icon",on:{click:function(e){t.showAll=!t.showAll}}},[t._v(" "+t._s(t.word)),t.showAll?t._e():e("a-icon",{staticClass:"tu",attrs:{type:"down"}}),t.showAll?e("a-icon",{staticClass:"tu",attrs:{type:"up"}}):t._e()],1),t._l(t.showList,(function(a,i){return e("div",{key:i,staticClass:"group-item"},[e("span",{staticClass:"group-name"},[t._v(t._s(a.groupName))]),e("ul",{staticClass:"channel-list"},t._l(a.tags,(function(a,i){return e("li",{key:i,class:[{active:t.spanIndex.indexOf(a.bitmap)>-1},"ant-btn"],on:{click:function(e){return t.changeSpan(a.bitmap,a.tagName)}}},[t._v(" "+t._s(a.tagName)+" ")])})),0)])}))],2)]),t._m(2),"3"!=t.criteriaGender?e("div",{staticClass:"client-info client-info-tips"},[t._m(3),t._v(" 将发送消息给属于"),t.spanName.length>0?e("span",[t._l(t.spanName,(function(a,i){return e("span",{key:i},[t._v("["+t._s(a.tagName)+"] ，")])})),t._v(t._s(t.spanName.length)+"个标签的符合")],2):t._e(),t._v("条件的粉丝 ")]):t._e()]):t._e(),"2"==t.screeningCustomer?e("p",{staticClass:"content-select-all"},[e("span",{staticClass:"icon-wrap",staticStyle:{color:"#666666"}},[e("a-icon",{staticClass:"file-search",attrs:{type:"file-search"}}),t._v("查看该消息预计送达人数： "),t.seeShow?e("span",{staticClass:"btn",on:{click:t.getCalculateNum}},[t._v("查看")]):e("span",[t._v(t._s(t.CalculateNum))])],1)]):t._e(),t.seeShow&&t.loadingSee?e("em",{staticClass:"em-txt"},[t._v("人数计算中，请耐心等待。（此过程可能需要数分钟）")]):t._e(),"1"==t.screeningCustomer?e("div",{staticClass:"content"},[e("p",{staticClass:"content-select-all"},[t._v(" 将群发消息给全部账号的 "),t.seeShow?e("span",{staticClass:"btn",on:{click:t.getCalculateNum}},[t._v("查看")]):e("span",[t._v(t._s(t.CalculateNum))]),t._v("个客户")])]):t._e()])])])])])])},le=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"title"},[e("b",{staticClass:"text-red"},[t._v("*")]),t._v("所属员工:")])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"title title3"},[e("b",{staticClass:"text-red"},[t._v("*")]),t._v("选择客户:")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"divider line",staticStyle:{"padding-left":"24px","padding-right":"24px",width:"px"}},[e("span",{staticClass:"ant-divider ant-divider-horizontal"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"divider",staticStyle:{"padding-top":"0px","padding-bottom":"0px",height:"px"}},[e("span",{staticClass:"ant-divider ant-divider-vertical"})])}],ce=a("6bd9"),ue=a("e9de"),de=a("4f1a"),pe=a("b52b"),me={data:function(){return{DataGroupList:[],spanIndex:[],spanName:[],loadingSee:!1,CalculateNum:0,showAll:!1,maxLength:400,visibleTree:!1,taskName:"",originFileObj:{},filterCustomer:!0,seeShow:!0,showLossDateTime:null,screeningCustomer:1,criteriaGender:3,addTimeTo:void 0,num:[],addTimeFrom:void 0,userIds:[],noChose:!1}},created:function(){this.getGroupList(),this.init()},watch:{spanName:function(){this.formData.spanName=this.spanName},userIds:function(){this.formData.AddLabelGroupuserIds=this.userIds},screeningCustomer:function(){this.formData.AddLabelGroupscreeningCustomer=this.screeningCustomer},spanIndex:function(){this.formData.AddLabelGroupspanIndex=this.spanIndex},criteriaGender:function(){this.formData.AddLabelGroupcriteriaGender=this.criteriaGender},showLossDateTime:function(){this.formData.showLossDateTime=this.showLossDateTime},addTimeFrom:function(){this.formData.AddLabelGroupaddTimeFrom=this.addTimeFrom},addTimeTo:function(){this.formData.AddLabelGroupaddTimeTo=this.addTimeTo}},computed:{showList:function(){if(0==this.showAll){var t=[];if(this.DataGroupList.length>3)for(var e=0;e<3;e++)t.push(this.DataGroupList[e]);else t=this.DataGroupList;return t}return this.DataGroupList},word:function(){return 0==this.showAll?"展开":"收起"}},props:{formData:{type:Object,default:function(){}}},methods:{init:function(){this.userIds=this.formData.AddLabelGroupuserIds||this.userIds,this.screeningCustomer=this.formData.AddLabelGroupscreeningCustomer||this.screeningCustomer,this.criteriaGender=this.formData.AddLabelGroupcriteriaGender||this.criteriaGender,this.DataGroupList=this.formData.DataGroupList||this.DataGroupList,this.spanName=this.formData.spanName||this.spanName,this.spanIndex=this.formData.AddLabelGroupspanIndex||this.spanIndex,this.showLossDateTime=this.formData.showLossDateTime||this.showLossDateTime},changeSpan:function(t,e){var a=this.spanIndex.indexOf(t),i=this.spanName.indexOf(e);if(this.seeShow=!0,a>-1)this.spanIndex.splice(a,1),this.spanName.splice(i,1);else{this.spanIndex.push(t);var s={tagName:e,index:t};this.spanName.push(s)}},usePersionInfo:function(t){if(this.seeShow=!0,t.length<=0)return this.noChose=!1,void(this.userIds=[]);this.noChose=!0,this.userIds=t},changeDate:function(t,e){this.showLossDateTime=t,this.seeShow=!0,e[0]?(this.addTimeFrom=e[0],this.addTimeTo=e[1]):(this.addTimeFrom=void 0,this.addTimeTo=void 0)},disabledDate:function(t){return t&&t>Date.now()},getGroupList:function(){var t=this,e={grpName:""};return Object(x["c"])(e).then((function(e){t.DataGroupList=(null===e||void 0===e?void 0:e.data.tagGroup)||[]})).catch((function(e){t.$message.error(e)}))},getCalculateNum:function(){var t,e,a,i=this;t=this.noChose?this.userIds.map((function(t){return t.source.userid})):void 0,e=this.spanIndex.length>0?this.spanIndex.join(","):void 0,a="3"==this.criteriaGender?void 0:this.criteriaGender;var s={criteriaGender:a,userIds:t,criteriaTagId:e,criteriaAddTimeFrom:this.addTimeFrom,criteriaAddTimeTo:this.addTimeTo};this.seeShow=!0,this.loadingSee=!0,Object(pe["a"])(s).then((function(t){i.seeShow=!1,i.CalculateNum=(null===t||void 0===t?void 0:t.data)||0})).catch((function(t){i.$message.error(t)})).finally((function(){i.loadingSee=!1}))}},components:{usePerson:ce["a"],UpDateImg:ue["a"],SelectGroupChat:de["a"]}},fe=me,he=(a("71d1"),Object(f["a"])(fe,oe,le,!1,null,"243ae1df",null)),ge=he.exports,ve={data:function(){return{boxshow:!1,spareList:[],radioGroup:1,radioGender:1,radioGroupSelect:1,AddspareVisible:!1,selectList:[]}},components:{NewCustomer:te,AddTransfer:v["a"],TagSelectTwo:re,AddLabelGroup:ge},computed:{selectRoleIdList:function(){return this.selectList.map((function(t){return t.source.staffId}))},isAddText:function(){var t=!0;switch(this.$route.query.state){case"invitation":t=!1;break}return t}},watch:{radioGroup:function(){this.formData.radioGroup=this.radioGroup}},props:{formData:{type:Object,default:function(){}}},created:function(){this.init()},methods:{init:function(){this.radioGroup=this.formData.radioGroup||this.radioGroup},onChange:function(t,e){},closeDetel:function(t){this.selectList.splice(t,1),this.selectList.length<=0&&(this.hasAddLimit=!1)},closespareDetel:function(t){this.spareList.splice(t,1)},serviceOk:function(t){this.AddTransfeVisible=!1,t.forEach((function(t){t.value=100})),this.selectList=t},servicespareOk:function(t){this.AddspareVisible=!1,this.spareList=t}}},be=ve,Ae=(a("8bc1"),Object(f["a"])(be,Mt,Ht,!1,null,"779389b4",null)),xe=Ae.exports,Ce=a("da00"),we={data:function(){return{posterConfDict:{},params:{},activityLoading:!1,formData:{},current:0,steps:[{title:"活动基本信息",content:q},{title:"设置欢迎语和海报",content:Et},{title:"设置推送消息",content:Vt},{title:"邀请客户参与",content:xe}]}},computed:{isAddText:function(){var t="";switch(this.$route.query.state){case"added":t="创建活动";break;case"edit":t="修改活动";break;case"invitation":t="通知成员发送";break}return t},isSuccet:function(){var t="";switch(this.$route.query.state){case"added":t="创建成功";break;case"edit":t="修改成功";break;case"invitation":t="提醒成功";break}return t},sopId:function(){return this.$route.query.sopId}},created:function(){"edit"===this.$route.query.state?this.initEdit():"invitation"===this.$route.query.state&&this.initInvitation()},methods:{initInvitation:function(){var t=this;this.steps=[{title:"邀请客户参与",content:xe}],Object(Ce["b"])(this.sopId).then((function(e){var a;t.params=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data}))},initEdit:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.steps=[{title:"活动基本信息",content:q},{title:"设置欢迎语和海报",content:Et},{title:"设置推送消息",content:Vt}],e.next=3,Object(Ce["b"])(t.sopId).then((function(e){var a,i,s,n,r,o=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data;t.params=o;var l=JSON.parse((null===o||void 0===o?void 0:o.customerLabel)||"{}"),c=JSON.parse((null===o||void 0===o?void 0:o.taskConf)||"{}"),u=null===c||void 0===c?void 0:c.map((function(t,e){return t.name="".concat(e+1,"级阶梯任务"),t.address=t.label,t.id=e+1,t.key=e+1,t.age=t.number,t})),d=null===o||void 0===o||null===(i=o.staffId)||void 0===i||null===(s=i.split(","))||void 0===s?void 0:s.filter((function(t){if(t)return t})),p=null===o||void 0===o||null===(n=o.staffName)||void 0===n||null===(r=n.split("。/。"))||void 0===r?void 0:r.filter((function(t){if(t)return t})),m=null===d||void 0===d?void 0:d.map((function(t,e){return{disabled:!1,key:t,title:p[e]}})),f=JSON.parse((null===o||void 0===o?void 0:o.receiveThePrize)||"[]"),h=null===f||void 0===f?void 0:f.map((function(t){return{disabled:!1,key:t.staffId,title:t.staffName}})),g=JSON.parse((null===o||void 0===o?void 0:o.posterConf)||"{}");t.posterConfDict=JSON.parse((null===o||void 0===o?void 0:o.posterConf)||"{}"),t.formData={activityName:null===o||void 0===o?void 0:o.activeName,staffData:l,stafftf:"{}"!==(null===o||void 0===o?void 0:o.customerLabel),taskConf:u,resData:o,selectList:m,spareList:h,createTime:null===o||void 0===o?void 0:o.endTime,newFriendCondition:!(null===o||void 0===o||!o.newFriendCondition),deleteFriendCondition:!(null===o||void 0===o||!o.deleteFriendCondition),CreateWelcomeuserProfile:null===g||void 0===g?void 0:g.avatar,CreateWelcomeuserNickname:null===g||void 0===g?void 0:g.name,CreateWelcomecolor:null===g||void 0===g?void 0:g.nameColor,CreateWelcomeposterImage:null===g||void 0===g?void 0:g.path,CreateWelcomeleftX:null===g||void 0===g?void 0:g.x,CreateWelcometopY:null===g||void 0===g?void 0:g.y,CreateWelcomeforwardingText:null===o||void 0===o?void 0:o.posterForward,CreateWelcomeforwarding:!(null===o||void 0===o||!o.posterForward),NewWelcomedefaultImage:null===o||void 0===o?void 0:o.urlPath,NewWelcomeInnerText:null===o||void 0===o?void 0:o.wecome,NewWelcomeInputTitle:null===o||void 0===o?void 0:o.urlTitle,NewWelcomeInputAbstract:null===o||void 0===o?void 0:o.urlText,Employees:null===o||void 0===o?void 0:o.openNoticeStaff,CreateMessageCustomers:0!==(null===o||void 0===o?void 0:o.openNoticeCustomer),CreateMessageinnerText:null===o||void 0===o?void 0:o.msg1,CreateMessageradioGroup:parseInt(JSON.parse((null===o||void 0===o?void 0:o.msg2)||"{}").type||1),CreateMessageImageUrl:JSON.parse((null===o||void 0===o?void 0:o.msg2)||"{}").path,CreateMessageHttpUrl:JSON.parse((null===o||void 0===o?void 0:o.msg2)||"{}").link,autoAdd:0!==(null===o||void 0===o?void 0:o.autoAdd)}})).catch((function(e){t.$message.warning(e)})).finally((function(){}));case 3:case"end":return e.stop()}}),e)})))()},next:function(){if(0===this.current){var t,e,a,i,s,n=this.formData.activityName,r=this.formData.selectList,o=this.formData.stafftf,l=this.formData.staffData,c=this.formData.createTime,u=this.formData.validityOfQRCode,d=this.formData.qrCodeTimeNum,p=this.formData.taskConf,m=this.formData.newFriendCondition,f=this.formData.deleteFriendCondition,h=this.formData.receiveThePrizeType,g=this.formData.spareList;if(!n)return void this.$message.warning("请输入活动名称");if(!r||0===(null===r||void 0===r?void 0:r.length))return void this.$message.warning("请选择客服");if(o&&!l)return void this.$message.warning("请选择客户标签");if(!c)return void this.$message.warning("请选择活动结束时间");if(u&&1!==u)v=d;else var v=0;if(null===p||void 0===p||null===(t=p[0])||void 0===t||!t.age)return void this.$message.warning("请输入目标人数");var b=p.filter((function(t,e){if(!(0!==e&&t.age<=p[e-1].age))return t}));if(b.length!==p.length)return void this.$message.warning("阶梯任务目标人数必须大于前一级阶梯任务目标人数");if(!g&&void 0===h||0===(null===g||void 0===g?void 0:g.length))return void this.$message.warning("请选择员工");var A=[],x=[],C="";null===(e=this.formData.selectList)||void 0===e||e.map((function(t){return A.push(t.key),x.push(t.title),t})),C=this.formData.stafftf?void 0===this.formData.staffData?"":JSON.stringify(this.formData.staffData):"{}";var w=null===p||void 0===p?void 0:p.map((function(t){var e={};return e.number=t.age,e.label=t.address,e})),y=null===(a=this.formData)||void 0===a||null===(i=a.spareList)||void 0===i?void 0:i.map((function(t){var e={};return e.staffId=t.key,e.staffName=t.title,e})),D={activeName:n,matchType:void 0===this.formData.matchType?0:this.formData.matchType,staffId:A.join(","),staffName:x.join(" 。/。"),autoAdd:void 0===this.formData.autoAdd||this.formData.autoAdd?1:0,customerLabel:C,endTime:this.formData.createTime,qrCodeTime:v,taskConf:JSON.stringify(w),newFriendCondition:void 0===m||!1===m?0:1,deleteFriendCondition:void 0===f||f?1:0,receiveThePrizeType:void 0===this.formData.receiveThePrizeType?1:this.formData.receiveThePrizeType,receiveThePrize:void 0===(null===(s=this.formData)||void 0===s?void 0:s.spareList)?"":JSON.stringify(y),posterConfType:0};this.params=Object.assign(this.params,D)}if(1===this.current){var I,L,k=this.formData.CreateWelcomecolor,T=this.formData.CreateWelcomeuserProfile,S=this.formData.CreateWelcomeuserNickname,_=this.formData.CreateWelcomeposterImage,N=(this.formData.CreateWelcomeposterFile,this.formData.CreateWelcomeforwarding),O=this.formData.CreateWelcomeforwardingText,E=this.formData.NewWelcomeInnerText,G=this.formData.NewWelcomeInputTitle,j=this.formData.NewWelcomeInputAbstract;if(!_)return void this.$message.warning("请上传海报");if((void 0===N||N)&&!O)return void this.$message.warning("请输入海报转发话术");if(!E)return void this.$message.warning("请输入欢迎语");if(E)E=null===(I=E)||void 0===I||null===(L=I.replace(/<span class=\"nick-name\">/g,"#"))||void 0===L?void 0:L.replace(/<\/span>/g,"#");if(!G)return void this.$message.warning("请输入链接标题");if(!j)return void this.$message.warning("请输入链接摘要");var P={posterForward:void 0===N||N?O:"",wecome:E,urlTitle:G,urlText:j,posterConf:JSON.stringify(Object.assign(this.posterConfDict,{avatar:void 0===T||T,name:void 0===S||S,nameColor:k||"#000000",x:this.formData.CreateWelcomeleftX||"152px",y:this.formData.CreateWelcometopY||"336px"}))};this.params=Object.assign(this.params,P)}if(2===this.current){var R=this.formData.CreateMessageCustomers,F=this.formData.CreateMessageinnerText,B=this.formData.CreateMessageradioGroup,Q=this.formData.CreateMessageHttpUrl;if(void 0===R||R){if(!F)return void this.$message.warning("还未填写给客户推送的内容，请输入后保存");R=1}else F="",R=0;if(1===B)var W={type:"1"};else if(2===B){var U=/(https|http):\/\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/g;if(!U.test(Q))return void this.$message.warning("链接地址请以http或https开头");W={type:"2",link:Q||""}}else W={};var q={openNoticeStaff:void 0===this.formData.Employees||this.formData.Employees?1:0,openNoticeCustomer:R,msg1:F,msg2:JSON.stringify(W)};if(this.params=Object.assign(this.params,q),"edit"===this.$route.query.state)return 1}this.current++},prev:function(){this.current--},goBack:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){var a,i,s,r,o,l,c,u,d,p,m,f,h,g,v,b,A,x;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=t.$route.query.state,e.next="added"===e.t0||"invitation"===e.t0?3:"edit"===e.t0?44:50;break;case 3:if(a=void 0===t.formData.radioGroup?1:t.formData.radioGroup,i=t.formData.AddLabelGroupuserIds,s=t.formData.AddLabelGroupscreeningCustomer,r=t.formData.AddLabelGroupaddTimeFrom,o=t.formData.AddLabelGroupaddTimeTo,l=t.formData.AddLabelGroupspanIndex,c=t.formData.AddLabelGroupcriteriaGender,u=t.formData.NewCustomerinnerText,d=t.formData.NewWelcomeInputTitle,p=t.formData.NewWelcomeInputAbstract,m=[],1!==a){e.next=22;break}if(i){e.next=18;break}return t.$message.warning("请选择员工"),e.abrupt("return");case 18:null===i||void 0===i||i.map((function(t){return m.push(t.key),t})),2===s&&(s=0),4===c&&(c=0),l=l?l.join(","):"";case 22:if("added"!==t.$route.query.state){e.next=30;break}return e.next=25,t.getFissiontask();case 25:if(f=e.sent,f){e.next=28;break}return e.abrupt("return");case 28:e.next=31;break;case 30:"invitation"===t.$route.query.state&&(f=t.$route.query.sopId);case 31:if(1!==a){e.next=43;break}return h={type:String(s||1),staffIds:m.join(","),activeId:String(f),gender:c,startTime:r,endTime:o,criteriaTagId:l,wecome:u,urlTitle:d,urlText:p},g=new FormData,g.append("params",JSON.stringify(h)),v="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABYAFgDASIAAhEBAxEB/8QAGgABAAMBAQEAAAAAAAAAAAAAAAQFBwYDAv/EACwQAAEEAQIFAgYDAQAAAAAAAAEAAgMEBQYREiExQVEHgRMWIkJhcRRicpH/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A3/TuDx+ncPWxmIrRVqldgY1sbQN9h1PknqSeZKskRAREQEREBERAREQVuosHj9RYezjMvWis1LDCxzZGg7bjqPBHUEcwUVkiAiIgIiICIsw1pqu5mcl8t6RJkneeGezGdgB3Ad2A7u9gg7q1qPC1LJr2crRimB2LHTNBB/PPl7qzikZNG2SF7ZI3DdrmncEfgrP8b6VYSKg2O+6xZtEfXK2QsAP9R4/e6qdJm3ozX3y3LYdPjbjeOHi+0kEh23Y7gtO3Xqg1hERAREQEREBEWbar1lkL2cjwOjPruNftNYDQ5o26gbgjYdz7BBI9V85drso4PEktuZJ3AXNOxDSQ0AHtuT18Ar5xrsF6aso0bglfcvc5bgYOEbEDmSdw0b9Bv5Kieq1G9Tnwuo4GiaTHuaJ+EbDcODgf8k7j3Cm+oVqhnfTM5R8ZZxBktf4g2e15cAQPbf25oO3yORqY7HyXbk7I6sbeIvJ5bdtvO/ZZjpT+TrP1AdqN8LocZSHBDxfcQCGt/f1Fx8dFc4bT8WrPTvBQZaWxH8IB4MbgCQC5rd9wft2Xb4+nXx9OKpSibDXibwsY3oAgkIiICIiAiIgqdW2Jqml8rYrEiaOtI5hHVp4Tz9uq5T0VoVYdLG7E1ptWJXCV/cBp2Df1391300TJoXxStD43tLXNPQg8iFlXy9qrRd+w/SwZfxkzuL4L9iW+N27g79t2nn3QadlL1XHUJrWQlZFWjbu9zum3jbvv4WURR5D1NzLXOa+npqo/ZrRy4vx4LiPZoP8A2T8u6r1pehdqkihjIncXwI9gXfpu55/l3TstQx9Kvj6cVSlE2GvE3hYxo5AIPStBHWrxQQMDIYmhjGDo1oGwC9ERAREQEREBERAREQEREBERAREQEREFbp3OY/UWHrZPEWYrNSwwPa6NwO246HwR0IPMFWSIgIiICIiAiIgIiIK3UWcx+ncPZyeXsxVqldhe50jgN9h0HknoAOZKIiD/2Q==",b=bt(v),g.append("p3",t.formData.NewCustomerFile||b),e.next=40,t.getinvitationCustomer(g);case 40:if(A=e.sent,A){e.next=43;break}return e.abrupt("return");case 43:return e.abrupt("break",50);case 44:return e.next=46,t.getFissiontaskUpdate();case 46:if(x=e.sent,x){e.next=49;break}return e.abrupt("return");case 49:return e.abrupt("break",50);case 50:t.$message.success(t.isSuccet),t.$router.go(-1);case 52:case"end":return e.stop()}}),e)})))()},getParams:function(){var t,e=new FormData;e.append("fissionTask",JSON.stringify(this.params));var a,i="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABYAFgDASIAAhEBAxEB/8QAGgABAAMBAQEAAAAAAAAAAAAAAAQFBwYDAv/EACwQAAEEAQIFAgYDAQAAAAAAAAEAAgMEBQYREiExQVEHgRMWIkJhcRRicpH/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A3/TuDx+ncPWxmIrRVqldgY1sbQN9h1PknqSeZKskRAREQEREBERAREQVuosHj9RYezjMvWis1LDCxzZGg7bjqPBHUEcwUVkiAiIgIiICIsw1pqu5mcl8t6RJkneeGezGdgB3Ad2A7u9gg7q1qPC1LJr2crRimB2LHTNBB/PPl7qzikZNG2SF7ZI3DdrmncEfgrP8b6VYSKg2O+6xZtEfXK2QsAP9R4/e6qdJm3ozX3y3LYdPjbjeOHi+0kEh23Y7gtO3Xqg1hERAREQEREBEWbar1lkL2cjwOjPruNftNYDQ5o26gbgjYdz7BBI9V85drso4PEktuZJ3AXNOxDSQ0AHtuT18Ar5xrsF6aso0bglfcvc5bgYOEbEDmSdw0b9Bv5Kieq1G9Tnwuo4GiaTHuaJ+EbDcODgf8k7j3Cm+oVqhnfTM5R8ZZxBktf4g2e15cAQPbf25oO3yORqY7HyXbk7I6sbeIvJ5bdtvO/ZZjpT+TrP1AdqN8LocZSHBDxfcQCGt/f1Fx8dFc4bT8WrPTvBQZaWxH8IB4MbgCQC5rd9wft2Xb4+nXx9OKpSibDXibwsY3oAgkIiICIiAiIgqdW2Jqml8rYrEiaOtI5hHVp4Tz9uq5T0VoVYdLG7E1ptWJXCV/cBp2Df1391300TJoXxStD43tLXNPQg8iFlXy9qrRd+w/SwZfxkzuL4L9iW+N27g79t2nn3QadlL1XHUJrWQlZFWjbu9zum3jbvv4WURR5D1NzLXOa+npqo/ZrRy4vx4LiPZoP8A2T8u6r1pehdqkihjIncXwI9gXfpu55/l3TstQx9Kvj6cVSlE2GvE3hYxo5AIPStBHWrxQQMDIYmhjGDo1oGwC9ERAREQEREBERAREQEREBERAREQEREFbp3OY/UWHrZPEWYrNSwwPa6NwO246HwR0IPMFWSIgIiICIiAiIgIiIK3UWcx+ncPZyeXsxVqldhe50jgN9h0HknoAOZKIiD/2Q==",s=bt(i);(e.append("p",this.formData.NewWelcomeImageFile||s),null!==(t=this.formData.CreateWelcomeposterFile)&&void 0!==t&&t.uid&&e.append("p2",this.formData.CreateWelcomeposterFile),1===this.formData.CreateMessageradioGroup)&&(null!==(a=this.formData.CreateMessageImageFile)&&void 0!==a&&a.uid&&e.append("p4",this.formData.CreateMessageImageFile));return e.append("sckPath",this.formData.CreateWelcomeImageUrl||""),e},getFissiontaskUpdate:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){var a,i,s,r,o,l,c,u,d;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.current=2,e.next=3,t.next();case 3:if(i=e.sent,i){e.next=6;break}return e.abrupt("return");case 6:return s=new FormData,r=t.formData.CreateMessageradioGroup,t.formData.CreateMessageHttpUrl,o=[],t.formData.NewWelcomeImageFile?(s.append("p",t.formData.NewWelcomeImageFile),o.push(2)):o.push(1),null!==(a=t.formData.CreateWelcomeposterFile)&&void 0!==a&&a.uid?(s.append("p2",t.formData.CreateWelcomeposterFile),o.push(2)):t.formData.CreateWelcomeImageUrl?(l={},l.path=t.formData.CreateWelcomeImageUrl,t.params.posterConf=JSON.stringify(l),o.push(1)):o.push(1),1===r&&null!==(c=t.formData.CreateMessageImageFile)&&void 0!==c&&c.uid?(u={type:"1"},t.params.msg2=JSON.stringify(u),s.append("p4",t.formData.CreateMessageImageFile),o.push(2)):o.push(1),s.append("fissionTask",JSON.stringify(t.params)),d=o.join(","),s.append("status",d),t.activityLoading=!0,e.abrupt("return",Object(Ce["d"])(s).then((function(t){return t})).catch((function(e){t.$message.warning(e)})).finally((function(){t.activityLoading=!1})));case 18:case"end":return e.stop()}}),e)})))()},getFissiontask:function(){var t=this;this.activityLoading=!0;var e=this.getParams();return Object(Ce["f"])(e).then((function(t){var e,a=null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.id;return a})).catch((function(e){t.$message.warning(e)})).finally((function(){t.activityLoading=!1}))},getinvitationCustomer:function(t){var e=this;return this.activityLoading=!0,Object(Ce["e"])(t).then((function(t){return t})).catch((function(t){e.$message.warning(t)})).finally((function(){e.activityLoading=!1}))}}},ye=we,De=(a("ee7c"),Object(f["a"])(ye,i,s,!1,null,"7a9fd711",null));e["default"]=De.exports},6444:function(t,e,a){"use strict";a("89ef")},"6a2f":function(t,e,a){"use strict";a("501a")},"6bd9":function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"use-person"},[e("ul",{staticClass:"a-line-omit",on:{click:function(e){t.visibleUsePerson=!0}}},[t._l(t.usePersionList,(function(a){return e("li",{key:a.key,staticClass:"a-line-omit"},[e("a-tooltip",{attrs:{title:a.title}},[a.icon?e("a-icon",{staticClass:"icon",attrs:{type:a.icon}}):e("a-avatar",{staticClass:"imgs",attrs:{size:23,src:a.source.thumbAvatar||t.defaultThumbAvatar}}),e("span",{staticClass:"title"},[t._v(" "+t._s(a.title)+" ")])],1)],1)})),t.usePersionList.length<1?e("p",{staticClass:"font-color-black-25"},[t._v(t._s(t.placeHolder))]):t._e()],2),t.usePersionList.length>2?e("span",{staticClass:"omit"},[t._v("等"+t._s(t.usePersionList.length)+"个账号")]):t._e(),e("a-icon",{attrs:{type:"caret-down"}})],1),e("a-modal",{attrs:{footer:null,width:"680px",centered:""},model:{value:t.visibleUsePerson,callback:function(e){t.visibleUsePerson=e},expression:"visibleUsePerson"}},[e("AddTransfer",t._b({attrs:{type:t.type,title:t.title,selectList:t.usePersionList,selectRoleIdList:t.selectRoleIdList},on:{serviceOk:t.serviceOk,cancle:function(e){t.visibleUsePerson=!1}}},"AddTransfer",t.source,!1))],1)],1)},s=[],n=(a("d81d"),a("1eb1")),r={name:"UsePerson",props:{defaultUsePerson:{type:[Array],default:function(){return[]}},placeHolder:{type:[String],default:""},type:{type:[String],default:""},title:{type:[String],default:"选择成员"},value:{type:[Array],default:function(){return[]}},needControlReturn:{type:Boolean,default:!1},source:{type:Object,default:function(){return{}}}},components:{AddTransfer:n["a"]},data:function(){return{defaultThumbAvatar:a("b5c3"),visibleUsePerson:!1,selectRoleIdList:[],usePersionList:this.value}},watch:{value:function(){this.usePersionList=this.value}},methods:{serviceOk:function(t){var e=this;t.length<1?this.usePersionList=this.defaultUsePerson:this.usePersionList=t,this.usePersionList.map((function(t){t.value=100})),this.needControlReturn||(this.visibleUsePerson=!1),this.$emit("input",this.usePersionList),this.$emit("usePersionInfo",this.usePersionList,(function(){e.visibleUsePerson=!1}))}}},o=r,l=(a("f0b2"),a("2877")),c=Object(l["a"])(o,i,s,!1,null,"de146f5e",null);e["a"]=c.exports},"6e43":function(t,e,a){},7183:function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"d",(function(){return r})),a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return l}));var i=a("b775"),s={getTagGroup:"/client_manager/CustomerTag/getTagGroup",syncTagGroup:"/client_manager/CustomerTag/syncTagGroup",addOrEditTagGroup:"/client_manager/CustomerTag/addOrEditTagGroup",delTagGroup:"/client_manager/CustomerTag/delTagGroup"};function n(t){return Object(i["b"])({url:s.getTagGroup,method:"post",data:t})}function r(t){return Object(i["b"])({url:s.syncTagGroup,method:"post",data:t})}function o(t){return Object(i["b"])({url:s.addOrEditTagGroup,method:"post",data:t})}function l(t){return Object(i["b"])({url:s.delTagGroup,method:"post",data:t})}},"71d1":function(t,e,a){"use strict";a("d990")},"73bf":function(t,e,a){},"74de":function(t,e,a){"use strict";a("9ee2")},"85e6":function(t,e,a){},"89ef":function(t,e,a){},"8b20":function(t,e,a){"use strict";a("351b")},"8bc1":function(t,e,a){"use strict";a("ee54")},"8e2e":function(t,e,a){},"8e34":function(t,e,a){"use strict";a("299d")},9279:function(t,e,a){"use strict";a("cfa1")},"9ee2":function(t,e,a){},a02b:function(t,e,a){"use strict";a("d5fc")},ac43:function(t,e,a){"use strict";a("0fa8")},afd3:function(t,e,a){},b1f6:function(t,e,a){},b3f7:function(t,e,a){"use strict";a("edda")},b442:function(t,e,a){"use strict";a("1344")},b4f0:function(t,e,a){},b52b:function(t,e,a){"use strict";a.d(e,"j",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return o})),a.d(e,"i",(function(){return l})),a.d(e,"g",(function(){return c})),a.d(e,"e",(function(){return u})),a.d(e,"h",(function(){return d})),a.d(e,"b",(function(){return p})),a.d(e,"d",(function(){return m})),a.d(e,"f",(function(){return f}));var i=a("b775"),s={labelGroupList:"/client_group/tagBuildGroup/page",labelGroupAdd:"/client_group/tagBuildGroup/add",labelGroupDel:"/client_group/tagBuildGroup/delGroupTagPull",getChat:"/client_group/tagBuildGroup/getChat",getStatistics:"/client_group/tagBuildGroup/getStatistics",queryCustomers:"/client_group/tagBuildGroup/customer/get",customersDetail:"/client_group/tagBuildGroup/staff/get",remind:"/client_group/tagBuildGroup/remind",calculateNum:"/client_group/tagBuildGroup/calculateNum",updateDate:"/client_group/tagBuildGroup/getNewData"};function n(t){return Object(i["b"])({url:s.updateDate,method:"get",params:t})}function r(t){return Object(i["b"])({url:s.getChat,method:"get",params:t})}function o(t){return Object(i["b"])({url:s.calculateNum,method:"post",data:t})}function l(t){return Object(i["b"])({url:s.remind,method:"post",data:t})}function c(t){return Object(i["b"])({url:s.labelGroupList,method:"get",params:t})}function u(t){return Object(i["b"])({url:s.labelGroupAdd,method:"post",data:t})}function d(t){return Object(i["b"])({url:s.queryCustomers,method:"post",data:t})}function p(t){return Object(i["b"])({url:s.customersDetail,method:"post",data:t})}function m(t){return Object(i["b"])({url:s.getStatistics,method:"get",params:t})}function f(t){return Object(i["b"])({url:s.labelGroupDel,method:"post",params:t})}},b5c3:function(t,e,a){t.exports=a.p+"assets/default.c42b7ede.svg"},c233:function(t,e,a){"use strict";a("afd3")},c36e:function(t,e,a){"use strict";a("ee1f")},c758:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"add-tags"},[e("section",{attrs:{id:"operator-tag-group-dialog"}},[e("p",{staticClass:"dialog-title dialog-tag-title"},[t._v(t._s(t.statusText)+"标签组")]),e("a-form-model",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,"label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[e("a-form-model-item",{attrs:{label:"标签组名称",prop:"tagGroupName"}},[e("a-input",{staticClass:"tags-name",attrs:{placeholder:"请输入标签组名称",maxLength:15},model:{value:t.form.tagGroupName,callback:function(e){t.$set(t.form,"tagGroupName",e)},expression:"form.tagGroupName"}})],1),e("a-form-model-item",{attrs:{label:"可见范围",prop:"scope"}},[e("a-radio-group",{model:{value:t.form.scope,callback:function(e){t.$set(t.form,"scope",e)},expression:"form.scope"}},[e("a-radio",{attrs:{value:0}},[t._v(" 全部员工 ")]),e("a-radio",{attrs:{value:1}},[t._v(" 部门可用 ")])],1)],1),1===t.form.scope?e("a-form-model-item",{attrs:{label:"选择可用部门"}},[e("AddContent",{attrs:{title:"请选择部门",type:"wxDepartmentId",tip:"",dataList:t.selectList},on:{selectPerson:t.selectPerson}})],1):t._e(),e("FormlabelAdd",{attrs:{form:t.form}})],1)],1),e("div",{staticClass:"foot-button"},[e("a-space",{attrs:{size:12}},[e("a-button",{on:{click:function(e){return t.$emit("cancle")}}},[t._v("取消")]),e("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("确定")])],1)],1)])},s=[],n=a("5530"),r=(a("d81d"),a("d3b7"),a("99af"),a("159b"),a("c740"),a("a434"),a("e1ae")),o=a("1119"),l=a("7183"),c={props:{tagDetail:{type:[Object],default:function(){return{}}}},computed:{statusText:function(){return this.tagDetail.groupId?"修改":"新增"}},data:function(){return{formLayout:"horizontal",labelCol:{span:5},wrapperCol:{span:14},selectList:[],form:{tagGroupName:"",scope:0,value:"",tagList:[{value:"",key:Date.now()}]},rules:{tagGroupName:[{required:!0,message:"标签组名称不能为空"}],tagList:[{required:!0,message:"标签名称不能为空"}]}}},created:function(){var t;if(null!==(t=this.tagDetail)&&void 0!==t&&t.groupId&&(this.form={tagGroupName:this.tagDetail.groupName,scope:this.tagDetail.depScope?1:0,tagList:this.tagDetail.tags.map((function(t){return Object(n["a"])(Object(n["a"])({},t),{},{value:t.tagName,key:t.tagId,tagId:t.tagId,wxTagId:t.wxTagId})}))},this.tagDetail.depNames&&this.tagDetail.depScope)){var e=this.tagDetail.depNames.split(","),a=this.tagDetail.depScope.split(",");this.selectList=e.map((function(t,e){return{icon:"file",key:a[e],source:{departmentId:a[e],wxDepartmentId:a[e],name:t},title:t}}))}},components:{AddContent:r["a"],FormlabelAdd:o["a"]},methods:{selectPerson:function(t){this.selectList=t},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;e.validate().then((function(){e.addOrEditTagGroup()})).catch((function(t){e.$message.warning(t.message||t)}))}))},validate:function(){var t=this;return new Promise((function(e,a){1===t.form.scope&&t.selectList.length<1&&a("请选择部门");for(var i=t.form.tagList,s=0;s<i.length;s++){var n=i[s];n.value||a("请填写标签名称");for(var r=s+1;r<i.length;r++)n.value===i[r].value&&a("第".concat(s+1,"个和第").concat(r+1,"个标签名重复"))}e()}))},getAddParams:function(){var t,e,a={tagGroupName:this.form.tagGroupName,scope:this.form.scope,addOrEditTags:null===(t=this.form.tagList)||void 0===t?void 0:t.map((function(t){return{tagName:t.value}})),departments:null===(e=this.selectList)||void 0===e?void 0:e.map((function(t){return{wxDepartmentId:t.source.wxDepartmentId}}))};return a},getEditParams:function(){var t,e,a=this,i=[],s=[];this.tagDetail.tags.forEach((function(t){var e=a.form.tagList.findIndex((function(e){if(t.wxTagId===e.wxTagId)return e}));e<0&&i.push({tagName:t.tagName,wxTagId:t.wxTagId})})),this.form.tagList.forEach((function(t){t.wxTagId?a.tagDetail.tags.forEach((function(e){e.wxTagId===t.wxTagId&&e.tagName!==t.value&&s.push({tagName:t.value,wxTagId:e.wxTagId})})):s.push({tagName:t.value})})),null===(t=this.form.tagList)||void 0===t||t.map((function(t){return{tagName:t.value,wxTagId:t.wxTagId}}));var n={wxGroupId:this.tagDetail.wxGroupId,tagGroupName:this.form.tagGroupName,scope:this.form.scope,delTags:i,addOrEditTags:s,departments:null===(e=this.selectList)||void 0===e?void 0:e.map((function(t){return{wxDepartmentId:t.source.wxDepartmentId}}))};return 0===this.form.scope&&delete n.departments,n},addOrEditTagGroup:function(){var t,e=this,a=null!==(t=this.tagDetail)&&void 0!==t&&t.groupId?this.getEditParams():this.getAddParams();Object(l["a"])(a).then((function(){e.$message.success("".concat(e.statusText,"标签成功")),e.$emit("serviceOk")})).catch((function(t){e.$message.error(t||t.message)}))},removeDomain:function(t){var e=this.form.tagList.indexOf(t);-1!==e&&this.form.tagList.splice(e,1)}}},u=c,d=(a("ac43"),a("2877")),p=Object(d["a"])(u,i,s,!1,null,"95b22908",null);e["a"]=p.exports},cf5f:function(t,e,a){"use strict";a.d(e,"k",(function(){return n})),a.d(e,"r",(function(){return r})),a.d(e,"l",(function(){return o})),a.d(e,"m",(function(){return l})),a.d(e,"a",(function(){return c})),a.d(e,"e",(function(){return u})),a.d(e,"i",(function(){return d})),a.d(e,"p",(function(){return p})),a.d(e,"q",(function(){return m})),a.d(e,"u",(function(){return f})),a.d(e,"v",(function(){return h})),a.d(e,"x",(function(){return g})),a.d(e,"t",(function(){return v})),a.d(e,"o",(function(){return b})),a.d(e,"g",(function(){return A})),a.d(e,"b",(function(){return x})),a.d(e,"h",(function(){return C})),a.d(e,"s",(function(){return w})),a.d(e,"c",(function(){return y})),a.d(e,"n",(function(){return D})),a.d(e,"f",(function(){return I})),a.d(e,"w",(function(){return L})),a.d(e,"j",(function(){return k})),a.d(e,"y",(function(){return T})),a.d(e,"d",(function(){return S}));var i=a("b775"),s={syncUpdate:"/client_transformation/oss/syncArticle",getOfficialAccount:"/client_transformation/oss/getPublicAccount",getLastSyncTime:"/client_transformation/oss/getLastSyncTime",upload:"/client_transformation/oss/upload",update:"/client_transformation/oss/update",materialList:"/client_transformation/oss/page",deleteMaterial:"/client_transformation/oss/delete",addTag:"/client_transformation/materialTag/add",deleteTag:"/client_transformation/materialTag/delete",tagList:"/client_transformation/materialTag/page",updateTag:"/client_transformation/materialTag/update",addWelcome:"/client_transformation/welcome/add",listWelcome:"/client_transformation/welcome/page",delWelcome:"/client_transformation/welcome/delWelcome",detailWelcome:"/client_transformation/welcome/detail",updateWelcome:"/client_transformation/welcome/update",addCustomerSend:"/client_transformation/customerSend/add",delCustomerSend:"/client_transformation/customerSend/delete",pageCustomerSend:"/client_transformation/customerSend/page",upDateCustomerSend:"/client_transformation/customerSend/update",addSersonSop:"/client_transformation/personSop/add",delGroupSop:"/client_transformation/personSop/delGroupSop",detailPersonSop:"/client_transformation/personSop/detail",pagePersonSop:"/client_transformation/personSop/page",setPersonSopStaff:"/client_transformation/personSop/setPersonSopStaff",updatePersonSop:"/client_transformation/personSop/update",updateStatus:"/client_transformation/personSop/updateStatus",interactiveRadarUploadFile:"/client_group/upload/uploadFile",uploadMedia:"/client_group/upload/uploadMedia",channelCodeUploadFile:"/channel/channelCode/uploadFile"};function n(t){return Object(i["b"])({url:s.getLastSyncTime,method:"get",params:t})}function r(t){return Object(i["b"])({url:s.syncUpdate,method:"get",params:t})}function o(t){return Object(i["b"])({url:s.getOfficialAccount,method:"get",params:t})}function l(t){return Object(i["b"])({url:s.interactiveRadarUploadFile,method:"post",data:t})}function c(t){return Object(i["b"])({url:s.addSersonSop,method:"post",data:t})}function u(t){return Object(i["b"])({url:s.delGroupSop,method:"post",params:t})}function d(t){return Object(i["b"])({url:s.detailPersonSop,method:"get",params:t})}function p(t){return Object(i["b"])({url:s.pagePersonSop,method:"get",params:t})}function m(t){return Object(i["b"])({url:s.setPersonSopStaff,method:"post",data:t})}function f(t){return Object(i["b"])({url:s.updatePersonSop,method:"post",data:t})}function h(t){return Object(i["b"])({url:s.updateStatus,method:"post",params:t})}function g(t){return Object(i["b"])({url:s.upload,method:"post",data:t})}function v(t){return Object(i["b"])({url:s.update,method:"post",data:t})}function b(t){return Object(i["b"])({url:s.materialList,method:"get",params:t})}function A(t){return Object(i["b"])({url:s.deleteMaterial,method:"get",params:t})}function x(t){return Object(i["b"])({url:s.addTag,method:"post",data:t})}function C(t){return Object(i["b"])({url:s.deleteTag,method:"get",params:t})}function w(t){return Object(i["b"])({url:s.tagList,method:"get",params:t})}function y(t){return Object(i["b"])({url:s.addWelcome,method:"post",data:t})}function D(t){return Object(i["b"])({url:s.listWelcome,method:"get",params:t})}function I(t){return Object(i["b"])({url:s.delWelcome,method:"post",params:t})}function L(t){return Object(i["b"])({url:s.updateWelcome,method:"post",data:t})}function k(t){return Object(i["b"])({url:s.detailWelcome,method:"get",params:t})}function T(t){return Object(i["b"])({url:s.uploadMedia,method:"post",data:t})}function S(t){return Object(i["b"])({url:s.channelCodeUploadFile,method:"post",data:t})}},cfa1:function(t,e,a){},d5fc:function(t,e,a){},d990:function(t,e,a){},da00:function(t,e,a){"use strict";a.d(e,"f",(function(){return n})),a.d(e,"e",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return l})),a.d(e,"b",(function(){return c})),a.d(e,"d",(function(){return u}));var i=a("b775"),s={save:"/marketing/fissiontask/save",invitationCustomer:"/marketing/fissiontask/invitationCustomer",fissiontaskList:"/marketing/fissiontask/list",fissiontaskDelete:"/marketing/fissiontask/delete",fissiontaskInfo:"/marketing/fissiontask/info",fissiontaskUpdate:"marketing/fissiontask/update"};function n(t){return Object(i["b"])({url:s.save,method:"post",data:t})}function r(t){return Object(i["b"])({url:s.invitationCustomer,method:"post",data:t})}function o(t){return Object(i["b"])({url:s.fissiontaskList,method:"post",data:t})}function l(t){return Object(i["b"])({url:s.fissiontaskDelete,method:"post",params:t})}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(i["b"])({url:s.fissiontaskInfo+"/"+t,method:"get"})}function u(t){return Object(i["b"])({url:s.fissiontaskUpdate,method:"post",data:t})}},da08:function(t,e,a){"use strict";a("e73a")},e1ae:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",["look"!==t.state?e("header",[e("a-button",{attrs:{type:"primary"},on:{click:function(e){t.visibleTree=!0}}},[e("a-icon",{attrs:{type:"plus"}}),t._v(" "+t._s(t.title)+" ")],1),t.tip?e("span",{staticClass:"font-color-black-25 tips"},[t._v(t._s(t.tip))]):t._e()],1):t._e(),e("ul",t._l(t.selectList,(function(a,i){return e("a-tag",{key:a.key,attrs:{closable:"look"!==t.state},on:{close:function(e){return t.closeTag(i)}}},[a.source.thumbAvatar?e("a-avatar",{attrs:{size:26,src:a.source.thumbAvatar,shape:"square"}}):e("a-avatar",{attrs:{size:26,icon:a.icon,shape:"square"}}),t._v(" "+t._s(a.title)+" ")],1)})),1),e("a-modal",{attrs:{footer:null,centered:"",width:"680px",destroyOnClose:""},model:{value:t.visibleTree,callback:function(e){t.visibleTree=e},expression:"visibleTree"}},[e("AddTransfer",{attrs:{selectRoleIdList:t.selectRoleIdList,title:t.title,type:t.type,selectList:t.selectList},on:{serviceOk:t.serviceOk,cancle:function(e){t.visibleTree=!1}}})],1)],1)},s=[],n=(a("d81d"),a("a434"),a("1eb1")),r={name:"AddContent",props:{value:{type:[Array],default:function(){return[]}},state:{type:[String],default:""},selectRoleIdList:{type:[Array,String],default:function(){return""}},type:{type:[String],default:"wxDepartmentId"},title:{type:[String],default:"添加成员"},tip:{type:[String],default:""},dataList:{type:[Array],default:function(){return[]}}},components:{AddTransfer:n["a"]},data:function(){return{visibleTree:!1,selectList:[]}},watch:{selectList:function(){this.$emit("selectPerson",this.selectList),this.$emit("input",this.selectList)},dataList:{handler:function(){this.selectList=this.dataList},immediate:!0}},methods:{serviceOk:function(t){var e=t.map((function(t){return t.value=100,t}));this.selectList=e,this.visibleTree=!1},closeTag:function(t){this.selectList.splice(t,1)}}},o=r,l=(a("1531"),a("2877")),c=Object(l["a"])(o,i,s,!1,null,"53952032",null);e["a"]=c.exports},e6b1:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"phone-model"},[e("img",{staticClass:"bg",attrs:{src:"/imgs/chatBg.png"}}),e("div",{staticClass:"contant"},[e("p",{staticClass:"time"},[t._v(t._s(t.time))]),t.textList.length>0?e("ul",t._l(t.textList,(function(a,i){return e("li",{key:i,staticClass:"contant-list"},["img"===a.type?[e("img",{staticClass:"user",attrs:{src:"/icons/user.png"}}),e("div",{staticClass:"contant-main"},[e("img",{staticClass:"upload-img",attrs:{src:a.pic_url.compress}})])]:t._e(),"link"===a.type?[e("img",{staticClass:"user",attrs:{src:"/icons/user.png"}}),e("div",{staticClass:"contant-title"},[e("a-tooltip",{attrs:{title:a.linkTitle}},[e("p",{staticClass:"contant-subtitle"},[t._v(t._s(a.linkTitle))])]),e("div",{staticClass:"contant-contant"},[a.desc?e("a-tooltip",{attrs:{title:a.desc}},[e("span",[t._v(t._s(a.desc))])]):t._e(),e("a-avatar",{attrs:{src:a.coverUrl.compress,size:32,shape:"square"}})],1)],1)]:t._e(),a.type?t._e():[e("img",{staticClass:"user",attrs:{src:"/icons/user.png"}}),e("div",{staticClass:"contant-main"},[t._v(t._s(a))])]],2)})),0):t._e()])])},s=[],n={name:"PhoneModel",data:function(){return{time:this.$moment().format("HH:mm")}},props:{textList:{type:[Array],default:function(){return[]}}},watch:{textList:function(){}}},r=n,o=(a("8e34"),a("2877")),l=Object(o["a"])(r,i,s,!1,null,"1aa7a172",null);e["a"]=l.exports},e73a:function(t,e,a){},edda:function(t,e,a){},ee1f:function(t,e,a){},ee54:function(t,e,a){},ee7c:function(t,e,a){"use strict";a("ff8e")},f0b2:function(t,e,a){"use strict";a("b4f0")},f5f4:function(t,e,a){"use strict";a("8e2e")},ff8e:function(t,e,a){}}]);