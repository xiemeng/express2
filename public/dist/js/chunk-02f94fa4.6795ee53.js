(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02f94fa4"],{"161b":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return o}));var n=a("b775"),i={queryGroupPageByGroupSop:"/client_group/customerGroup/queryGroupPageByGroupSop",addOrEditGroupTag:"/client_group/groupTagController/addOrEditGroupTag",delGroupTag:"/client_group/groupTagController/delGroupTag",queryGroupTag:"/client_group/groupTagController/queryGroupTag"};function s(t){return Object(n["b"])({url:i.addOrEditGroupTag,method:"post",data:t})}function r(t){return Object(n["b"])({url:i.delGroupTag,method:"post",data:t})}function o(t){return Object(n["b"])({url:i.queryGroupTag,method:"post",data:t})}},"1a88":function(t,e,a){"use strict";a("2da8")},"1f70":function(t,e,a){"use strict";a("3495")},"26d1":function(t,e,a){"use strict";a("2cf1")},"2cf1":function(t,e,a){},"2da8":function(t,e,a){},3495:function(t,e,a){},"487a":function(t,e,a){(function(e,a){t.exports=a()})(0,(function(){"use strict";var t="@@InfiniteScroll",e=function(t,e){var a,n,i,s,r,o=function(){t.apply(s,r),n=a};return function(){if(s=this,r=arguments,a=Date.now(),i&&(clearTimeout(i),i=null),n){var t=e-(a-n);t<0?o():i=setTimeout((function(){o()}),t)}else o()}},a=function(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop},n=document.defaultView.getComputedStyle,i=function(t){var e=t;while(e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType){var a=n(e).overflowY;if("scroll"===a||"auto"===a)return e;e=e.parentNode}return window},s=function(t){return t===window?document.documentElement.clientHeight:t.clientHeight},r=function(t){return t===window?a(window):t.getBoundingClientRect().top+a(window)},o=function(t){var e=t.parentNode;while(e){if("HTML"===e.tagName)return!0;if(11===e.nodeType)return!1;e=e.parentNode}return!1},c=function(){if(!this.binded){this.binded=!0;var t=this,a=t.el,n=a.getAttribute("infinite-scroll-throttle-delay"),s=200;n&&(s=Number(t.vm[n]||n),(isNaN(s)||s<0)&&(s=200)),t.throttleDelay=s,t.scrollEventTarget=i(a),t.scrollListener=e(l.bind(t),t.throttleDelay),t.scrollEventTarget.addEventListener("scroll",t.scrollListener),this.vm.$on("hook:beforeDestroy",(function(){t.scrollEventTarget.removeEventListener("scroll",t.scrollListener)}));var r=a.getAttribute("infinite-scroll-disabled"),o=!1;r&&(this.vm.$watch(r,(function(e){t.disabled=e,!e&&t.immediateCheck&&l.call(t)})),o=Boolean(t.vm[r])),t.disabled=o;var c=a.getAttribute("infinite-scroll-distance"),u=0;c&&(u=Number(t.vm[c]||c),isNaN(u)&&(u=0)),t.distance=u;var d=a.getAttribute("infinite-scroll-immediate-check"),h=!0;d&&(h=Boolean(t.vm[d])),t.immediateCheck=h,h&&l.call(t);var f=a.getAttribute("infinite-scroll-listen-for-event");f&&t.vm.$on(f,(function(){l.call(t)}))}},l=function(t){var e=this.scrollEventTarget,n=this.el,i=this.distance;if(!0===t||!this.disabled){var o=a(e),c=o+s(e),l=!1;if(e===n)l=e.scrollHeight-c<=i;else{var u=r(n)-r(e)+n.offsetHeight+o;l=c+i>=u}l&&this.expression&&this.expression()}},u={bind:function(e,a,n){e[t]={el:e,vm:n.context,expression:a.value};var i=arguments;e[t].vm.$on("hook:mounted",(function(){e[t].vm.$nextTick((function(){o(e)&&c.call(e[t],i),e[t].bindTryCount=0;var a=function a(){e[t].bindTryCount>10||(e[t].bindTryCount++,o(e)?c.call(e[t],i):setTimeout(a,50))};a()}))}))},unbind:function(e){e&&e[t]&&e[t].scrollEventTarget&&e[t].scrollEventTarget.removeEventListener("scroll",e[t].scrollListener)}},d=function(t){t.directive("InfiniteScroll",u)};return window.Vue&&(window.infiniteScroll=u,Vue.use(d)),u.install=d,u}))},"56bb":function(t,e,a){"use strict";a.d(e,"h",(function(){return s})),a.d(e,"f",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"e",(function(){return c})),a.d(e,"d",(function(){return l})),a.d(e,"a",(function(){return u})),a.d(e,"i",(function(){return d})),a.d(e,"g",(function(){return h})),a.d(e,"j",(function(){return f})),a.d(e,"b",(function(){return m})),a.d(e,"k",(function(){return p}));var n=a("b775"),i={page:"/client_manager/transfer/page",transferGroupList:"/client_manager/transfer/transferGroupList",getCustomerList:"/client_manager/transfer/onDuty/getCustomerList",assign:"/client_manager/transfer/assign",transfer:"/client_manager/transfer/sync",record:"/client_manager/transfer/record/sync",groupTransfer:"/client_manager/transfer/groupTransfer",nowassign:"/client_manager/transfer/onDuty/assign",getGroupOwner:"/client_manager/transfer/getGroupOwner",ondutyTransferRecord:"/client_manager/transfer/ondutyTransferRecord",quitRecord:"/client_manager/transfer/record",transferGroupRecord:"/client_manager/transfer/transferGroupRecord"};function s(t){return Object(n["b"])({url:i.quitRecord,method:"post",data:t})}function r(t){return Object(n["b"])({url:i.ondutyTransferRecord,method:"post",data:t})}function o(){return Object(n["b"])({url:i.getGroupOwner,method:"get"})}function c(t){return Object(n["b"])({url:i.nowassign,method:"post",data:t})}function l(t){return Object(n["b"])({url:i.groupTransfer,method:"post",data:t})}function u(t){return Object(n["b"])({url:i.assign,method:"post",data:t})}function d(){return Object(n["b"])({url:i.transfer,method:"get"})}function h(t){return Object(n["b"])({url:i.page,method:"post",data:t})}function f(t){return Object(n["b"])({url:i.transferGroupList,method:"post",data:t})}function m(t){return Object(n["b"])({url:i.getCustomerList,method:"get",params:t})}function p(t){return Object(n["b"])({url:i.transferGroupRecord,method:"post",data:t})}},7183:function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"d",(function(){return r})),a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return c}));var n=a("b775"),i={getTagGroup:"/client_manager/CustomerTag/getTagGroup",syncTagGroup:"/client_manager/CustomerTag/syncTagGroup",addOrEditTagGroup:"/client_manager/CustomerTag/addOrEditTagGroup",delTagGroup:"/client_manager/CustomerTag/delTagGroup"};function s(t){return Object(n["b"])({url:i.getTagGroup,method:"post",data:t})}function r(t){return Object(n["b"])({url:i.syncTagGroup,method:"post",data:t})}function o(t){return Object(n["b"])({url:i.addOrEditTagGroup,method:"post",data:t})}function c(t){return Object(n["b"])({url:i.delTagGroup,method:"post",data:t})}},"7e11":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAF/UlEQVRYR+1YbYtVVRR+1j73zjUmS5G0mslAJ6RE0TKwT6k0vk0ERTpKb2ikRiijXwok6A+URhBIDJUlmprWCCZjvmR9MzOndCKhLBslh2qwHOfOPXuvWPvlnDPj3PBkhh+8cDnn7rPP3s9+nvWsvfYlXOMfusbx4TrAK1XoOoNXncH1R3mBYSwnwmRm3HKlE8r7ROhmRocibGiZStv+acyqEjMzrf8aW5ix8L8AVW0MImxtmYJFRMRD9akKcN1RbmHGuqsJLoxNhNWrp9L6fAC/4sMMTPtfAAJfrr6X7s8FcM0XXDFAgVmYT4kOOthmAOG5/GQM6stpWzKMbfPv+veJKH5rJhVzAWz5XKZOJ7QAfIsAToCTtNuHNvrlkrwn/ckvzrc7oOF9axnbv3WWGjLcqsbgqkOGw4R2Sj9wwDwAiOAzDqCRq+MWUMovxC8iAeamtYv0C2idFVYykMeqAFceCiJmJBnEIMmExkAwSe8Zda7vwTNCq8xNNjqScPDcZhWwbDPw9kM5GRSATlK/2qzcliT3TJgzzBhby1g6MUJsgNZvY3T1KtuHlEol9SRlQyUw+U5egC98FiTOxKGP9CCN0cIegzVj8QSFhpHKAuz8zWDH9xoUCTiAosgz6caSdyz7iSLAu/kBOhuEFbp7p5eTlAEjsWcwumSwbEoRFUMWYMUwNh6roLtCUBKHQiYRiJQTeYhY3NiYU+LnD7potxKHYGZAG4Oba4DxNzFGlQgjS4z6GxUKUQAnAIEL/Yyfzxv8fpHRUwG6LgB9LAABUs7tWaDvNeY0yQoLMMSfSyPWoUxYORkYXUuoaFjGLGtyz0C/BjS73wI0PO/uZbSf1lAiu7CaZEOXZt7Py+DyAw5gMhA7x+rYYEY9YeZYZ4gEiAflJM4A9/cdv8bo7GEXl6KmdXiaDzfNzinxsgSgj0Nxq2DWBnElxpw7I0yrK6YMZoAFgIHV42f70dGtQcUIqhBZgAI03QoIm2bnlHjZAZdmklUyQWsNjg10RcOUNeY2FDCpruQY8xLLfSI9A9+dKePw6TKiUsECtN9I2fTj3OxCfPOcnAw+t9+tL6mBmGDTinxjg/hiBSMKBkunD7exJ9JK/GUlFrC7jvTgIhSoVISqEQYLYCtxUsvYObbMycngs/tcHrSJ3q7S5TtJzI7BGLcOYzw+pXbImAtM7j9xHj2xghLmagpAwbHnAPoYZ+CDuTkZXOoBptnQ7xoShyJzv8aEEYwHxw8baBaRO2OYI6d60XWBoUTiQmS/1iRhf3e7NrbmBbhEAPrknI1FMYoUYsLi9NsUJo5xRvmzbHDsx15rpIY7ahEpt6ucPNePk3/EiEpFIDg4ISt18bZ5ORlcss95JJROyVWSnGHr5IbhwH11BRzvKqPjVB/6JAgVUKMiNNTfgNtHldB5tg/nygQqKKBYsEnaGs9Hd9iutucF+MynKbwkYUuyFoByrRiYioauGLCObTvZ4sE4AKIiSewpqFLRS+t2DwcwYxJmfDg/J4NP780WC2k9J+zJ4AEgG+3M40sutz/6TYiUM4VNK2TvXf2XqQf9drpjfk4XPyUABwzkZLFull1FG+9sAzZp+ZXGrTApWFwlg0iKBWF2cI3oXLKzKSeDT+41qYFDiR9Sg68BbQoSRn1FRpKjDZ8g0N0AakLlYl0bqjZfZQ+W+KO8AJ9o93txkCtzDgnnEWOMiyUiJsZ2rfvXqo1tP5jmR8ZRqeY1VnhY+tp1KZLqzN6708HAevDj/ADTnTJbWF5y6CHarwgvbm7EkcGnsuY9mKeB1w1zQ3iWlv9pbwZxW5ME7KWfqmeSxe38C5jrwoEtyfxhBqJjzHhp21zaM9TAoW3lbi6dZqwBYS0YtQPSSzivEHXuaqJ7cgFc1M4rALwpFWs4cvqD0E9G4eWJjdj0CpG1x+V8HtvN9THjVYAXpocmuaO/QHisrYn25gIonZvbeQEbrGJgkgKOMmHnmHHY8MZdVL4cUEP1efQTfkAbNDNjMgjfkEJr2zzqqDbe9f8H/y3T6T5zpSNc5feveYn/Br+E6FYwuzODAAAAAElFTkSuQmCC"},"8c90":function(t,e,a){"use strict";a("c439")},"8d92":function(t,e,a){},"90a8":function(t,e,a){"use strict";a.d(e,"q",(function(){return s})),a.d(e,"p",(function(){return r})),a.d(e,"x",(function(){return o})),a.d(e,"e",(function(){return c})),a.d(e,"j",(function(){return l})),a.d(e,"A",(function(){return u})),a.d(e,"a",(function(){return d})),a.d(e,"b",(function(){return h})),a.d(e,"v",(function(){return f})),a.d(e,"w",(function(){return m})),a.d(e,"z",(function(){return p})),a.d(e,"h",(function(){return g})),a.d(e,"i",(function(){return b})),a.d(e,"o",(function(){return v})),a.d(e,"u",(function(){return T})),a.d(e,"m",(function(){return y})),a.d(e,"f",(function(){return S})),a.d(e,"k",(function(){return x})),a.d(e,"l",(function(){return C})),a.d(e,"y",(function(){return _})),a.d(e,"g",(function(){return w})),a.d(e,"d",(function(){return L})),a.d(e,"c",(function(){return N})),a.d(e,"s",(function(){return O})),a.d(e,"r",(function(){return k})),a.d(e,"t",(function(){return A})),a.d(e,"n",(function(){return E}));var n=a("b775"),i={customerList:"/client_manager/client/getCustomerList",dictionaryByCode:"/client_manager/client/getDictionaryByCode",distinctNum:"/client_manager/client/getDistinctNum",syncCustomerData:"/client_manager/client/syncCustomerData",tagGroup:"/client_manager/CustomerTag/getTagGroup ",customerLoss:"/client_manager/customerLoss/page",batchTagging:"/client_manager/CustomerTag/batchTagging",batchTaggingFront:"/client_manager/CustomerTag/batchTaggingFront",batchDelTagFront:"/client_manager/CustomerTag/batchDelTagFront",findByCustomerGroup:"/client_manager/client/findByCustomerGroup",findByCustomerEvent:"/client_manager/client/findByCustomerEvent",findEventByCustomerWxid:"/client_manager/client/findEventByCustomerWxid",findByCustomField:"/client_manager/client/findByCustomField",exportDown:"/client_manager/customerLoss/export",getCustomerListExport:"/client_manager/client/getCustomerListExport",findByCustomFieldExport:"/client_manager/client/findByCustomFieldExport",customerScoreExport:"/client_manager/customerScore/customerScoreExport",customerScore:"/client_manager/customerScore/customerScore",updateScore:"/client_manager/customerScore/updateScore",historyList:"/client_manager/customerScore/list",getTemplateList:"/client_manager/customerEvent/getTemplateList",addTemplateEvent:"/client_manager/customerEvent/addTemplateEvent",addTemplate:"/client_manager/customerEvent/addTemplate",updateTemplate:"/client_manager/customerEvent/updateTemplate",delTemplate:"/client_manager/customerEvent/delTemplate",findByCustomIntegral:"/client_manager/customerIntegral/findByCustomIntegral",findByCustomIntegralExport:"/client_manager/customerIntegral/findByCustomIntegralExport",channelList:"/client_manager/customerIntegral/channelList",integralList:"/client_manager/customerIntegral/integralList"};function s(t){return Object(n["b"])({url:i.findByCustomIntegralExport,method:"post",data:t,responseType:"blob"})}function r(t){return Object(n["b"])({url:i.findByCustomIntegral,method:"post",data:t})}function o(t){return Object(n["b"])({url:i.integralList,method:"post",data:t})}function c(t){return Object(n["b"])({url:i.channelList,method:"get",params:t})}function l(t){return Object(n["b"])({url:i.delTemplate,method:"get",params:t})}function u(t){return Object(n["b"])({url:i.updateTemplate,method:"get",params:t})}function d(t){return Object(n["b"])({url:i.addTemplate,method:"get",params:t})}function h(t){return Object(n["b"])({url:i.addTemplateEvent,method:"get",params:t})}function f(t){return Object(n["b"])({url:i.getTemplateList,method:"get",params:t})}function m(t){return Object(n["b"])({url:i.historyList,method:"get",params:t})}function p(t){return Object(n["b"])({url:i.updateScore,method:"post",data:t})}function g(t){return Object(n["b"])({url:i.customerScore,method:"post",data:t})}function b(t){return Object(n["b"])({url:i.customerScoreExport,method:"post",data:t,responseType:"blob"})}function v(t){return Object(n["b"])({url:i.findByCustomFieldExport,method:"post",data:t,responseType:"blob"})}function T(t){return Object(n["b"])({url:i.getCustomerListExport,method:"get",params:t,responseType:"blob"})}function y(t){return Object(n["b"])({url:i.exportDown,method:"post",data:t,responseType:"blob"})}function S(t){return Object(n["b"])({url:i.customerList,method:"get",params:t})}function x(t){return Object(n["b"])({url:i.dictionaryByCode,method:"get",params:t})}function C(t){return Object(n["b"])({url:i.distinctNum,method:"get",params:t})}function _(){return Object(n["b"])({url:i.tagGroup,method:"post",data:{}})}function w(t){return Object(n["b"])({url:i.customerLoss,method:"post",data:t})}function L(t){return Object(n["b"])({url:i.batchTaggingFront,method:"post",data:t})}function N(t){return Object(n["b"])({url:i.batchDelTagFront,method:"post",data:t})}function O(t){return Object(n["b"])({url:i.findByCustomerGroup,method:"post",data:t})}function k(t){return Object(n["b"])({url:i.findByCustomerEvent,method:"post",data:t})}function A(t){return Object(n["b"])({url:i.findEventByCustomerWxid,method:"post",data:t})}function E(t){return Object(n["b"])({url:i.findByCustomField,method:"post",data:t})}},9694:function(t,e,a){},"976c":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"transfer page-box"},[e("div",{staticClass:"flex-row"},[e("div",{staticClass:"ant-tabs-nav"},[e("div",{class:[{active:t.defalutActive},"tab"],on:{click:function(e){return t.tabswitch(0)}}},[t._v("离职继承"),e("span")]),e("div",{class:[{active:!t.defalutActive},"tab"],on:{click:function(e){return t.tabswitch(1)}}},[t._v("在职转接"),e("span")])]),e("a-button",{attrs:{type:"link"},on:{click:function(e){t.settingshow=!0}}},[e("a-icon",{staticClass:"icon",attrs:{type:"setting"}}),t._v("设置")],1)],1),e("div",{staticClass:"search"},[e("SearchForm",{attrs:{stateTab:t.stateActiveVal},on:{choiceallocated:t.choiceallocated}})],1),e("div",{staticStyle:{"margin-top":"20px"}},[e("CustomerTable",{attrs:{stateTab:t.stateActiveVal,toBeallocated:t.toBeallocated}})],1),e("a-modal",{staticClass:"noBottomBorder",attrs:{centered:!0,width:584,okText:"保存"},on:{ok:t.portraiOk,cancel:t.portraiCancel},model:{value:t.settingshow,callback:function(e){t.settingshow=e},expression:"settingshow"}},[e("div",{staticClass:"box"},[e("h2",{staticClass:"dialog-title"},[t._v("设置")]),e("div",{staticClass:"blue-tips"},[e("a-icon",{staticClass:"bell",attrs:{type:"bell",theme:"filled"}}),t._v("若继承客户之前已添加继承员工，客户画像信息将不会继承 ")],1),e("div",{staticClass:"setting-box"},[e("label",[t._v("客户画像继承：")]),e("div",{staticClass:"col-1"},[e("div",{staticClass:"flex-row"},[e("a-switch",{staticStyle:{"margin-right":"6px"},attrs:{size:"small","default-checked":""},on:{change:t.onportraitChange}}),t._v(t._s(t.portraitTxt))],1),e("div",{staticClass:"tips"},[t._v("开启后企业通过在职继承或离职继承客户，将同步客户信息至继承员工客户画像，方便员工跟进客户。")])])])])])],1)},i=[],s=(a("b0c0"),function(){var t=this,e=t._self._c;return e("div",{on:{click:t.hidexbxo}},[e("a-form",{staticClass:"search-form auto-box",staticStyle:{"padding-top":"16px"},attrs:{layout:"inline",labelAlign:"right"}},["0"==t.stateTab?e("div",[e("div",{staticClass:"filter-header"},[e("div",{staticClass:"nav-container"},[e("div",{staticStyle:{"border-left":"1px solid #e8e8e8",display:"flex"}},[e("div",{class:[{active:t.defalutState},"base-tab"],on:{click:function(e){return t.tabState("0")}}},[t._v("待分配客户")]),e("div",{class:[{active:!t.defalutState},"base-tab"],on:{click:function(e){return t.tabState("1")}}},[t._v("待分配群聊")])])])])]):t._e(),t.defalutState&&"0"==t.stateTab?e("div",{on:{click:function(e){return t.hideDaysbox()}}},[e("a-row",{attrs:{type:"flex"}},[e("a-col",{staticClass:"r-b-16"},[e("a-form-item",{attrs:{label:"客户昵称"}},[e("a-input-search",{staticStyle:{width:"280px"},attrs:{allowClear:"",placeholder:"请输入要搜索的客户"},on:{search:t.onSearchName},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}})],1)],1),e("a-col",{staticClass:"r-b-16"},[e("a-form-item",{attrs:{label:"所属客服"}},[e("a-select",{staticStyle:{width:"220px"},attrs:{allowClear:"",suffixIcon:"down",mode:"multiple",placeholder:"请选择客服","option-label-prop":"label",dropdownMatchSelectWidth:!1,open:t.isOpen},on:{focus:function(e){t.isOpen=!0},blur:t.serviceBlur,change:t.serviceChange},model:{value:t.serviceList,callback:function(e){t.serviceList=e},expression:"serviceList"}},[e("div",{staticClass:"transfer",attrs:{slot:"dropdownRender"},slot:"dropdownRender"},[e("StaffList",{attrs:{type:"customer"},on:{isSearchNoHide:t.isSearchNoHide,closeopencustomer:t.closeopencustomer}})],1)])],1)],1),e("a-col",{staticClass:"r-b-16"},[e("a-form-item",{attrs:{label:"客户标签"}},[e("div",{on:{click:function(e){return t.activelable(0)}}},[e("a-select",{ref:"labelname",staticStyle:{width:"220px"},attrs:{allowClear:"",mode:"multiple",placeholder:"请选择标签",open:!1},on:{change:t.labelkefuchange},model:{value:t.labelkefuList,callback:function(e){t.labelkefuList=e},expression:"labelkefuList"}})],1)])],1)],1),e("a-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex"}},[e("a-col",{staticClass:"r-b-16"},[e("a-form-item",{attrs:{label:"添加时间"}},[e("a-range-picker",{staticStyle:{width:"280px"},attrs:{"disabled-date":t.disabledDate,value:t.showAddDateTime},on:{change:t.changeAddDate}},[e("a-icon",{attrs:{slot:"suffixIcon",type:"calendar"},slot:"suffixIcon"})],1)],1)],1),e("a-col",{staticClass:"r-b-16"},[e("a-form-item",{attrs:{label:"添加渠道"}},[e("a-select",{staticStyle:{width:"220px"},attrs:{placeholder:"请选择渠道",allowClear:""},on:{change:t.channelChange},model:{value:t.channelmodel,callback:function(e){t.channelmodel=e},expression:"channelmodel"}},t._l(t.channelList,(function(a,n){return e("a-select-option",{key:n,attrs:{value:a.value}},[t._v(" "+t._s(a.name)+" ")])})),1)],1)],1),e("a-col",{staticClass:"r-b-16"},[e("a-form-item",{attrs:{label:"添加客户状态"}},[e("a-select",{staticStyle:{width:"220px"},attrs:{placeholder:"请选择客户状态",allowClear:""},on:{change:t.statusListchange},model:{value:t.statusmodel,callback:function(e){t.statusmodel=e},expression:"statusmodel"}},t._l(t.statusList,(function(a,n){return e("a-select-option",{key:n,attrs:{value:a.value}},[t._v(" "+t._s(a.name)+" ")])})),1)],1)],1)],1)],1):t._e(),"1"==t.stateTab?e("div",[e("TransferSearchForm",{attrs:{time2:t.time2,channelmodeltrans:t.channelmodeltrans,channelList:t.channelList}})],1):t._e(),t.defalutState||"0"!=t.stateTab?t._e():e("div",{on:{click:function(e){return t.hideDaysbox()}}},[e("a-row",{attrs:{type:"flex"}},[e("a-col",{staticClass:"r-b-16"},[e("a-form-item",{attrs:{label:"群名称"}},[e("a-input-search",{staticStyle:{width:"280px"},attrs:{allowClear:"",placeholder:"请输入要搜索群名称"},on:{search:t.onSearchGroup},model:{value:t.searchGroup,callback:function(e){t.searchGroup=e},expression:"searchGroup"}})],1)],1),e("a-col",{staticClass:"r-b-16"},[e("a-form-item",{attrs:{label:"群主"}},[e("a-select",{ref:"labelname",staticStyle:{width:"220px"},attrs:{placeholder:"请选择群主","option-label-prop":"label",mode:"multiple",allowClear:"",dropdownMatchSelectWidth:!1,open:t.isOpengroup},on:{focus:function(e){t.isOpengroup=!0},blur:t.groupBlur,change:t.changegroup},model:{value:t.opengroup,callback:function(e){t.opengroup=e},expression:"opengroup"}},[e("div",{attrs:{slot:"dropdownRender"},slot:"dropdownRender"},[e("GroupList",{attrs:{isEmpty:t.isEmpty},on:{isNoHide:t.isNoHide,closeopengroup:t.closeopengroup}})],1)])],1)],1),e("a-col",{staticClass:"r-b-16"},[e("a-form-item",{attrs:{label:"群标签"}},[e("div",{on:{click:function(e){return t.activelable(1)}}},[e("a-select",{ref:"labelname",staticStyle:{width:"220px"},attrs:{placeholder:"请选择群标签",allowClear:"",mode:"multiple",open:!1},on:{change:t.labelqunchange},model:{value:t.labelList,callback:function(e){t.labelList=e},expression:"labelList"}})],1)])],1)],1),"1"==t.stateTab?e("a-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex"}},[e("a-col",{staticClass:"r-b-16"},[e("a-form-item",{attrs:{label:"添加时间"}},[e("a-range-picker",{staticStyle:{width:"280px"},attrs:{"disabled-date":t.disabledDate,value:t.groupshowAddDateTime},on:{change:t.groupchangeAddDate}},[e("a-icon",{attrs:{slot:"suffixIcon",type:"calendar"},slot:"suffixIcon"})],1)],1)],1),e("a-col",{staticClass:"r-b-16"},[e("a-form-item",{attrs:{label:"添加渠道"}},[e("a-select",{staticStyle:{width:"220px"},attrs:{placeholder:"请选择渠道",allowClear:""},on:{change:t.groupchannelChange},model:{value:t.groupchannelmodel,callback:function(e){t.groupchannelmodel=e},expression:"groupchannelmodel"}},t._l(t.channelList,(function(a,n){return e("a-select-option",{key:n,attrs:{value:a.value}},[t._v(" "+t._s(a.name)+" ")])})),1)],1)],1),e("a-col",{directives:[{name:"show",rawName:"v-show",value:"0"==t.stateTab,expression:"stateTab == '0'"}],staticClass:"r-b-16"},[e("a-form-item",{attrs:{label:"添加客户状态"}},[e("a-select",{staticStyle:{width:"220px"},attrs:{placeholder:"请选择客户状态",allowClear:""},on:{change:t.statusListchange},model:{value:t.statusmodel,callback:function(e){t.statusmodel=e},expression:"statusmodel"}},t._l(t.statusList,(function(a,n){return e("a-select-option",{key:n,attrs:{value:a.value}},[t._v(" "+t._s(a.name)+" ")])})),1)],1)],1)],1):t._e()],1),e("div",{staticClass:"bttm"},[e("a-button",{staticClass:"reset-btn",on:{click:t.handleReset}},[t._v("重置")])],1),e("a-modal",{staticClass:"noBottomBorder",attrs:{allowClear:"",centered:!0,width:600,okText:"保存"},on:{ok:t.labelOk,cancel:t.labelCancel},model:{value:t.labelShow,callback:function(e){t.labelShow=e},expression:"labelShow"}},[e("div",{staticClass:"box"},[e("h2",{staticClass:"dialog-title"},[t._v("选择标签")]),e("div",{staticClass:"flex"},[e("span",{class:[{active:t.defalutLabelActive},"tab"],on:{click:function(e){return t.tabLabel(0)}}},[t._v("以下标签满足其中之一")]),e("span",{class:[{active:!t.defalutLabelActive},"tab"],on:{click:function(e){return t.tabLabel(1)}}},[t._v("以下标签同时满足")])]),e("a-input-search",{staticClass:"search-box",attrs:{placeholder:t.tagplaceholder},on:{search:t.onSearchLabel,pressEnter:t.onSearchLabel},model:{value:t.searchLabel,callback:function(e){t.searchLabel=e},expression:"searchLabel"}}),t._l(t.groupList,(function(a,n){return e("div",{key:n,staticClass:"tag-group"},[e("p",{staticClass:"tag-group-name"},[t._v(t._s(a.groupName||a.grpTagName)+"：")]),e("div",{staticClass:"group-wrap"},t._l(a.tags,(function(a,n){return e("li",{key:n,staticClass:"tag",class:[{active:t.spanIndex.indexOf(a.tagId)>-1},"tab"],on:{click:function(e){return t.changeSpan(a.tagId,a.tagName)}}},[t._v(" "+t._s(a.tagName)+" ")])})),0)])}))],2)])],1)],1)}),r=[],o=(a("a434"),a("d81d"),a("a15b"),a("b7fd")),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"groupbox"},[e("div",{staticClass:"title"},[t._v(" 全部群主 ("+t._s(t.groupdata.length)+") ")]),e("div",{staticClass:"search-box"},[e("a-input-search",{attrs:{allowClear:"",placeholder:"请输入群主名称"},on:{search:t.onSearchGroupleader,pressEnter:t.onSearchGroupleader,blur:t.blursearch,focus:t.searchClick},model:{value:t.searchGroupleader,callback:function(e){t.searchGroupleader=e},expression:"searchGroupleader"}})],1),e("div",{staticClass:"list-wrap"},[e("a-list",{attrs:{"data-source":t.groupdata},scopedSlots:t._u([{key:"renderItem",fn:function(a,n){return e("div",{key:n,staticClass:"list-item"},[e("div",{staticClass:"item-content",on:{click:function(e){return t.choiceGroup(a)}}},[e("img",{staticClass:"avatar",attrs:{src:a.avatar,alt:""}}),e("span",{staticClass:"name"},[t._v(t._s(a.name))])]),t.defalytGroupIndex==a.staffId?e("a-icon",{staticClass:"img",attrs:{type:"check-circle"}}):e("div",{staticClass:"circle"})],1)}}])})],1)])},l=[],u=a("56bb"),d={props:{isEmpty:{type:Boolean,default:!1}},data:function(){return{groupdata:[],defalytGroupIndex:"",searchGroupleader:""}},created:function(){this.getDictionaryByCode()},methods:{searchClick:function(){this.$emit("isNoHide","1")},blursearch:function(){this.$emit("isNoHide","2")},getDictionaryByCode:function(){var t=this;Object(u["c"])().then((function(e){var a;!t.searchName&&(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.length)>0?t.groupdata=e.data:t.groupdata=e.data||[]}))},onSearchGroupleader:function(){this.$emit("isNoHide","0"),this.getDictionaryByCode()},choiceGroup:function(t){this.defalytGroupIndex=t.staffId,this.$emit("closeopengroup",t)}},watch:{isEmpty:{handler:function(){this.isEmpty&&(this.defalytGroupIndex="")}}}},h=d,f=(a("1f70"),a("2877")),m=Object(f["a"])(h,c,l,!1,null,"72ebb2d6",null),p=m.exports,g=a("487a"),b=a.n(g),v=a("90a8"),T=a("7183"),y=a("b9cd"),S=a("1eb1"),x=function(){var t=this,e=t._self._c;return e("div",{staticClass:"abs",on:{click:function(e){return t.hideDaysbox()}}},[e("a-row",{staticStyle:{"text-align":"right"}},[e("a-col",{attrs:{span:7}},[e("a-form-item",{attrs:{label:"客户昵称"}},[e("a-input-search",{staticStyle:{width:"280px"},attrs:{placeholder:"请输入要搜索的客户"},on:{search:t.ontransSearchName,pressEnter:t.ontransSearchName},model:{value:t.transsearchName,callback:function(e){t.transsearchName=e},expression:"transsearchName"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{label:"所属客服"}},[e("a-select",{staticStyle:{width:"220px"},attrs:{allowClear:"",suffixIcon:"down",mode:"multiple",placeholder:"请选择客服","option-label-prop":"label",dropdownMatchSelectWidth:!1,open:t.isOpentrans},on:{focus:function(e){t.isOpentrans=!0},change:t.serviceChangetrans},model:{value:t.transserviceList,callback:function(e){t.transserviceList=e},expression:"transserviceList"}},[e("div",{staticClass:"transfer",attrs:{slot:"dropdownRender"},slot:"dropdownRender"},[e("StaffList",{attrs:{type:"Staff"},on:{closeopencustomer:t.closeopencustomertrans}})],1)])],1)],1),e("a-col",{attrs:{span:7}},[e("a-form-item",{attrs:{label:"客户标签"}},[e("div",{on:{click:function(e){return t.activelable()}}},[e("a-select",{ref:"labelname2",staticStyle:{width:"220px"},attrs:{allowClear:"",mode:"multiple",placeholder:"请选择标签",open:!1},on:{change:t.translabelkefuchange},model:{value:t.translabelkefuList,callback:function(e){t.translabelkefuList=e},expression:"translabelkefuList"}})],1)])],1)],1),e("a-row",{staticStyle:{"text-align":"right","margin-top":"10px"}},[e("a-col",{attrs:{span:7}},[e("a-form-item",{attrs:{label:"添加时间"}},[e("a-range-picker",{staticStyle:{width:"280px"},attrs:{"disabled-date":t.disabledDate,value:t.showAddDateTimetrans},on:{change:t.transchangeAddDate}},[e("a-icon",{attrs:{slot:"suffixIcon",type:"calendar"},slot:"suffixIcon"})],1)],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{label:"添加渠道"}},[e("a-select",{staticStyle:{width:"220px"},attrs:{placeholder:"请选择渠道",allowClear:""},on:{change:t.channelChangetrans},model:{value:t.transchannelmodel,callback:function(e){t.transchannelmodel=e},expression:"transchannelmodel"}},t._l(t.channelList,(function(a,n){return e("a-select-option",{key:n,attrs:{value:a.value}},[t._v(" "+t._s(a.name)+" ")])})),1)],1)],1)],1),e("a-modal",{staticClass:"noBottomBorder",attrs:{allowClear:"",centered:!0,width:600,okText:"保存1"},on:{ok:t.translabelOk,cancel:t.translabelCancel},model:{value:t.translabelShow,callback:function(e){t.translabelShow=e},expression:"translabelShow"}},[e("div",{staticClass:"box"},[e("h2",{staticClass:"dialog-title"},[t._v("选择标签")]),e("div",{staticClass:"flex"},[e("span",{class:[{active:t.defalutLabelActive},"tab"],on:{click:function(e){return t.tabLabel(0)}}},[t._v("以下标签满足其中之一")]),e("span",{class:[{active:!t.defalutLabelActive},"tab"],on:{click:function(e){return t.tabLabel(1)}}},[t._v("以下标签同时满足")])]),e("a-input-search",{staticClass:"search-box",attrs:{placeholder:t.tagplaceholder},on:{search:t.onSearchLabel,pressEnter:t.onSearchLabel},model:{value:t.searchLabel,callback:function(e){t.searchLabel=e},expression:"searchLabel"}}),t._l(t.groupList,(function(a,n){return e("div",{key:n,staticClass:"tag-group"},[e("p",{staticClass:"tag-group-name"},[t._v(t._s(a.groupName)+"：")]),e("div",{staticClass:"group-wrap"},t._l(a.tags,(function(a,n){return e("li",{key:n,staticClass:"tag",class:[{active:t.spanIndex.indexOf(a.bitmap)>-1},"tab"],on:{click:function(e){return t.changeSpan(a.bitmap,a.tagName)}}},[t._v(" "+t._s(a.tagName)+" ")])})),0)])}))],2)])],1)},C=[],_=a("5530"),w=(a("a9e3"),a("2f62")),L={props:{channelList:{type:Array,default:function(){return[]}},time2:{type:Number,default:null}},created:function(){},data:function(){return{translabelShow:!1,transsearchName:"",transchannelmodel:[],isOpentrans:!1,transserviceList:[],translabelkefuList:[],groupList:[],searchLabel:"",tagplaceholder:"请输入企业标签",spanIndex:[],spanName:[],filterType:2,defalutLabelActive:!0,showAddDateTimetrans:null}},components:{StaffList:o["a"]},methods:{tabLabel:function(t){"0"==t?(this.defalutLabelActive=!0,this.filterType=2):(this.defalutLabelActive=!1,this.filterType=1)},activelable:function(){var t=this;this.tagplaceholder="请输入企业标签";var e={tagName:this.searchLabel||""};Object(T["c"])(e).then((function(e){t.groupList=e.data.tagGroup||[]})),this.isOpentrans=!1,this.translabelShow=!0,this.$refs.labelname2.blur()},onSearchLabel:function(){},translabelOk:function(){this.translabelShow=!1,this.translabelkefuList=this.spanName.map((function(t){return t.tagName}));var t=this.spanIndex.join(","),e=this.filterType;this.$store.commit("SET_CUSTOMERTAG",{customerTag:t,filterType:e})},translabelkefuchange:function(t){if(t<=0){var e=void 0,a=void 0;this.$store.commit("SET_CUSTOMERTAG",{customerTag:e,filterType:a})}else{var n=[],i=this;t.map((function(t){i.spanName.map((function(e){t==e.tagName&&n.push(e.tagName)}))}));var s=n.join(","),r=this.filterType;this.$store.commit("SET_CUSTOMERTAG",{customerTag:s,filterType:r})}},translabelCancel:function(){},hideDaysbox:function(){this.isOpentrans=!1},ontransSearchName:function(){var t=this.transsearchName;this.$store.commit("SET_SEARCH_NAME_MOVE",t)},serviceChangetrans:function(t){if(this.isOpentrans=!1,t.length<=0){var e=void 0;this.$store.commit("SET_STAFFUSERID",e)}},closeopencustomertrans:function(t){this.isOpentrans=!1;var e=t.userid;this.transserviceList=t.name,this.$store.commit("SET_STAFFUSERID",e)},transchangeAddDate:function(t,e){this.showAddDateTimetrans=t,e[0]?this.$store.commit("SET_ADD_DATE",{addTimeTo:e[1],addTimeFrom:e[0]}):this.$store.commit("SET_ADD_DATE",{addTimeTo:void 0,addTimeFrom:void 0})},channelChangetrans:function(t){var e=t;this.channelmodel=t,this.$store.commit("SET_CHANNELD",e)},changeSpan:function(t,e){var a=this.spanIndex.indexOf(t),n=this.spanName.indexOf(e);if(a>-1)this.spanIndex.splice(a,1),this.spanName.splice(n,1);else{this.spanIndex.push(t);var i={tagName:e,index:t};this.spanName.push(i)}},disabledDate:function(t){return t&&t>Date.now()}},computed:Object(_["a"])({},Object(w["c"])({channelId:function(t){return t.customer.channelId}})),watch:{channelId:{handler:function(t,e){void 0==t&&(this.transchannelmodel=[])}},time2:{handler:function(t,e){this.transsearchName="",this.transserviceList=[],this.translabelkefuList=[],this.transchannelmodel=[],this.showAddDateTimetrans=null}}}},N=L,O=(a("26d1"),Object(f["a"])(N,x,C,!1,null,"9e799b42",null)),k=O.exports,A=a("161b"),E={name:"SearchForm",directives:{infiniteScroll:b.a},data:function(){return{flagBox:"0",time2:null,flagBox2:"0",isEmpty:!1,tabStateval:"0",showAddDateTime:null,groupshowAddDateTime:null,tagplaceholder:"请输入企业标签",statusmodel:[],channelmodel:[],channelmodeltrans:[],groupchannelmodel:[],opengroup:[],opengroupstaffId:[],labelkefuList:[],selectList:[],originalList:[],isOpengroup:!1,defalutState:!0,searchName:"",searchGroup:"",spanName:[],serviceList:[],labelList:[],isOpen:!1,isNumOpen:!1,selectTime:[],channelList:[],statusList:[{name:"新客户",channelId:"1"},{name:"初步沟通",channelId:"2"},{name:"意向客户",channelId:"3"},{name:"付款客户",channelId:"4"},{name:"无意向客户",channelId:"5"}],labelShow:!1,defalutLabelActive:!0,groupList:[],spanIndex:[],searchLabel:"",filterType:1,grpName:"",activelableVal:"0"}},props:{stateTab:{type:String,default:"0"}},created:function(){"0"==this.$route.meta.searchTab?(this.defalutState=!0,this.tabStateval="0",this.$emit("choiceallocated",{val:this.tabStateval})):(this.defalutState=!1,this.tabStateval="1",this.$emit("choiceallocated",{val:this.tabStateval})),this.getDictionaryByCode()},components:{GroupList:p,AddTransfer:S["a"],StaffList:o["a"],TransferSearchForm:k},methods:{closeopencustomer:function(t){this.isOpen=!1;var e=t.userid;this.serviceList=t.name,this.$store.commit("SET_STAFFUSERID",e)},statusListchange:function(t){var e=t;this.statusmodel=t,this.$store.commit("SET_CUSTOMER_STATUS",e)},channelChange:function(t){var e=t;this.channelmodel=t,this.$store.commit("SET_CHANNELD",e)},groupchannelChange:function(){},closeopengroup:function(t){this.isOpengroup=!1,this.opengroup.push(t.name),this.opengroupstaffId=[],this.opengroupstaffId.push(t.userid);var e=this.opengroupstaffId;this.isEmpty=!1,this.$store.commit("SET_GROUPOWNERID",e)},changegroup:function(){if(this.opengroup.length<=0){this.opengroup=[],this.isEmpty=!0;var t=void 0;this.$store.commit("SET_GROUPOWNERID",t),this.isOpengroup=!1}},isNoHide:function(t){"1"==t?this.flagBox="1":("2"==t||"0"==t)&&(this.flagBox="0")},isSearchNoHide:function(t){"1"==t?this.flagBox2="1":("2"==t||"0"==t)&&(this.flagBox2="0")},hidexbxo:function(){"0"==this.flagBox&&(this.isOpengroup=!1),"0"==this.flagBox2&&(this.isOpen=!1)},groupBlur:function(){"0"==this.flagBox&&(this.isOpengroup=!1)},serviceBlur:function(){"0"==this.flagBox2&&(this.isOpen=!1)},onSearchGroup:function(){var t=this.searchGroup||void 0;this.$store.commit("SET_GROUPNAME",t)},tabState:function(t){"0"==t?(this.defalutState=!0,this.$route.meta.searchTab=0):(this.defalutState=!1,this.$route.meta.searchTab=1),this.tabStateval=t,this.$emit("choiceallocated",{val:t})},activelable:function(t){var e=this;if(this.activelableVal=t,"0"==t){this.tagplaceholder="请输入企业标签";var a={tagName:this.searchLabel||""};Object(T["c"])(a).then((function(t){e.groupList=t.data.tagGroup||[]}))}else this.tagplaceholder="请输入群标签",Object(A["c"])({grpName:this.grpName}).then((function(t){e.groupList=t.data||[]}));this.isOpen=!1,this.labelShow=!0},tabLabel:function(t){this.isNumOpen=!1,this.isOpen=!1,this.isOpengroup=!1,"0"==t?(this.defalutLabelActive=!0,this.filterType=2):(this.defalutLabelActive=!1,this.filterType=1)},onSearchLabel:function(){var t=this,e={tagName:this.searchLabel||""};"0"==this.activelableVal?Object(T["c"])(e).then((function(e){t.groupList=e.data.tagGroup||[]})):Object(A["c"])({grpName:this.searchLabel}).then((function(e){t.groupList=e.data||[]}))},changeSpan:function(t,e){var a=this.spanIndex.indexOf(t),n=this.spanName.indexOf(e);if(a>-1)this.spanIndex.splice(a,1),this.spanName.splice(n,1);else{this.spanIndex.push(t);var i={tagName:e,index:t};this.spanName.push(i)}},labelOk:function(){if(this.labelShow=!1,"0"==this.activelableVal){this.labelkefuList=this.spanName.map((function(t){return t.tagName}));var t=this.spanIndex.join(","),e=this.filterType;this.$store.commit("SET_CUSTOMERTAG",{customerTag:t,filterType:e})}else{this.labelList=this.spanName.map((function(t){return t.tagName}));var a=this.spanIndex.join(","),n=this.filterType;this.$store.commit("SET_GROUPTAG",{groupTag:a,filterType:n})}},labelkefuchange:function(t){if(t<=0){var e=void 0,a=void 0;this.$store.commit("SET_CUSTOMERTAG",{customerTag:e,filterType:a})}else{var n=[],i=this;t.map((function(t){i.spanName.map((function(e){t==e.tagName&&n.push(e.tagName)}))}));var s=n.join(","),r=this.filterType;this.$store.commit("SET_CUSTOMERTAG",{customerTag:s,filterType:r})}},labelqunchange:function(t){if(t<=0){var e=void 0,a=void 0;this.$store.commit("SET_GROUPTAG",{groupTag:e,filterType:a})}else{var n=[],i=this;t.map((function(t){i.spanName.map((function(e){t==e.tagName&&n.push(e.tagName)}))}));var s=n.join(","),r=this.filterType;this.$store.commit("SET_GROUPTAG",{groupTag:s,filterType:r})}},labelCancel:function(){this.labelShow=!1},onSearchName:function(){var t=this.searchName;this.$store.commit("SET_SEARCH_NAME_MOVE",t)},disabledDate:function(t){return t&&t>Date.now()},handleReset:function(){if("0"==this.stateTab)if("0"==this.tabStateval){this.showAddDateTime=null;var t=void 0;this.searchName="",this.statusmodel=[],this.channelmodel=[];var e=void 0,a=void 0,n=void 0,i=void 0;this.serviceList=[],this.labelkefuList=[],this.$store.commit("SET_CUSTOMERTAG",{customerTag:n,filterType:i}),this.$store.commit("SET_STAFFUSERID",a),this.$store.commit("SET_ADD_DATE",{addTimeTo:void 0,addTimeFrom:void 0}),this.$store.commit("SET_CUSTOMER_STATUS",t),this.$store.commit("SET_CHANNELD",e),this.$store.commit("SET_SEARCH_NAME",this.searchName),this.$store.commit("SET_SEARCH_NAME_MOVE",this.searchName)}else{this.searchGroup="";var s=this.searchGroup||void 0;this.opengroup=[],this.labelList=[];var r=void 0,o=void 0,c=void 0;this.$store.commit("SET_GROUPTAG",{groupTag:o,filterType:c}),this.$store.commit("SET_GROUPOWNERID",r),this.$store.commit("SET_GROUPNAME",s)}else{this.time2=(new Date).getTime(),this.showAddDateTime=null,this.searchName="",this.statusmodel=[],this.channelmodeltrans=[];var l=void 0,u=void 0,d=void 0,h=void 0;this.$store.commit("SET_CUSTOMERTAG",{customerTag:d,filterType:h}),this.$store.commit("SET_STAFFUSERID",u),this.$store.commit("SET_ADD_DATE",{addTimeTo:void 0,addTimeFrom:void 0}),this.$store.commit("SET_CHANNELD",l),this.$store.commit("SET_SEARCH_NAME",this.searchName),this.$store.commit("SET_SEARCH_NAME_MOVE",this.searchName)}},sureNum:function(){this.isNumOpen=!1,this.maxNum<this.minNum?this.$message.error("最大天数必须大于最小天数"):this.maxNum&&this.minNum?this.selectTime=this.minNum+"～"+this.maxNum:this.selectTime=[]},hideDaysbox:function(){try{this.isNumOpen=!1,this.isOpen=!1,this.isOpengroup=!1}catch(t){}},numchange:function(t){if("0"==t){if(this.minNum<0)return void(this.minNum=0)}else if(this.maxNum<0)return void(this.maxNum=0)},serviceChange:function(t){if(this.isOpen=!1,t.length<=0){var e=void 0;this.$store.commit("SET_STAFFUSERID",e)}},changeDate:function(t,e){},changeAddDate:function(t,e){this.showAddDateTime=t,e[0]?this.$store.commit("SET_ADD_DATE",{addTimeTo:e[1]+" 23:59:59",addTimeFrom:e[0]+" 00:00:00"}):this.$store.commit("SET_ADD_DATE",{addTimeTo:void 0,addTimeFrom:void 0})},groupchangeAddDate:function(t,e){},getDictionaryByCode:function(){var t=this;Object(v["k"])({code:y["b"]}).then((function(e){t.channelList=null===e||void 0===e?void 0:e.data})),Object(v["k"])({code:y["d"]}).then((function(e){t.statusList=null===e||void 0===e?void 0:e.data}))}}},G=E,I=(a("8c90"),Object(f["a"])(G,s,r,!1,null,"382da7c5",null)),j=I.exports,D=function(){var t=this,e=t._self._c;return e("div",{staticClass:"customer-table-wrap"},["0"==t.toBeallocated&&"0"==t.stateTab?e("div",{staticClass:"table-header"},[e("div",{staticClass:"flexd"},[e("div",{staticStyle:{display:"flex"}},[e("strong",[t._v("共"+t._s(t.paginationone.total)+"个待分配客户")]),e("span",{class:[{line:t.lastSyncTimeShow},"select-count"]},[t._v("已选择 "+t._s(t.selectedRowKeys.length)+"个客户")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.lastSyncTimeShow,expression:"lastSyncTimeShow"}]},[t._v("上次同步时间："+t._s(t.lastSyncTime))])]),e("div",{staticStyle:{display:"flex"}},[e("a-button",{class:[{notdised:!t.hasSelected},"reset-btn"],staticStyle:{"margin-right":"12px"},on:{click:function(e){return t.distributionchoice(e,"0")}}},[t._v("分配客户")]),e("a-button",{class:[{notdised:!t.hasSelected3},"reset-btn"],staticStyle:{"margin-right":"12px"},attrs:{type:"link"},on:{click:function(e){return t.$router.push({name:"quitRecord",query:{type:0}})}}},[t._v("分配记录")]),e("a-button",{staticClass:"reset-btn",attrs:{loading:t.syncloading},on:{click:t.synchronization}},[t._v("同步")])],1)])]):t._e(),"1"==t.toBeallocated&&"0"==t.stateTab?e("div",{staticClass:"table-header"},[e("div",{staticClass:"flexd"},[e("div",{staticStyle:{display:"flex"}},[e("strong",[t._v("共"+t._s(t.paginationtwo.total)+"个待分配群聊")]),e("span",{staticClass:"select-count"},[t._v("已选择"+t._s(t.selectedRowKeys2.length)+"个群聊")])]),e("div",{staticStyle:{display:"flex"}},[e("a-button",{class:[{notdised:!t.hasSelected2},"reset-btn"],staticStyle:{"margin-right":"12px"},on:{click:function(e){return t.distributionchoice(e,"1")}}},[t._v("分配群聊")]),e("a-button",{class:[{notdised:!t.hasSelected3},"reset-btn"],staticStyle:{"margin-right":"12px"},attrs:{type:"link"},on:{click:function(e){return t.$router.push({name:"quitRecord",query:{type:1}})}}},[t._v(" 分配记录 ")])],1)]),e("div",{staticClass:"transfer-group-tips"},[t._v("提示：群聊分配会存在时间延迟，可以稍后刷新页面查看")])]):t._e(),"1"==t.stateTab?e("div",{staticClass:"table-header"},[e("div",{staticClass:"flexd"},[e("div",{staticStyle:{display:"flex"}},[e("strong",[t._v("共"+t._s(t.paginationthree.total)+"个待分配客户")]),e("span",{staticClass:"select-count"},[t._v("已选择"+t._s(t.selectedRowKeys3.length)+"个客户")])]),e("div",{staticStyle:{display:"flex"}},[e("a-button",{class:[{notdised:!t.hasSelected3},"reset-btn"],staticStyle:{"margin-right":"12px"},on:{click:function(e){return t.distributionchoice(e,"2")}}},[t._v("分配客户")]),e("a-button",{class:[{notdised:!t.hasSelected3},"reset-btn"],staticStyle:{"margin-right":"12px"},attrs:{type:"link"},on:{click:function(e){return t.$router.push({name:"record",query:{missionId:1}})}}},[t._v("分配记录")])],1)])]):t._e(),"0"==t.toBeallocated&&"0"==t.stateTab?e("div",[e("a-table",{attrs:{columns:t.columns,"row-selection":{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange},"data-source":t.clientList,pagination:t.paginationone,loading:t.tableLoading},on:{change:t.changeone},scopedSlots:t._u([{key:"info",fn:function(a){return e("div",{staticClass:"name-list"},[e("a-avatar",{staticClass:"portrait",attrs:{shape:"square",size:"default",src:a.avatar}}),e("div",[e("p",[t._v(t._s(a.name))])]),a.corpName?e("span",{staticStyle:{color:"#eda150"}},[t._v("@"+t._s(a.corpName))]):e("span",{staticClass:"external-user",staticStyle:{color:"#5ec75d"}},[t._v("@微信")])],1)}},{key:"staffName",fn:function(a){return a?e("a-tag",{},[e("a-icon",{staticClass:"primaryColor",attrs:{type:"customer-service"}}),t._v(" "+t._s(a)+" ")],1):t._e()}},{key:"score",fn:function(n){return e("span",{staticClass:"winged-tag integral-tag score-tag"},[e("div",{staticClass:"flex-row full-h"},[e("img",{staticClass:"winged-tag-icon",attrs:{src:a("7e11"),alt:""}}),e("div",{staticClass:"full-h"},[t._v(t._s(n))])])])}},{key:"tagNameList",fn:function(a){return e("div",{staticClass:"tag-name-list"},[a.length>0&&Array.isArray(a)?e("div",{class:[{mheight:a.length>=4}]},t._l(a,(function(a){return e("a-tag",{key:a},[t._v(" "+t._s(a)+" ")])})),1):e("div",[t._v("-")]),a.length>=4&&Array.isArray(a)?e("div",{staticClass:"clickable",on:{click:function(e){return t.openMore(e)}}},[e("span",[t._v("展开")])]):t._e()])}},{key:"operation",fn:function(a){return e("div",{staticClass:"operation"},["0"==a.hasChat?e("a-tooltip",{attrs:{title:"所属客服未开通消息存档"}},[e("a-button",{staticClass:"chat",attrs:{type:"link",disabled:""}},[t._v(" 聊天记录 ")])],1):t._e(),"1"==a.hasChat?e("a-tooltip",{attrs:{title:"当前客户与所属客服没有聊天记录"}},[e("a-button",{staticClass:"chat",attrs:{type:"link",disabled:""}},[t._v(" 聊天记录 ")])],1):t._e(),"2"==a.hasChat?e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.jump(a)}}},[t._v("聊天记录")]):t._e(),e("div",{staticClass:"a-vertical"}),e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.clientDetail(a)}}},[t._v("客户详情")])],1)}}],null,!0)})],1):t._e(),"1"==t.toBeallocated&&"0"==t.stateTab?e("div",[e("a-table",{attrs:{columns:t.quncolumns,"row-selection":{selectedRowKeys:t.selectedRowKeys2,onChange:t.onSelectChange2},"data-source":t.groupList,pagination:t.paginationtwo,loading:t.tableLoading},on:{change:t.changetwo},scopedSlots:t._u([{key:"ownerName",fn:function(a){return a?e("a-tag",{},[e("a-icon",{staticClass:"primaryColor",attrs:{type:"customer-service"}}),t._v(" "+t._s(a)+" ")],1):t._e()}},{key:"score",fn:function(n){return e("span",{staticClass:"winged-tag integral-tag score-tag"},[e("div",{staticClass:"flex-row full-h"},[e("img",{staticClass:"winged-tag-icon",attrs:{src:a("7e11"),alt:""}}),e("div",{staticClass:"full-h"},[t._v(t._s(n))])])])}},{key:"tagNameList",fn:function(a){return e("div",{staticClass:"tag-name-list"},[a.length>0&&Array.isArray(a)?e("div",{class:[{mheight:a.length>=4}]},t._l(a,(function(a){return e("a-tag",{key:a,staticClass:"max-wd"},[t._v(" "+t._s(a)+" ")])})),1):e("div",[t._v("-")]),a.length>=4&&Array.isArray(a)?e("div",{staticClass:"clickable",on:{click:function(e){return t.openMore(e)}}},[e("span",[t._v("展开")])]):t._e()])}},{key:"operation",fn:function(a){return e("div",{},[e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.lookDetail(a)}}},[t._v("群详情")])],1)}}],null,!0)})],1):t._e(),"1"==t.stateTab?e("div",[e("a-table",{attrs:{columns:t.losecolumns,"row-selection":{selectedRowKeys:t.selectedRowKeys3,onChange:t.onSelectChange3},"data-source":t.transList,pagination:t.paginationthree,loading:t.tableLoading},on:{change:t.changethree},scopedSlots:t._u([{key:"info",fn:function(a){return e("div",{staticClass:"name-list"},[e("a-avatar",{staticClass:"portrait",attrs:{shape:"square",size:"default",src:a.avatar}}),e("div",[e("p",[t._v(t._s(a.name))])]),a.corpName?e("span",{staticStyle:{color:"#eda150"}},[t._v("@"+t._s(a.corpName))]):e("span",{staticClass:"external-user",staticStyle:{color:"#5ec75d"}},[t._v("@微信")])],1)}},{key:"staffName",fn:function(a){return a?e("a-tag",{},[e("a-icon",{staticClass:"primaryColor",attrs:{type:"customer-service"}}),t._v(" "+t._s(a)+" ")],1):t._e()}},{key:"score",fn:function(n){return e("span",{staticClass:"winged-tag integral-tag score-tag"},[e("div",{staticClass:"flex-row full-h"},[e("img",{staticClass:"winged-tag-icon",attrs:{src:a("7e11"),alt:""}}),e("div",{staticClass:"full-h"},[t._v(t._s(n))])])])}},{key:"tagNameList",fn:function(a){return e("div",{staticClass:"tag-name-list"},[a.length>0&&Array.isArray(a)?e("div",{class:[{mheight:a.length>=4}]},t._l(a,(function(a){return e("a-tag",{key:a},[t._v(" "+t._s(a)+" ")])})),1):e("div",[t._v("-")]),a.length>=4&&Array.isArray(a)?e("div",{staticClass:"clickable",on:{click:function(e){return t.openMore(e)}}},[e("span",[t._v("展开")])]):t._e()])}},{key:"operation",fn:function(a){return e("div",{staticClass:"operation"},["0"==a.hasChat?e("a-tooltip",{attrs:{title:"所属客服未开通消息存档"}},[e("a-button",{staticClass:"chat",attrs:{type:"link",disabled:""}},[t._v(" 聊天记录 ")])],1):t._e(),"1"==a.hasChat?e("a-tooltip",{attrs:{title:"当前客户与所属客服没有聊天记录"}},[e("a-button",{staticClass:"chat",attrs:{type:"link",disabled:""}},[t._v(" 聊天记录 ")])],1):t._e(),"2"==a.hasChat?e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.jump(a)}}},[t._v("聊天记录")]):t._e(),e("div",{staticClass:"a-vertical"}),e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.clientDetail(a)}}},[t._v("客户详情")])],1)}}],null,!0)})],1):t._e(),e("a-modal",{staticClass:"noBottomBorder",attrs:{centered:!0,width:586,destroyOnClose:""},on:{ok:t.distributionOk,cancel:t.distributionCancel},model:{value:t.distributionShow,callback:function(e){t.distributionShow=e},expression:"distributionShow"}},[e("div",{staticClass:"box"},[e("h2",{staticClass:"dialog-title"},[t._v("分配"+t._s(t.txtName))]),"0"==t.toBeallocated&&"0"==t.stateTab?e("div",{staticClass:"blue-tips"},[e("a-icon",{staticClass:"bell",attrs:{type:"bell"}}),t._v(" 转接后客户将在24小时后成功转接，若客户拒绝，本次转接将不会生效 ")],1):t._e(),"1"==t.toBeallocated&&"0"==t.stateTab?e("div",{staticClass:"blue-tips"},[e("a-icon",{staticClass:"bell",attrs:{type:"bell"}}),t._v(" 注意：分配后，群聊将会直接交给接替成员，由他作为群主来继续管理群聊 ")],1):t._e(),"1"==t.stateTab?e("div",{staticClass:"blue-tips"},[e("a-icon",{staticClass:"bell",attrs:{type:"bell"}}),t._v(" 可将选中的客户转接给其他员工，进行后续服务 "),e("p",{staticStyle:{"margin-top":"8px","margin-left":"20px"}},[t._v(" 注意：90天内客户只能被转接一次，一个客户最多只能被转接两次 "),e("a",{attrs:{href:"https://shimo.im/docs/m4kMLxpaegCnGzqD/read",target:"_blank"}},[t._v("详情")])])],1):t._e(),e("div",{staticClass:"setting-box"},[e("label",[t._v("接替员工：")]),e("a-select",{ref:"labelname",staticStyle:{width:"220px"},attrs:{placeholder:"请选择接替员工","option-label-prop":"label",dropdownMatchSelectWidth:!1,open:t.isOpenstaff},on:{focus:function(e){t.isOpenstaff=!0},change:function(e){t.isOpenstaff=!1}},model:{value:t.openstaff,callback:function(e){t.openstaff=e},expression:"openstaff"}},[e("div",{attrs:{slot:"dropdownRender"},slot:"dropdownRender"},[e("StaffList",{attrs:{type:"Staff"},on:{closeopenstaff:t.closeopenstaff}})],1)])],1),e("div",{staticClass:"tips"},[t._v(" 未找到接替员工？ ")])])]),e("a-modal",{staticClass:"noBottomBorder",attrs:{destroyOnClose:"",centered:!0,width:416},on:{ok:t.reconfirmShowOk},model:{value:t.reconfirmShow,callback:function(e){t.reconfirmShow=e},expression:"reconfirmShow"}},[e("div",{staticClass:"box"},[e("h2",{staticClass:"dialog-title",staticStyle:{"text-align":"left"}},[t._v("提示")]),e("p",[t._v("操作后将不可撤销，确定转接客户吗？")])])])],1)},R=[],B=(a("d3b7"),{1:"渠道码",2:"区域扫码",3:"自动拉群",4:"一客一码",5:"其他渠道"}),M={props:{stateTab:{type:String,default:"0"},toBeallocated:{type:String,default:"0"}},data:function(){return{staffEusMap:{},lastSyncTime:"",distributionStatus:"0",transList:[],external_userid:[],lastSyncTimeShow:!1,reconfirmShow:!1,selectedRowKeys:[],selectedRowKeys2:[],selectedRowKeys3:[],txtName:"客户",distributionShow:!1,isOpenstaff:!1,openstaff:[],syncloading:!1,clientList:[],groupList:[],transferList:[],tableLoading:!1,paginationone:{current:1,pageSize:10,total:0},paginationtwo:{current:1,pageSize:10,total:0},paginationthree:{current:1,pageSize:10,total:0},columns:[{title:"客户昵称",dataIndex:"info",scopedSlots:{customRender:"info"},key:"info"},{title:"所属客服",dataIndex:"staffName",scopedSlots:{customRender:"staffName"},key:"staffName"},{title:"客户评分",dataIndex:"score",scopedSlots:{customRender:"score"},key:"score"},{title:"客户标签",dataIndex:"tagNameList",scopedSlots:{customRender:"tagNameList"},width:"230px",key:"tagNameList"},{title:"客户状态",dataIndex:"customerStatus",key:"customerStatus",customRender:function(t,e,a){return t||"-"}},{title:"添加时间",dataIndex:"addTime",key:"addTime",customRender:function(t,e,a){return t||"-"}},{title:"上次对话时间",dataIndex:"lastCommunicationTime",key:"lastCommunicationTime",customRender:function(t,e,a){return t||"-"}},{title:"添加渠道",dataIndex:"channel",key:"channel",customRender:function(t,e,a){return t||"-"}},{title:"操作",dataIndex:"operation",align:"right",key:"operation",scopedSlots:{customRender:"operation"}}],quncolumns:[{title:"群聊名称",dataIndex:"groupName",key:"groupName",customRender:function(t,e,a){return t||"-"}},{title:"群主",dataIndex:"ownerName",scopedSlots:{customRender:"ownerName"},key:"ownerName"},{title:"群标签",dataIndex:"tagNameList",scopedSlots:{customRender:"tagNameList"},width:"230px",key:"tagNameList"},{title:"群人数",dataIndex:"memberCount",key:"memberCount",customRender:function(t,e,a){return t||"-"}},{title:"今日入群",dataIndex:"dailyEnter",key:"dailyEnter"},{title:"今日退群",dataIndex:"dailyExit",key:"dailyExit"},{title:"创建时间",dataIndex:"wxCreateTime",key:"wxCreateTime",customRender:function(t,e,a){return t||"-"}},{title:"操作",dataIndex:"operation",align:"right",key:"operation",scopedSlots:{customRender:"operation"}}],losecolumns:[{title:"客户昵称",dataIndex:"info",scopedSlots:{customRender:"info"},key:"info"},{title:"所属客服",dataIndex:"staffName",scopedSlots:{customRender:"staffName"},key:"staffName"},{title:"客户评分",dataIndex:"score",scopedSlots:{customRender:"score"},key:"score"},{title:"客户标签",dataIndex:"tagNameList",scopedSlots:{customRender:"tagNameList"},width:"230px",key:"tagNameList"},{title:"转接状态",dataIndex:"transferStatus",key:"transferStatus",customRender:function(t,e,a){return t||"-"}},{title:"添加时间",dataIndex:"addTime",key:"addTime",customRender:function(t,e,a){return t||"-"}},{title:"上次对话时间",dataIndex:"lastCommunicationTime",key:"lastCommunicationTime",customRender:function(t,e,a){return t||"-"}},{title:"添加渠道",dataIndex:"addWay",key:"addWay",customRender:function(t,e,a){return t||"-"}},{title:"操作",dataIndex:"operation",align:"right",key:"operation",scopedSlots:{customRender:"operation"}}]}},created:function(){this.getpageList(),this.gettransferGroupList(),this.getTransferList()},computed:Object(_["a"])(Object(_["a"])({},Object(w["c"])({customerStatus:function(t){return t.customer.customerStatus},channelId:function(t){return t.customer.channelId},addTimeTo:function(t){return t.customer.addTimeTo},addTimeFrom:function(t){return t.customer.addTimeFrom},searchName:function(t){return t.customer.searchNameMove},staffUserid:function(t){return t.customer.staffUserid},customerTag:function(t){return t.customer.customerTag},filterType:function(t){return t.customer.filterType},groupName:function(t){return t.customer.groupName},groupOwnerId:function(t){return t.customer.groupOwnerId},groupTag:function(t){return t.customer.groupTag}})),{},{hasSelected:function(){return this.selectedRowKeys.length>0},hasSelected2:function(){return this.selectedRowKeys2.length>0},hasSelected3:function(){return this.selectedRowKeys3.length>0}}),components:{StaffList:o["a"]},methods:{jump:function(t){var e={avatar:t.staffAvatar||"",name:t.staffName},a=JSON.stringify(e);sessionStorage.setItem("newsObj",a),this.$router.push({name:"news",query:{staffExtId:t.staffId,designee:0,customerId:t.customerId}})},clientDetail:function(t){this.$router.push({name:"CustomerDetail",query:{customerId:t.customerId,staffId:t.staffId}})},lookDetail:function(t){this.$router.push({name:"groupDetailsName",query:{chatId:t.chatId}})},synchronization:function(){var t=this;this.syncloading=!0,Object(u["i"])().then((function(e){t.syncloading=!1,t.getpageList()}))},openMore:function(t){var e=t.currentTarget.previousElementSibling;e.className.indexOf("mheight")>-1?(t.currentTarget.firstElementChild.innerText="收起",e.classList.remove("mheight")):(t.currentTarget.firstElementChild.innerText="展开",e.classList.add("mheight"))},onSelectChange:function(t,e){this.selectedRowKeys=t,this.external_userid=e.map((function(t){return t.customerId}))},onSelectChange2:function(t,e){this.selectedRowKeys2=t,this.external_userid=e.map((function(t){return t.chatId}))},onSelectChange3:function(t,e){this.selectedRowKeys3=t;for(var a={},n=0;n<e.length;n++){var i=e[n];a[i.staffId]?a[i.staffId].push(i.customerId):a[i.staffId]=[i.customerId]}this.staffEusMap=JSON.stringify(a)},distributionchoice:function(t,e){t.target.className.indexOf("notdised")>-1?"1"==e?this.$message.warning("请选择群聊"):this.$message.warning("请选择客户"):("0"==e?this.txtName="客户":"1"==e?this.txtName="群聊":"2"==e&&(this.txtName="客户"),this.distributionStatus=e,this.distributionShow=!0)},closeopenstaff:function(t){this.isOpenstaff=!1,this.openstaff=t.name,this.obj=t},reconfirmShowOk:function(){var t=this;this.reconfirmShow=!1;var e=this.obj.userid;if("0"==this.distributionStatus){var a={external_userid:this.external_userid,takeover_userid:e};Object(u["a"])(a).then((function(e){t.$message.success("操作成功"),t.getpageList(),Object(u["i"])(a).then((function(t){}))})).catch((function(e){t.$message.error(e)}))}else if("2"==this.distributionStatus){var n={newStaffId:e,staffEusMap:this.staffEusMap};Object(u["e"])(n).then((function(e){t.$message.success("操作成功"),t.getTransferList(),Object(u["i"])(n).then((function(t){}))})).catch((function(e){t.$message.error(e)}))}else{var i=this.obj.userid,s={chat_id_list:this.external_userid,new_owner:i};Object(u["d"])(s).then((function(e){t.$message.success("操作成功"),t.gettransferGroupList(),Object(u["i"])(s).then((function(t){}))}))}},distributionOk:function(){this.distributionShow=!1,this.reconfirmShow=!0,this.isOpenstaff=!1,this.openstaff=[]},distributionCancel:function(){this.distributionShow=!1,this.isOpenstaff=!1,this.openstaff=[]},changeone:function(t){var e=t.current;this.paginationone.current=e,this.getpageList()},getpageList:function(){var t=this;this.tableLoading=!0;var e={customerName:this.searchName,filterType:this.filterType,customerTag:this.customerTag,addTimeFrom:this.addTimeFrom,addTimeTo:this.addTimeTo,channelId:this.channelId,customerStatus:this.customerStatus,staffUserid:this.staffUserid,pageNum:this.paginationone.current,pageSize:this.paginationone.pageSize};Object(u["g"])(e).then((function(e){var a;null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&a.list&&(t.paginationone.total=e.data.total,t.disposeClientList(e.data.list))})).finally((function(){t.tableLoading=!1}))},gettransferGroupList:function(){var t=this;this.tableLoading=!0;var e={groupName:this.groupName,groupOwnerId:this.groupOwnerId,groupTag:this.groupTag,filterType:this.filterType||0};Object(u["j"])(e).then((function(e){var a;null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&a.list&&(t.paginationtwo.total=Number(e.data.total),t.disposeClientList2(e.data.list))})).finally((function(){t.tableLoading=!1}))},changetwo:function(t){var e=t.current;this.paginationtwo.current=e,this.gettransferGroupList()},getTransferList:function(){var t=this;this.tableLoading=!0;var e={name:this.searchName,staffId:this.staffUserid,tagId:this.customerTag,addWay:this.channelId,filterType:this.filterType,startDate:this.addTimeFrom,endDate:this.addTimeTo,currentPage:this.paginationthree.current,pageSize:this.paginationthree.pageSize};Object(u["b"])(e).then((function(e){var a;null!==e&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&a.list&&(t.paginationthree.total=e.data.total,t.disposeClientList3(e.data.list))})).finally((function(){t.tableLoading=!1}))},changethree:function(t){var e=t.current;this.paginationthree.current=e,this.getTransferList()},disposeClientList:function(t){this.clientList=t.map((function(t,e){return null!==t&&void 0!==t&&t.tagNames?t.tagNameList=t.tagNames.split(","):t.tagNameList=[],t.addWay=B[t.addWay],t.info={nickName:t.nickName,corpName:t.corpName||null,name:t.customerName||t.name,avatar:t.avatar,type:y["e"][t.type],lossStatus:1===t.lossStatus?"已流失":""},t.key=e+(new Date).valueOf(),Object.assign({operation:t},t)}))},disposeClientList2:function(t){this.groupList=t.map((function(t,e){return null!==t&&void 0!==t&&t.tags?t.tagNameList=t.tags.split(","):t.tagNameList=[],t.addWay=B[t.addWay],t.key=e+(new Date).valueOf(),Object.assign({operation:t},t)}))},disposeClientList3:function(t){this.transList=t.map((function(t,e){return null!==t&&void 0!==t&&t.tagNames?t.tagNameList=t.tagNames.split(","):t.tagNameList=[],t.addWay=B[t.addWay],t.info={nickName:t.nickName,name:t.customerName||t.name,corpName:t.corpName||null,avatar:t.avatar,type:y["e"][t.type],lossStatus:1===t.lossStatus?"已流失":""},t.key=e+(new Date).valueOf(),Object.assign({operation:t},t)}))}},watch:{customerTag:function(){"0"==this.stateTab?(this.paginationone.current=1,setTimeout(this.getpageList,0)):(this.paginationthree.current=1,setTimeout(this.getTransferList,0))},filterType:function(){"0"==this.stateTab?(this.paginationone.current=1,setTimeout(this.getpageList,0)):(this.paginationthree.current=1,setTimeout(this.getTransferList,0))},customerStatus:function(){this.paginationone.current=1,setTimeout(this.getpageList,0)},channelId:function(){"0"==this.stateTab?(this.paginationone.current=1,setTimeout(this.getpageList,0)):(this.paginationthree.current=1,setTimeout(this.getTransferList,0))},addTimeTo:function(){"0"==this.stateTab?(this.paginationone.current=1,setTimeout(this.getpageList,0)):(this.paginationthree.current=1,setTimeout(this.getTransferList,0))},searchName:function(){"0"==this.stateTab?(this.paginationone.current=1,setTimeout(this.getpageList,0)):(this.paginationthree.current=1,setTimeout(this.getTransferList,0))},staffUserid:function(){"0"==this.stateTab?(this.paginationone.current=1,setTimeout(this.getpageList,0)):(this.paginationthree.current=1,setTimeout(this.getTransferList,0))},groupName:function(){this.paginationtwo.current=1,setTimeout(this.gettransferGroupList,0)},groupOwnerId:function(){this.paginationtwo.current=1,setTimeout(this.gettransferGroupList,0)},groupTag:function(){this.paginationtwo.current=1,setTimeout(this.gettransferGroupList,0)}}},$=M,F=(a("e535"),Object(f["a"])($,D,R,!1,null,"4467f5a4",null)),U=F.exports,H={data:function(){return{hideAllBox:!1,defalutActive:!0,stateActiveVal:"0",toBeallocated:"0",settingshow:!1,portraitTxt:"已开启"}},created:function(){"0"==this.$route.meta.tabswitch?(this.defalutActive=!0,this.stateActiveVal="0"):(this.defalutActive=!1,this.stateActiveVal="1")},components:{SearchForm:j,CustomerTable:U},methods:{choiceallocated:function(t){this.toBeallocated=t.val},tabswitch:function(t){this.stateActiveVal=String(t),"0"==t?(this.defalutActive=!0,this.$route.meta.tabswitch=0):(this.defalutActive=!1,this.$route.meta.tabswitch=1)},portraiOk:function(){this.portraiOk=!1},portraiCancel:function(){this.settingshow=!1},onportraitChange:function(t){this.portraitTxt=t?"已开启":"已关闭"}}},Y=H,q=(a("1a88"),Object(f["a"])(Y,n,i,!1,null,"64ce73f2",null));e["default"]=q.exports},b52b:function(t,e,a){"use strict";a.d(e,"j",(function(){return s})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return o})),a.d(e,"i",(function(){return c})),a.d(e,"g",(function(){return l})),a.d(e,"e",(function(){return u})),a.d(e,"h",(function(){return d})),a.d(e,"b",(function(){return h})),a.d(e,"d",(function(){return f})),a.d(e,"f",(function(){return m}));var n=a("b775"),i={labelGroupList:"/client_group/tagBuildGroup/page",labelGroupAdd:"/client_group/tagBuildGroup/add",labelGroupDel:"/client_group/tagBuildGroup/delGroupTagPull",getChat:"/client_group/tagBuildGroup/getChat",getStatistics:"/client_group/tagBuildGroup/getStatistics",queryCustomers:"/client_group/tagBuildGroup/customer/get",customersDetail:"/client_group/tagBuildGroup/staff/get",remind:"/client_group/tagBuildGroup/remind",calculateNum:"/client_group/tagBuildGroup/calculateNum",updateDate:"/client_group/tagBuildGroup/getNewData"};function s(t){return Object(n["b"])({url:i.updateDate,method:"get",params:t})}function r(t){return Object(n["b"])({url:i.getChat,method:"get",params:t})}function o(t){return Object(n["b"])({url:i.calculateNum,method:"post",data:t})}function c(t){return Object(n["b"])({url:i.remind,method:"post",data:t})}function l(t){return Object(n["b"])({url:i.labelGroupList,method:"get",params:t})}function u(t){return Object(n["b"])({url:i.labelGroupAdd,method:"post",data:t})}function d(t){return Object(n["b"])({url:i.queryCustomers,method:"post",data:t})}function h(t){return Object(n["b"])({url:i.customersDetail,method:"post",data:t})}function f(t){return Object(n["b"])({url:i.getStatistics,method:"get",params:t})}function m(t){return Object(n["b"])({url:i.labelGroupDel,method:"post",params:t})}},b5c3:function(t,e,a){t.exports=a.p+"assets/default.c42b7ede.svg"},b7fd:function(t,e,a){"use strict";a("b0c0");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"groupbox"},[e("div",{staticClass:"title"},[t._v(" 全部"+t._s(t.title)+" ("+t._s(t.total)+") ")]),e("div",{staticClass:"search-box"},[e("a-input-search",{attrs:{allowClear:"",placeholder:"请输入".concat(t.title,"名称")},on:{search:t.onSearchGroupleader,pressEnter:t.onSearchGroupleader,blur:t.blursearch,focus:t.searchClick},model:{value:t.searchGroupleader,callback:function(e){t.searchGroupleader=e},expression:"searchGroupleader"}})],1),e("div",{staticClass:"list-wrap"},[e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.allemployees,expression:"allemployees"}],staticClass:"demo-infinite-container",attrs:{"infinite-scroll-disabled":t.busy,"infinite-scroll-distance":10}},[t.staffdata.length>0?e("a-list",{attrs:{"data-source":t.staffdata},scopedSlots:t._u([{key:"renderItem",fn:function(a,n){return e("div",{key:n,staticClass:"list-item",on:{click:function(e){return t.choiceGroup(a)}}},[e("div",{staticClass:"item-content"},[e("img",{staticClass:"avatar",attrs:{src:a.thumbAvatar||t.defaultThumbAvatar,alt:""}}),e("span",{staticClass:"name"},[t._v(t._s(a.name||a.groupName||a.staffName))])]),t.defalytStaffIndex==(a.staffId||a.groupId)?e("a-icon",{staticClass:"img",attrs:{type:"check-circle"}}):e("div",{staticClass:"circle"})],1)}}],null,!1,1114407245)}):e("div",{staticClass:"cter"},[t._v("没有更多相关"+t._s(t.title)+"哦~~")])],1)])])},i=[],s=a("2909"),r=(a("d81d"),a("99af"),a("1c9c")),o=a("b52b"),c=a("487a"),l=a.n(c),u={directives:{infiniteScroll:l.a},props:{type:{type:String,default:"Staff"},title:{type:String,default:"员工"},tagPullId:{type:String,default:""}},data:function(){return{defaultThumbAvatar:a("b5c3"),staffdata:[],defalytStaffIndex:"",loading:!1,busy:!1,total:0,page:1,limit:10,searchGroupleader:""}},created:function(){},methods:{searchClick:function(){this.$emit("isSearchNoHide","1")},blursearch:function(){this.$emit("isSearchNoHide","2")},allemployees:function(){var t=this;switch(this.type){case"Staff":var e={currentPage:this.page,pageSize:this.limit,name:this.searchGroupleader||""};if(this.loading=!0,"0"!=this.total&&this.staffdata.length>=this.total)return void(this.busy=!0);Object(r["q"])(e).then((function(e){e.data.list.map((function(t){t.flag=!1}));var a=e.data.list;t.total=e.data.total,t.staffdata.length>=t.total?t.busy=!0:(t.page>1?t.staffdata=[].concat(Object(s["a"])(t.staffdata),Object(s["a"])(a)):t.staffdata=Object(s["a"])(a),t.page=t.page+1,t.loading=!1)}));break;case"customersDetail":var a={tagPullId:this.tagPullId||""};Object(o["b"])(a).then((function(e){t.total=e.data.total,t.staffdata=e.data.list||[]}));break;case"customer":var n={name:this.searchGroupleader||""};Object(r["n"])(n).then((function(e){t.total=e.data.total,t.staffdata=e.data.list||[]}));break;case"custGrpList":var i={grpName:this.searchGroupleader||"",filterType:0,grpStatus:0,orderCondition:1,orderWay:1,date:"",currentPage:1,pageSize:9999};Object(r["j"])(i).then((function(e){t.total=e.data.total,t.staffdata=e.data.list||[]}));break}},onSearchGroupleader:function(){this.$emit("isSearchNoHide","0"),this.page=1,this.staffdata=[],this.allemployees()},choiceGroup:function(t){this.defalytStaffIndex=t.userid||t.groupId||t.staffId,"Staff"==this.type?(this.$emit("closeopenstaff",t),this.$emit("closeopencustomer",t)):"customer"==this.type?this.$emit("closeopencustomer",t):"custGrpList"==this.type?this.$emit("closeopengroup",t):"customersDetail"==this.type&&this.$emit("closeopencustomer",t)}}},d=u,h=(a("be8d"),a("2877")),f=Object(h["a"])(d,n,i,!1,null,"e031d236",null);e["a"]=f.exports},b9cd:function(t,e,a){"use strict";a.d(e,"l",(function(){return n})),a.d(e,"j",(function(){return i})),a.d(e,"o",(function(){return s})),a.d(e,"n",(function(){return r})),a.d(e,"b",(function(){return o})),a.d(e,"g",(function(){return c})),a.d(e,"d",(function(){return l})),a.d(e,"a",(function(){return u})),a.d(e,"f",(function(){return d})),a.d(e,"k",(function(){return h})),a.d(e,"i",(function(){return f})),a.d(e,"e",(function(){return m})),a.d(e,"p",(function(){return p})),a.d(e,"c",(function(){return g})),a.d(e,"h",(function(){return b})),a.d(e,"q",(function(){return v})),a.d(e,"m",(function(){return T}));var n="LOSS_STATUS",i="GROUP_STATUS",s="ORDER_WAY",r="ORDER_CONDITION",o="ADD_WAY",c="GENDER",l="CUSTOMER_STATUS",u={0:"待分配",1:"待添加",2:"待通过",3:"已添加",4:"导入中"},d={1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六",7:"周日"},h=[{text:"未发送",color:"#ffc2c2",id:0},{text:"已发送",color:"",id:1},{text:"已不是好友",color:"#ffd4b6",id:2},{text:"客户接收达上限",color:"#fbe8ae",id:3},{text:"本月消息已经达到上限",color:"",id:4}],f=[{text:"未发送",color:"#ffc2c2",id:0},{text:"已发送",color:"",id:2},{text:"没有群发任务",color:"",id:4}],m={1:"微信",2:"企业微信"},p=[{id:"immediately",value:"立即发送"},{id:"timing",value:"定时发送"}],g={0:"渠道码",1:"区域扫码",2:"自动拉群",3:"一客一码",4:"加好友",5:"通过群码拉群"},b={0:{text:"拉人中",color:"green"},1:{text:"未开始",color:""},2:{text:"已达上限",color:"orange"},3:{text:"已停用",color:"red"}},v={0:{text:"创建失败",color:"green",id:0},1:{text:"待发送",color:"rgba(34,34,34,.85)",id:1},2:{text:"已发送",color:"rgba(34,34,34,.85)",id:2},3:{text:"已取消",color:"rgba(34,34,34,.85)",id:3},4:{text:"提醒发送",color:"#1890ff",id:4}},T=[{text:"文章",id:"0",format:""},{text:"链接",id:"1"},{text:"海报",id:"2",max:2,format:".bmp,.jpg,.jpeg,.png,.tif,.gif,.pcx,.tga,.exif,.fpx,.svg,.psd,.cdr,.pcd,.dxf,.ufo,.eps,.ai,.raw,.WMF,.webp",tips:"请上传png、jpg格式不超过2M的文件"},{text:"视频",id:"7",max:2e5,format:".MP4",tips:"请上传格式为MP4的视频文件"},{text:"PDF",id:"3",max:20,format:".pdf",icon:"/icons/pdf.png",tips:"请上传PDF格式不超过20M的文件"},{text:"PPT",id:"4",max:20,format:".pptx,.ppt,.pps",icon:"/icons/ppt.svg",tips:"请上传PPT格式不超过20M的文件"},{text:"表格",id:"5",max:20,format:".xlsx,.xls,.csv",icon:"/icons/excel.svg",tips:"请上传csv、xlsx格式不超过20M的文件"},{text:"文档",id:"6",max:20,format:".txt,.doc,.docx",icon:"/icons/word.svg",tips:"请上传doc、txt.docx格式不超过20M的文件"}]},be8d:function(t,e,a){"use strict";a("9694")},c439:function(t,e,a){},e535:function(t,e,a){"use strict";a("8d92")}}]);