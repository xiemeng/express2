(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{1037:function(e,s,r){"use strict";r.r(s);r("a4d3"),r("e01a");var t=function(){var e=this,s=e._self._c;return s("a-result",{attrs:{isSuccess:!0,content:!1,title:e.email,"sub-title":e.description},scopedSlots:e._u([{key:"extra",fn:function(){return[s("a-button",{attrs:{size:"large",type:"primary"}},[e._v("查看邮箱")]),s("a-button",{staticStyle:{"margin-left":"8px"},attrs:{size:"large"},on:{click:e.goHomeHandle}},[e._v("返回首页")])]},proxy:!0}])})},o=[],a={name:"RegisterResult",data:function(){return{description:"激活邮件已发送到你的邮箱中，邮件有效期为24小时。请及时登录邮箱，点击邮件中的链接激活帐户。",form:{}}},computed:{email:function(){var e=this.form&&this.form.email||"xxx";return"你的账户：".concat(e," 注册成功")}},created:function(){this.form=this.$route.params},methods:{goHomeHandle:function(){this.$router.push({name:"login"})}}},n=a,i=r("2877"),d=Object(i["a"])(n,t,o,!1,null,"4a6c53ae",null);s["default"]=d.exports},1348:function(e,s,r){"use strict";r.r(s);var t=function(){var e=this,s=e._self._c;return s("div",{staticClass:"main user-layout-register"},[s("h3",[e._v("联系销售")]),s("a-form-model",{ref:"signUser",attrs:{model:e.signform,rules:e.rules}},[s("a-form-model-item",{attrs:{prop:"phone"}},[s("a-input",{attrs:{placeholder:"请输入手机号",size:"large",allowClear:""},model:{value:e.signform.phone,callback:function(s){e.$set(e.signform,"phone",s)},expression:"signform.phone"}})],1),s("a-form-model-item",{attrs:{prop:"verify_code"}},[s("a-input",{attrs:{placeholder:"请输入验证码",size:"large",allowClear:""},model:{value:e.signform.verify_code,callback:function(s){e.$set(e.signform,"verify_code",s)},expression:"signform.verify_code"}},[e.isSend?s("a-button",{attrs:{slot:"addonAfter",type:"link",loading:e.codeLoading},on:{click:e.getCode},slot:"addonAfter"},[e._v("发送验证码")]):s("span",{attrs:{slot:"addonAfter"},slot:"addonAfter"},[e._v(e._s(e.time))])],1)],1),s("a-form-model-item",{staticStyle:{"text-align":"center"},attrs:{prop:"phone"}},[s("a-button",{attrs:{type:"primary"}},[e._v("提交")])],1)],1)],1)},o=[],a=(r("d3b7"),{name:"Register",components:{},data:function(){return{signform:{phone:void 0,verify_code:void 0},rules:{phone:[{required:!0,message:"请输入手机号",trigger:"blur"}],verify_code:[{required:!0,message:"请输入验证码",trigger:"blur"}]},codeLoading:!1,isSend:!0}},methods:{getCode:function(){var e=this;if(this.signform.phone){var s={mail:"signUp"===this.status?this.signform.mail:this.passwordForm.mail};this.codeLoading=!0,registVerify(s).then((function(s){var r=setInterval((function(){e.time--,e.time<=0&&(clearInterval(r),e.isSend=!0)}),1e3);e.isSend=!1,e.$message.success("send success")})).catch((function(s){e.$message.error(s)})).finally((function(){e.codeLoading=!1}))}else this.$message.warning("请输入手机号")}}}),n=a,i=(r("9238"),r("8382"),r("2877")),d=Object(i["a"])(n,t,o,!1,null,"c037be2a",null);s["default"]=d.exports},"27bc":function(e,s,r){},8382:function(e,s,r){"use strict";r("27bc")},9238:function(e,s,r){"use strict";r("bb91")},ac2a:function(e,s,r){"use strict";r.r(s);var t=function(){var e=this,s=e._self._c;return s("div",{attrs:{id:"main"}},[s("a-form-model",{directives:[{name:"show",rawName:"v-show",value:"login"===e.status,expression:"status === 'login'"}],ref:"ruleForm",staticClass:"form",attrs:{model:e.form,rules:e.rules}},[s("h2",[e._v("Welcome back to Kolify")]),s("a-form-model-item",{attrs:{label:"username",prop:"username"}},[s("a-input",{attrs:{placeholder:"Your username"},model:{value:e.form.username,callback:function(s){e.$set(e.form,"username",s)},expression:"form.username"}})],1),s("a-form-model-item",{attrs:{label:"Password",prop:"password"}},[s("a-input",{attrs:{placeholder:"Your password",type:"password"},model:{value:e.form.password,callback:function(s){e.$set(e.form,"password",s)},expression:"form.password"}})],1),s("a-form-model-item",[s("a-button",{staticStyle:{width:"100%"},attrs:{type:"primary",size:"large",loading:e.loading},on:{click:e.submit}},[e._v("Log in")])],1)],1),s("a-form-model",{directives:[{name:"show",rawName:"v-show",value:"password"===e.status,expression:"status === 'password'"}],ref:"forgetPassward",staticClass:"form",attrs:{model:e.passwordForm,rules:e.rules}},[s("h2",[e._v("Set password")]),s("p",{staticStyle:{"margin-bottom":"20px"}},[e._v("To ensure the security of your account, please reset your password")]),s("a-form-model-item",{attrs:{prop:"password2"}},[s("a-input",{attrs:{placeholder:"Password（At least 8 digits, must contain letters and numbers）",type:"password",size:"large",allowClear:""},model:{value:e.passwordForm.password2,callback:function(s){e.$set(e.passwordForm,"password2",s)},expression:"passwordForm.password2"}})],1),s("a-form-model-item",{attrs:{prop:"password1"}},[s("a-input",{attrs:{placeholder:"Password（At least 8 digits, must contain letters and numbers）",type:"password",size:"large",allowClear:""},model:{value:e.passwordForm.password1,callback:function(s){e.$set(e.passwordForm,"password1",s)},expression:"passwordForm.password1"}})],1),s("a-form-model-item",[s("a-button",{staticStyle:{width:"100%"},attrs:{type:"primary",size:"large",loading:e.passwordLoading},on:{click:e.backPasswordFn}},[e._v("Reset password")])],1)],1)],1)},o=[],a=r("5530"),n=(r("d3b7"),r("99af"),r("2f62")),i=r("ca00"),d=r("9c0a"),l={data:function(){return{status:"login",rules:{password:[{required:!0,message:"Please input password"}],password1:[{required:!0,message:"Password（At least 8 digits, must contain letters and numbers）",pattern:/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z\D]{8,}$/}],password2:[{required:!0,message:"Password（At least 8 digits, must contain letters and numbers）",pattern:/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z\D]{8,}$/}],username:[{required:!0,message:"Please input username"}]},form:{username:"",password:""},passwordForm:{password2:"",password1:""},loading:!1,passwordLoading:!1}},computed:{redirect:function(){return this.$route.query.redirect},loginId:function(){return Object(i["c"])(this.redirect,"loginId")}},created:function(){},methods:Object(a["a"])(Object(a["a"])({submit:function(){var e=this;this.$refs.ruleForm.validate((function(s){if(!s)return!1;e.login()}))}},Object(n["b"])(["Login","Logout"])),{},{login:function(){var e=this,s={password:this.form.password,username:this.form.username};this.loading=!0,this.Login(s).then((function(s){return e.loginSuccess(s)})).catch((function(s){e.$message.error(s||"Network error")})).finally((function(){e.loading=!1}))},backPasswordFn:function(){var e=this;this.$refs.forgetPassward.validate((function(s){if(!s)return!1;if(e.passwordForm.password2===e.passwordForm.password1){e.passwordLoading=!0;var r={username:e.form.username,password:e.passwordForm.password1};Object(d["e"])(r).then((function(s){e.$message.success("success"),e.status="login"})).catch((function(s){e.$message.error(s)})).finally((function(){e.passwordLoading=!1}))}else e.$message.warning("password is different")}))},loginSuccess:function(e){var s;"20010"==(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.code)?this.status="password":this.$router.push({path:"/"}),this.isLoginError=!1},requestFailed:function(e){this.isLoginError=!0,this.$notification["error"]({message:"错误",description:((e.response||{}).data||{}).message||"请求出现错误，请稍后再试",duration:4})},wxlogin:function(){var e="https://open.work.weixin.qq.com/wwopen/sso/3rd_qrConnect",s="member";window.location.href="".concat(e,"?appid=").concat(LOGIN_info.APPID,"&redirect_uri=").concat(LOGIN_info.LOGIN_CALLBACK_URL,"&state=vracleWang@acadsoc.com&usertype=").concat(s)}})},c=l,u=(r("cd8e"),r("2877")),m=Object(u["a"])(c,t,o,!1,null,"0e3be11b",null);s["default"]=m.exports},bb91:function(e,s,r){},cd8e:function(e,s,r){"use strict";r("f1c0")},f1c0:function(e,s,r){}}]);