(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fa5e940"],{"6ed3":function(t,n,i){},"72f1":function(t,n,i){"use strict";i("6ed3")},b25d:function(t,n,i){"use strict";i.d(n,"c",(function(){return o})),i.d(n,"b",(function(){return c})),i.d(n,"d",(function(){return s})),i.d(n,"f",(function(){return r})),i.d(n,"a",(function(){return d})),i.d(n,"e",(function(){return u})),i.d(n,"g",(function(){return l}));var e=i("b775"),a={productinfoList:"/custservice/productinfo/list",productinfoInfo:"/custservice/productinfo/info",productinfoSave:"/custservice/productinfo/save",productinfoUpdate:"/custservice/productinfo/update",productinfoDelete:"/custservice/productinfo/delete",productinfoSyncProduct:"/custservice/productinfo/syncProduct",uploadAttachment:"/client_group/upload/uploadAttachment"};function o(t){return Object(e["b"])({url:a.productinfoList,method:"post",data:t})}function c(t){return Object(e["b"])({url:a.productinfoInfo,method:"get",params:t})}function s(t){return Object(e["b"])({url:a.productinfoSave,method:"post",data:t})}function r(t){return Object(e["b"])({url:a.productinfoUpdate,method:"post",data:t})}function d(t){return Object(e["b"])({url:a.productinfoDelete,method:"post",data:t})}function u(t){return Object(e["b"])({url:a.productinfoSyncProduct,method:"post",data:t})}function l(t){return Object(e["b"])({url:a.uploadAttachment,method:"post",data:t})}},cce6:function(t,n,i){"use strict";i.r(n);i("ac1f"),i("841c"),i("a4d3"),i("e01a");var e=function(){var t=this,n=t._self._c;return n("div",{staticClass:"akasuo-page-wrap"},[n("a-tabs",{attrs:{"default-active-key":"1"}},[n("a-tab-pane",{key:"1",attrs:{tab:"商品管理"}},[n("div",{staticStyle:{padding:"0px 15px"}},[n("header",{staticClass:"akasuo-page-header"},[n("a-space",[n("a-button",{attrs:{type:"primary",size:"large"},on:{click:t.addGoods}},[t._v("添加商品")])],1)],1),n("div",{staticClass:"action"},[n("div",{staticClass:"left flex-box"},[n("div",{staticClass:"content-item"},[n("label",[t._v("商品名称: ")]),n("a-input-search",{attrs:{placeholder:"请输入商品名称",allowClear:""},on:{search:t.search},model:{value:t.description,callback:function(n){t.description=n},expression:"description"}})],1)]),n("div",{staticClass:"right"},[n("div",{staticClass:"content-item"},[n("a-button",{on:{click:t.clearData}},[t._v("重置")])],1)])]),n("a-table",{staticStyle:{background:"#fff"},attrs:{columns:t.columns,"data-source":t.clientList,pagination:t.pagination,loading:t.tableLoading},on:{change:t.changeone},scopedSlots:t._u([{key:"attachments",fn:function(i){return n("div",{},t._l(i,(function(i,e){return n("img",{key:e,staticClass:"img-cover",attrs:{src:i.image.img_path},on:{click:function(n){return t.coverImg(i.image.img_path)}}})})),0)}},{key:"operation",fn:function(i){return n("div",{staticStyle:{display:"flex","justify-content":"right"}},[n("a-space",[n("a-button",{attrs:{type:"primary",loading:t.deleteLoading},on:{click:function(n){return t.deleteLsit(i)}}},[t._v("删除")])],1)],1)}}])})],1)])],1),t.visibleImg?n("div",{staticClass:"big-img",on:{click:function(n){t.visibleImg=!1}}},[n("img",{attrs:{src:t.bigImg}})]):t._e()],1)},a=[],o=i("5530"),c=(i("d3b7"),i("d81d"),i("b25d")),s={name:"Goods",components:{},data:function(){return{pagination:{current:1,pageSize:10,total:0},description:"",visibleImg:!1,bigImg:"",deleteLoading:!1,tableLoading:!1,asyncLoading:!1,clientList:[],columns:[{title:"商品名称",dataIndex:"description",key:"description"},{title:"价格",width:"200px",dataIndex:"price",key:"price",scopedSlots:{customRender:"price"}},{title:"商品编码",dataIndex:"product_sn",key:"product_sn"},{title:"商品展示",dataIndex:"attachments",key:"attachments",scopedSlots:{customRender:"attachments"},width:"360px"},{title:"操作",dataIndex:"operation",key:"operation",align:"right",scopedSlots:{customRender:"operation"}}]}},created:function(){this.init()},methods:{editData:function(t){this.$router.push({name:"AddGoods",query:{status:"edit",id:t.id}})},init:function(){var t=this,n={currentPage:this.pagination.current,pageSize:this.pagination.pageSize,description:this.description};this.clientList=[],this.tableLoading=!0,Object(c["c"])(n).then((function(n){n.data.list&&(t.clientList=n.data.list.map((function(t){return Object(o["a"])(Object(o["a"])({key:t.id},t),{},{price:t.price/100,operation:t})}))),t.pagination.total=n.data.total})).catch((function(n){t.$message.error(n)})).finally((function(){t.tableLoading=!1}))},search:function(){this.pagination.current=1,this.init()},asyncProduct:function(){var t=this;this.asyncLoading=!0,Object(c["e"])().then((function(n){t.$message.success("同步成功"),t.init()})).catch((function(n){t.$message.error(n)})).finally((function(){t.asyncLoading=!1}))},deleteLsit:function(t){var n=this;this.$confirm({title:"提示",icon:"",content:"确定删除该商品吗，删除后不可恢复？",onOk:function(){n.productinfoDeleteFun(t)}})},productinfoDeleteFun:function(t){var n=this;this.deleteLoading=!0,Object(c["a"])({id:t.id}).then((function(t){n.init(),n.$message.success("删除成功")})).catch((function(t){n.$message.error(t)})).finally((function(){n.deleteLoading=!1}))},clearData:function(){this.description="",this.pagination.current=1,this.init()},changeone:function(t){var n=t.current;this.pagination.current=n,this.init()},addGoods:function(){this.$router.push({name:"AddGoods",query:{status:"add"}})},coverImg:function(t){this.visibleImg=!0,this.bigImg=t}}},r=s,d=(i("72f1"),i("2877")),u=Object(d["a"])(r,e,a,!1,null,"16c99896",null);n["default"]=u.exports}}]);