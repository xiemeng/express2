(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c4b3cb8"],{"1bee":function(t,a,s){"use strict";s.d(a,"a",(function(){return e})),s.d(a,"c",(function(){return i})),s.d(a,"b",(function(){return n}));s("a9e3"),s("ac1f"),s("5319"),s("4d63"),s("25f0");function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD hh:mm:ss",s=a,e=new Date(Number(t)),i={"M+":e.getMonth()+1,"D+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),"S+":e.getMilliseconds()};for(var n in/(y+)/i.test(s)&&(s=s.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+n+")").test(s)&&(s=s.replace(RegExp.$1,1===RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return s}function i(t){var a=parseInt(t/3600)<10?"0"+parseInt(t/3600):parseInt(t/3600),s=parseInt(t%3600/60)<10?"0"+parseInt(t%3600/60):parseInt(t%3600/60);return a+":"+s}function n(t,a){var s=Date.parse(new Date),e=r(s,t),i=new Date(e),n=i.getTime(),o=r(s,a),c=new Date(o),l=c.getTime();return"start"?n>=l:l<=n}function r(t,a){var s=new Date(t),e=s.getFullYear()+"-",i=(s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1)+"-",n=s.getDate()+" ";s.getHours(),s.getMinutes(),s.getSeconds();return e+i+n+a+":00"}},2049:function(t,a,s){"use strict";s("258d")},"258d":function(t,a,s){},"407b":function(t,a,s){"use strict";s.d(a,"a",(function(){return n})),s.d(a,"c",(function(){return r})),s.d(a,"d",(function(){return o})),s.d(a,"b",(function(){return c})),s.d(a,"e",(function(){return l}));var e=s("b775"),i={memberList:"/risk/messageStorage/showSession",recordList:"/risk/risk/msgmessagerecord/list",groupList:"/risk/risk/msgmessagerecord/groupList",getStaff:"/risk/messageStorage/getStaff",showSessionCustomer:"/risk/messageStorage/showSessionCustomer"};function n(t){return Object(e["b"])({url:i.getStaff,method:"get",params:t})}function r(t){return Object(e["b"])({url:i.memberList,method:"get",params:t})}function o(t){return Object(e["b"])({url:i.recordList,method:"get",params:t})}function c(t){return Object(e["b"])({url:i.groupList,method:"get",params:t})}function l(t){return Object(e["b"])({url:i.showSessionCustomer,method:"get",params:t})}},"5d45":function(t,a,s){},"6fff":function(t,a,s){"use strict";s("e0d38")},c001:function(t,a,s){"use strict";s("5d45")},c361:function(t,a,s){},ca8c:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t._self._c;return a("div",{staticClass:"page-box"},[a("a-page-header",{staticClass:"page-header background-white",attrs:{title:"群聊质检"},on:{back:function(a){return t.$router.go(-1)}}}),a("div",{staticClass:"rule-info"},[a("div",{staticClass:"title"},[t._v("规则消息")]),a("div",{staticClass:"rule-content"},[a("div",{staticClass:"basic-info"},[a("div",{staticClass:"form-item"},[a("div",{staticClass:"label"},[t._v("规则名称：")]),a("div",{staticClass:"content"},[a("div",[a("span",{staticStyle:{color:"rgba(0, 0, 0, 0.95)","margin-right":"12px"}},[t._v(t._s(t.groupItem.ruleName))]),a("span",{staticClass:"rule-label",class:0===t.groupItem.inUse?"success":""},[t._v(t._s(0===t.groupItem.inUse?"已开启":"已关闭"))])])])]),a("div",{staticClass:"form-item"},[a("div",{staticClass:"label"},[t._v("创建人：")]),a("div",{staticClass:"content"},[a("span",{staticClass:"staff-tag"},[a("a-icon",{attrs:{type:"user"}}),t._v(" "+t._s(t.groupItem.creatorName)+" ")],1)])]),a("div",{staticClass:"form-item"},[a("div",{staticClass:"label"},[t._v("创建时间：")]),a("div",{staticClass:"content",staticStyle:{color:"rgba(0, 0, 0, 0.95)"}},[t._v(t._s(t.groupItem.createTime))])]),a("div",{staticClass:"form-item multi-row"},[a("div",{staticClass:"label"},[t._v("质检群聊：")]),a("div",{staticClass:"content"},[a("div",{staticClass:"group-list"},t._l(t.groupItem.grps,(function(s,e){return a("div",{directives:[{name:"show",rawName:"v-show",value:e<6,expression:"key < 6"}],key:e,staticClass:"group-chat"},[a("div",{staticClass:"group-chat-content"},[a("a-avatar",{staticStyle:{"margin-right":"10px"},attrs:{size:32,src:"/icons/groupChat.png",shape:"square"}}),a("div",{staticClass:"group-chat-info"},[a("a-tooltip",{attrs:{title:s.chatName}},[a("span",{staticClass:"group-name"},[t._v(" "+t._s(s.chatName)+" ")])]),a("span",{staticClass:"group-total"},[t._v(t._s(s.count))])],1)],1)])})),0),t.groupItem.grps.length>6?a("span",{staticClass:"show-more-link",on:{click:t.showModel}},[t._v(" 查看更多 "),a("a-icon",{attrs:{type:"right"}})],1):t._e()])]),a("div",{staticClass:"form-item",staticStyle:{"align-items":"flex-start"}},[a("div",{staticClass:"label"},[t._v("质检时间：")]),t.groupItem.controlTimeList&&0!==t.groupItem.controlTimeList.length?a("div",[a("span",{staticClass:"font-color-black-85"},[t._v(" 自定义质检时间 ")]),a("div",{staticClass:"auto-qc-box"},t._l(t.groupItem.controlTimeList,(function(s,e){return a("div",{key:e,staticClass:"auto-qc-item flex-row"},[a("span",{staticStyle:{"margin-right":"8px","margin-top":"12px"}},[t._v(" 在 ")]),t._l(t.weekSelect(s),(function(s,e){return a("div",{key:e,staticClass:"week-tag"},[t._v(t._s(s))])})),a("span",{staticStyle:{"margin-top":"12px"}},[t._v(" 的 "+t._s(s.controlStartTime)+"～"+t._s(s.controlEndTime)+" 进行质检 ")])],2)})),0)]):a("div",{staticClass:"content",staticStyle:{color:"rgba(0, 0, 0, 0.95)"}},[t._v(" 全天检测 ")])])]),a("div",{staticStyle:{flex:"1"}},[a("div",{staticClass:"form-item multi-row"},[a("div",{staticClass:"label",staticStyle:{width:"138px"}},[t._v("规则：")]),a("div",{staticClass:"content",staticStyle:{width:"100%"}},[a("ul",{staticClass:"rule-list"},t._l(t.groupItem.ruleDetails,(function(s,e){return a("li",{key:e,staticClass:"rule-item"},[a("div",{staticClass:"rule-title"},[a("span",{staticClass:"rect-mark"}),t._v(" 规则"+t._s(e+1)+"： ")]),a("div",{staticClass:"rule-content-item"},[t._v(" 为超过 "),a("span",{staticStyle:{margin:"0 8px",color:"rgba(0, 0, 0, 0.85)"}},[t._v(" "+t._s(s.time)+t._s(t.timeUnitText[s.timeUnit])+" ")]),t._v(" 未回复客户消息的群聊 ")]),a("div",{staticClass:"rule-content-item"},[a("div"),t._v(" 给"+t._s(t.roleText[s.roleId])+"发送"+t._s(t.ENTERPRICE_NAME)+"提醒行为 ")])])})),0)])]),a("div",{staticClass:"form-item",staticStyle:{"align-items":"flex-start"}},[a("div",{staticClass:"label",staticStyle:{width:"115px"}},[t._v("群聊质检白名单：")]),a("div",{staticClass:"white-word-box"},[a("div",{staticClass:"flex-row",staticStyle:{"flex-wrap":"wrap"}},[t._l(t.groupItem.whiteList,(function(s,e){return a("div",{key:e,staticClass:"word-tag"},[t._v(" "+t._s(s.whiteListName)+" ")])})),1===t.groupItem.whiteListInUse?a("div",{staticClass:"empty-box flex-col",staticStyle:{width:"100%"}},[a("div",{staticClass:"empty-box-wrap"},[a("a-avatar",{staticStyle:{"margin-right":"10px"},attrs:{size:69,src:"/icons/groupChatNotData.png",shape:"square"}}),a("span",{staticClass:"font-size",staticStyle:{"margin-top":"12px"}},[t._v("未开启群聊质检白名单～")])],1)]):t._e()],2)])])])])]),a("div",{staticClass:"statistic-card"},[a("h3",{staticClass:"title"},[t._v("数据总览")]),a("div",{staticClass:"data-wrap"},[a("div",{staticClass:"data-content"},[a("h2",[t._v(t._s(t.statisticData.triggerTotalCount))]),a("p",[t._v(" 总触发规则次数 "),a("a-tooltip",{attrs:{title:"质检的群聊未回复客服消息总次数"}},[a("a-icon",{attrs:{type:"question-circle"}})],1)],1)]),a("div",{staticClass:"data-content"},[a("h2",[t._v(t._s(t.statisticData.triggerDayCount))]),a("p",[t._v("今日触发规则次数")])]),a("div",{staticClass:"data-content"},[a("h2",[t._v(t._s(t.statisticData.triggerWeekCount))]),a("p",[t._v("本周触发规则次数")])]),a("div",{staticClass:"data-content"},[a("h2",[t._v(t._s(t.statisticData.triggerMonthCount))]),a("p",[t._v("本月触发规则次数")])])]),a("div",{staticClass:"divider"}),a("div",{staticClass:"top-bar"},[a("h3",{staticClass:"title"},[t._v(" 群聊详情数据 "),a("span",[t._v("共"+t._s(Array.isArray(t.statisticData.grpInfos)?t.statisticData.grpInfos.length:0)+"个群聊")])]),a("a-button",{staticClass:"aks-border-but",on:{click:t.exportGrpInfo}},[t._v("导出Excel")])],1),a("GroupTable",{attrs:{grps:t.statisticDataList}})],1),a("a-modal",{attrs:{width:"688px",bodyStyle:{padding:"24px 8px 24px 32px",maxHeight:"800px"},footer:null,centered:""},model:{value:t.visible,callback:function(a){t.visible=a},expression:"visible"}},[a("GroupChatView",{attrs:{group_chat_list:t.groupItem.grps}})],1)],1)},i=[],n=s("5530"),r=(s("d81d"),function(){var t=this,a=t._self._c;return a("div",[a("a-table",{attrs:{columns:t.columns,"data-source":t.grps},scopedSlots:t._u([{key:"groupName",fn:function(s){return a("span",{},[a("a-avatar",{attrs:{src:"/icons/groupChat.png",size:40,shape:"square"}}),t._v(" "+t._s(s)+" ")],1)}},{key:"ownerName",fn:function(s){return a("span",{},[a("a-tag",[a("a-icon",{attrs:{type:"user"}}),t._v(" "+t._s(s)+" ")],1)],1)}},{key:"status",fn:function(s){return a("span",{},[t._v(" "+t._s(s?"正常":"已停用")+" ")])}},{key:"action",fn:function(s,e){return a("span",{},[a("a",{on:{click:function(a){return t.showModel(e)}}},[t._v("查看详情")])])}}])}),a("a-modal",{attrs:{footer:"",width:"630px"},model:{value:t.visible,callback:function(a){t.visible=a},expression:"visible"}},[a("GroupViewDetaied",{attrs:{dataDetail:t.dataDetail,displayExample:t.displayExample}})],1)],1)}),o=[],c=(s("d3b7"),s("b0c0"),function(){var t=this,a=t._self._c;return a("div",{staticClass:"page-box"},[a("h2",{staticClass:"dialog-title"},[t._v("详情")]),a("div",{staticClass:"dialog-group-detail-wrap"},[t.displayExample?a("div",{staticClass:"example"},[a("a-spin",{attrs:{size:"large"}})],1):a("div",{staticClass:"group-staff-info"},[a("div",{staticClass:"title"},[a("div",{staticClass:"rect-mark"}),t._v(" 群聊内员工 （"+t._s(Array.isArray(t.dataDetail.staffs)?t.dataDetail.staffs.length:0)+"） ")]),a("div",{staticStyle:{"border-bottom":"1px dashed #eee"}},[a("div",{staticClass:"staff-list"},t._l(t.dataDetail.staffs,(function(s,e){return a("div",{key:e,staticClass:"staff-item"},[a("a-avatar",{staticStyle:{"margin-right":"10px"},attrs:{size:48,src:s.avatar,shape:"circle"}}),a("div",{staticClass:"staff-info"},[a("div",{staticClass:"staff-name"},[t._v(t._s(s.name))]),1===s.sessionFileType?a("div",{staticClass:"ma-label"},[t._v("已开通消息存档")]):t._e()])],1)})),0)]),t._m(0),a("div",{staticClass:"remind-list"},[t._l(t.dataDetail.logs,(function(s,e){return a("div",{key:e,staticClass:"remind-item"},[a("div",{staticClass:"rule-title"},[a("span",[a("a-avatar",{attrs:{size:18,src:"/icons/clock.svg"}})],1),a("span",{staticStyle:{"font-weight":"bold","margin-left":"13px"}},[t._v(t._s(s.createTime))]),a("span",{staticStyle:{margin:"0 4px"}},[t._v("客户")]),a("a-avatar",{staticStyle:{"margin-right":"4px"},attrs:{size:22,src:s.msgFromAvatar,shape:"circle"}}),t._v(" "+t._s(s.msgFromName)+" "),a("span",{staticStyle:{margin:"0 4px"}},[t._v(t._s(s.eu_name))]),t._v(" 发送消息超过 "+t._s(s.ruleTime)+" 未回复 ")],1),a("div",{staticClass:"reply-content"},[s.replyUserId?a("div",{staticClass:"reply-item"},[a("div",{staticClass:"date"},[a("div",{staticClass:"circle-mark"}),t._v(" "+t._s(s.replyTime)+" ")]),a("div",{staticClass:"reply-record"},[t._v(" 触发规则"+t._s(s.replyGapTime)+"后 "),a("span",{staticStyle:{margin:"0 4px"}},[t._v("员工")]),a("a-avatar",{staticStyle:{"margin-right":"4px"},attrs:{size:22,src:s.replyUserAvatar,shape:"circle"}}),a("span",{staticStyle:{"font-weight":"bold","margin-right":"4px"}},[t._v(t._s(s.staff_name)+" "+t._s(s.replyUserName))]),t._v(" 回复了客户 ")],1),a("div",{staticClass:"link-str",on:{click:function(a){return t.showModel(s)}}},[t._v("查看")])]):t._e()])])})),a("div",{staticClass:"list-footer"},[t._v("暂无更多数据~")])],2)])]),a("a-modal",{attrs:{footer:"",width:"900px",bodyStyle:{maxHeight:"800px",overflow:"auto",padding:"32px 32px 24px"}},model:{value:t.visible,callback:function(a){t.visible=a},expression:"visible"}},[a("GroupViewChatDetaied",{attrs:{dataDetailDict:t.dataDetailDict}})],1)],1)}),l=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"title",staticStyle:{"margin-top":"24px"}},[a("div",{staticClass:"rect-mark"}),t._v(" 回复数据 ")])}],u=(s("99af"),s("a4d3"),s("e01a"),function(){var t=this,a=t._self._c;return a("div",{staticClass:"page-box"},[a("div",{staticClass:"dialog-chat-record-list"},[a("div",{staticClass:"group-chat-title"},[a("div",{staticClass:"group-chat-name"},[t._v(t._s(t.actionInfo.groupName))]),a("div",{staticStyle:{color:"rgba(0, 0, 0, 0.45)","font-size":"12px"}},[t._v("对方已同意存档会话内容")])]),a("div",{staticClass:"chat-message-box search-msg-list"},[a("ul",{staticClass:"msg-list"},[a("div",{staticClass:"loading loading-top"},[a("a-spin",{directives:[{name:"show",rawName:"v-show",value:t.loadingTop,expression:"loadingTop"}]})],1),a("div",[t.msg_list.length>0?a("div",t._l(t.msg_list,(function(s,e){return a("li",{key:e,class:[s.user?"receive":"send","msg-li"],attrs:{id:s.SEQ}},[s.content?a("div",[a("span",{directives:[{name:"show",rawName:"v-show",value:s.time,expression:"item.time"}],staticClass:"time-mark"},[t._v(t._s(s.time))]),a("div",{staticClass:"inner flex-row"},[s.user?a("a-avatar",{attrs:{size:36,src:s.user.avatar,shape:"square"}}):a("a-avatar",{attrs:{size:36,src:t.avatar,shape:"square"}}),a("div",{staticClass:"content-wrap flex-col"},[a("div",{staticClass:"content flex-row"},[s.content.content?a("span",{staticClass:"text bubble"},[t._v(t._s(s.content.content))]):t._e(),"image"==s.MSGTYPE?a("img",{staticClass:"img",attrs:{src:"".concat(t.ARIAS_URL).concat(s.MEDIA_PATH),alt:""},on:{click:function(a){return t.bgImgShow("".concat(t.ARIAS_URL).concat(s.MEDIA_PATH))}}}):t._e(),"link"==s.MSGTYPE?a("div",[a("a",{staticClass:"link",attrs:{href:s.content.link_url,target:"_blank"}},[a("div",{staticClass:"title"},[t._v(t._s(s.content.title))]),a("div",{staticClass:"flex-row"},[a("span",{staticClass:"desc col-1"},[t._v(t._s(s.content.description))]),a("img",{staticClass:"cover",attrs:{src:s.content.image_url||t.defaultImage}})])])]):t._e(),s.content.displayname?a("div",{staticClass:"weapp bubble flex-col align-left",on:{click:t.tipwarining}},[a("span",{staticClass:"weapp-name"},[t._v(t._s(s.content.displayname))]),a("span",{staticClass:"title"},[t._v(t._s(s.content.title))]),a("span",{staticClass:"desc"},[t._v(t._s(s.content.description))]),a("footer",[a("span",{staticClass:"icon-wrap"},[a("a-icon",{attrs:{type:"link"}})],1),t._v(" 小程序 ")])]):t._e()])])],1)]):t._e()])})),0):a("div",{staticClass:"empty"},[a("a-empty")],1)])])])]),t._m(0),a("a-modal",{attrs:{width:"500px",footer:null,centered:""},model:{value:t.visible,callback:function(a){t.visible=a},expression:"visible"}},[a("img",{staticClass:"bgImg",attrs:{src:t.bgImg}})])],1)}),d=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"chat-box-previewer",staticStyle:{display:"none"}},[a("div",{staticClass:"ant-modal-mask"}),a("div",{staticClass:"ant-modal-wrap"},[a("span",{staticClass:"close-btn"})])])}],p=(s("4de4"),s("a15b"),s("18a5"),s("ac1f"),s("5319"),s("407b")),v=s("1bee"),m=s("2f62"),g={data:function(){return{loadingTop:!1,date:(new Date).getTime(),bgImg:"",visible:!1,msg_list:[],user:{},timeList:[],defaultImage:"/imgs/default-cover.png",ARIAS_URL:"https://acadsocscrmpc.oss-cn-shenzhen.aliyuncs.com/"}},props:{dataDetailDict:{type:Object,default:function(){}}},computed:Object(n["a"])({},Object(m["c"])({actionInfo:function(t){return t.customer.actionInfo}})),created:function(){this.getMemberList()},watch:{dataDetailDict:{handler:function(){this.getMemberList()},deep:!0}},methods:{tipwarining:function(){this.$message.warning("由于企业微信的限制，暂时不支持打开小程序消息")},bgImgShow:function(t){this.bgImg=t,this.visible=!0},getMemberList:function(){var t=this,a={staffId:this.dataDetailDict.replyUserId};Object(p["c"])(a).then((function(a){var s,e,i,n,r=null===a||void 0===a||null===(s=a.data)||void 0===s||null===(e=s.data)||void 0===e||null===(i=e.filter((function(a){return a["T1.ROOMID"]===t.dataDetailDict.chatId})))||void 0===i||null===(n=i.map((function(t){return t["T1.SEQ"]})))||void 0===n?void 0:n.join();t.getRecordList(r)})).catch((function(a){t.$message.error(a)}))},getRecordList:function(t){var a=this;this.avatar=this.dataDetailDict.replyUserAvatar,this.loadingTop=!0;var s={roomid:this.dataDetailDict.chatId,seq:t,limit:"40"};Object(p["b"])(s).then((function(t){var s=[];t.data&&(s=t.data.reverse()),a.disposeClientList(s),a.user=t.data.user,a.anchor()})).catch((function(t){a.$message.error(t)})).finally((function(){a.loadingTop=!1}))},anchor:function(){var t=this;setTimeout((function(){var a=document.createElement("a");a.href="#".concat(t.dataDetailDict.msgSeq),document.body.appendChild(a),a.click(),a.remove()}),100)},disposeClientList:function(t){this.msg_list=t.map((function(t){var a=t.MSGDATA,s=Object(v["a"])(t.MSGTIME,"MM-DD"),e=/^['|"](.*)['|"]$/;try{var i=t.MSGDATA.replace(e,"$1");a=JSON.parse(i)}catch(n){a=""}return t.content=a,t.time=s,Object.assign({},t)}));var a=this.removalRepeat(this.msg_list);this.msg_list=a.map((function(t){return Object.assign({},t)}))},removalRepeat:function(t){for(var a=[],s={},e=0;e<t.length;e++)s[t[e].time]?(t[e].time="",a.push(t[e])):(a.push(t[e]),s[t[e].time]=!0);return a}}},f=g,h=(s("c001"),s("2877")),_=Object(h["a"])(f,u,d,!1,null,"0062f4e5",null),b=_.exports,C={data:function(){return{dataDetailDict:{},visible:!1,group_member_list:[],remind_record_list:[]}},props:{dataDetail:{type:Object,default:function(){}},displayExample:{type:[Boolean],default:!0}},components:{GroupViewChatDetaied:b},methods:{showModel:function(t){this.visible=!0,this.dataDetailDict=t}}},y=C,x=(s("f08b"),Object(h["a"])(y,c,l,!1,null,"9996beee",null)),w=x.exports,I=s("e619"),D={props:{grps:{type:Array,default:function(){return[]}}},data:function(){return{displayExample:!0,columns:[{title:"群聊名称",dataIndex:"groupName",ellipsis:!0,scopedSlots:{customRender:"groupName"}},{title:"群主",dataIndex:"ownerName",ellipsis:!0,scopedSlots:{customRender:"ownerName"}},{title:"群状态",dataIndex:"status",ellipsis:!0,scopedSlots:{customRender:"status"}},{title:"群人数",dataIndex:"customerInGroupCount",ellipsis:!0},{title:"总触发规则次数",dataIndex:"triggerTotalCount",ellipsis:!0},{title:"今日触发规则次数",dataIndex:"triggerDayCount",ellipsis:!0},{title:"群聊内员工人数",dataIndex:"staffCountInGroup",ellipsis:!0},{title:"近期提醒时间",dataIndex:"recentlyNotifyTime"},{title:"操作",dataIndex:"operating",ellipsis:!0,scopedSlots:{customRender:"action"},align:"right"}],dataDetail:{},visible:!1}},computed:{sopId:function(){return this.$route.query.sopId}},methods:{showModel:function(t){var a=this;this.$store.commit("SET_ACTIONINFO",t),this.visible=!0,this.displayExample=!0;var s={ruleId:this.sopId,chatId:t.chatId};Object(I["e"])(s).then((function(t){a.dataDetail=null===t||void 0===t?void 0:t.data})).catch((function(t){a.$message.error(t)})).finally((function(){a.displayExample=!1}))}},components:{GroupViewDetaied:w}},S=D,k=Object(h["a"])(S,r,o,!1,null,null,null),T=k.exports,O=function(){var t=this,a=t._self._c;return a("div",[a("h2",{staticClass:"dialog-title"},[t._v("查看质检群聊")]),t._v(" "+t._s(t.group_chat_list)+" "),a("div",{staticClass:"dialog-group-chat-list"},t._l(t.group_chat_list,(function(s,e){return a("div",{key:e,staticClass:"group-chat"},[a("div",{staticClass:"group-chat-content"},[a("a-avatar",{staticStyle:{"margin-right":"10px"},attrs:{size:32,src:"/icons/groupChat.png",shape:"square"}}),a("div",{staticClass:"group-chat-info"},[a("span",{staticClass:"group-name"},[t._v(t._s(s.chatName))]),t._v(" "),a("span",{staticClass:"group-total"},[t._v(t._s(s.count))])])],1)])})),0)])},j=[],M={props:["group_chat_list"],methods:{showConfirm:function(){this.$createElement;this.$confirm({cancelText:"取消",okText:"确认",title:"提醒",content:function(t){return t("div",["移出后群聊将不会收到推送，是否确认移出？"])},onOk:function(){},onCancel:function(){},class:"test"})}}},R=M,E=(s("6fff"),Object(h["a"])(R,O,j,!1,null,"42ab81d2",null)),L=E.exports,G=s("ca00"),N={data:function(){return{statisticDataList:[],statisticData:{},visible:!1,timeUnitText:{1:"分钟",2:"小时",3:"天"},roleText:{0:"管理员/部门管理员",1:"客户群群主"},groupItem:{grps:[],controlTimeList:[]}}},components:{GroupTable:T,GroupChatView:L},computed:{sopId:function(){return this.$route.query.sopId}},activated:function(){this.getInfoControl()},methods:{exportGrpInfo:function(){var t=this;Object(I["c"])({ruleId:this.sopId}).then((function(t){Object(G["e"])(t,".xlsx","群聊列表")})).catch((function(a){t.$message.error(a)}))},showModel:function(){this.visible=!0},getInfoControl:function(){var t=this;Object(I["f"])(this.sopId).then((function(a){var s;t.groupItem=a.data,t.groupItem.grps=null===(s=a.data.grps)||void 0===s?void 0:s.map((function(t){return Object(n["a"])(Object(n["a"])({},t),{},{key:t.groupId})}))})).catch((function(a){t.$message.error(a)})),Object(I["h"])({ruleId:this.sopId}).then((function(a){var s,e;t.statisticData=a.data,t.statisticDataList=null===(s=a.data)||void 0===s||null===(e=s.grpInfos)||void 0===e?void 0:e.map((function(t,a){return t.key=a,t}))})).catch((function(a){t.$message.error(a)}))},weekSelect:function(t){var a=[],s=t.monday,e=t.tuesday,i=t.wednesday,n=t.thursday,r=t.friday,o=t.saturday,c=t.sunday;return 0===s&&a.push("周一"),0===e&&a.push("周二"),0===i&&a.push("周三"),0===n&&a.push("周四"),0===r&&a.push("周五"),0===o&&a.push("周六"),0===c&&a.push("周日"),a}}},A=N,q=(s("2049"),Object(h["a"])(A,e,i,!1,null,"a2b974ea",null));a["default"]=q.exports},e0d38:function(t,a,s){},e619:function(t,a,s){"use strict";s.d(a,"e",(function(){return n})),s.d(a,"d",(function(){return r})),s.d(a,"k",(function(){return o})),s.d(a,"g",(function(){return c})),s.d(a,"i",(function(){return l})),s.d(a,"b",(function(){return u})),s.d(a,"a",(function(){return d})),s.d(a,"f",(function(){return p})),s.d(a,"j",(function(){return v})),s.d(a,"h",(function(){return m})),s.d(a,"c",(function(){return g}));var e=s("b775"),i={listControl:"/client_group/quanlity/control/list",switchControl:"/client_group/quanlity/control/switch",deleteControl:"/client_group/quanlity/control/delete",addControl:"/client_group/quanlity/control/save",infoControl:"/client_group/quanlity/control/info",updateControl:"/client_group/quanlity/control/update",statistic:"/client_group/quanlity/control/statistic",exportGrpInfo:"/client_group/quanlity/control/exportGrpInfo",updateGroupInRule:"/client_group/customerGroup/updateGroupInRule",getRelationRuleDetail:"/client_group/customerGroup/getRelationRuleDetail",getgrpInfo:"/client_group/quanlity/control/grpInfo"};function n(t){return Object(e["b"])({url:i.getgrpInfo,method:"get",params:t})}function r(t){return Object(e["b"])({url:i.getRelationRuleDetail,method:"get",params:t})}function o(t){return Object(e["b"])({url:i.updateGroupInRule,method:"post",data:t})}function c(t){return Object(e["b"])({url:i.listControl,method:"post",data:t})}function l(t){return Object(e["b"])({url:i.switchControl+t,method:"get"})}function u(t){return Object(e["b"])({url:i.deleteControl,method:"post",data:t})}function d(t){return Object(e["b"])({url:i.addControl,method:"post",data:t})}function p(t){return Object(e["b"])({url:i.infoControl+"/"+t,method:"get"})}function v(t){return Object(e["b"])({url:i.updateControl,method:"post",data:t})}function m(t){return Object(e["b"])({url:i.statistic,method:"get",params:t})}function g(t){return Object(e["b"])({url:i.exportGrpInfo,method:"post",data:t,responseType:"blob"})}},f08b:function(t,a,s){"use strict";s("c361")}}]);