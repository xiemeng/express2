(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c58f35f0"],{"0248":function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"e",(function(){return n})),i.d(e,"h",(function(){return o})),i.d(e,"g",(function(){return c})),i.d(e,"f",(function(){return l})),i.d(e,"i",(function(){return u})),i.d(e,"a",(function(){return d})),i.d(e,"d",(function(){return f})),i.d(e,"j",(function(){return p})),i.d(e,"c",(function(){return h})),i.d(e,"k",(function(){return m}));var a=i("b775"),s={pageList:"/client_group/groupAutoPull/page",addPageList:"/client_group/groupAutoPull/add",detailPage:"/client_group/groupAutoPull/detail",updatePageList:"/client_group/groupAutoPull/update",delGroupAutoPull:"/client_group/groupAutoPull/delGroupAutoPull",updatePic:"/client_group/groupAutoPull/updatePic",groupList:"/client_group/groupAutoPullGroup/list",groupSave:"/client_group/groupAutoPullGroup/save",groupUpdate:"/client_group/groupAutoPullGroup/update",groupDelete:"/client_group/groupAutoPullGroup/delete",batchGroup:"/client_group/groupAutoPullGroup/batchGroup"};function r(t){return Object(a["b"])({url:s.batchGroup,method:"post",data:t})}function n(t){return Object(a["b"])({url:s.groupDelete,method:"get",params:t})}function o(t){return Object(a["b"])({url:s.groupUpdate,method:"post",data:t})}function c(t){return Object(a["b"])({url:s.groupSave,method:"post",data:t})}function l(t){return Object(a["b"])({url:s.groupList,method:"get",params:t})}function u(t){return Object(a["b"])({url:s.pageList,method:"get",params:t})}function d(t){return Object(a["b"])({url:s.addPageList,method:"post",data:t})}function f(t){return Object(a["b"])({url:s.detailPage,method:"get",params:t})}function p(t){return Object(a["b"])({url:s.updatePageList,method:"post",data:t})}function h(t){return Object(a["b"])({url:s.delGroupAutoPull,method:"post",params:t})}function m(t){return Object(a["b"])({url:s.updatePic,method:"post",data:t})}},"0561":function(t,e,i){},"0cd2":function(t,e,i){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",[e("h6",[t._v("如何添加成员")]),e("div",{staticClass:"add-role-modal"},[e("p",{staticClass:"top-hint-box"},[t._v("此处显示的成员均为授权给"+t._s(t.ENTERPRICE_NAME)+"的成员，如需添加成员请去企业微信授权，如有疑问可以 "),e("a",[t._v("联系客服")])]),e("h4",[e("a-icon",{attrs:{type:"info-circle"}}),t._v(" 进入"),e("a",{attrs:{href:"https://work.weixin.qq.com/wework_admin/frame#apps",target:"_blank"}},[t._v("企业微信")]),t._v(" ，找到【应用管理】-【应用】-【自建应用】下的"),e("span",{staticClass:"text-black"},[e("b",[t._v("【"+t._s(t.ENTERPRICE_NAME)+"提醒】")])])],1),e("img",{attrs:{alt:"如何添加成员",src:"/imgs/addRole1.png"}}),e("h4",[e("a-icon",{attrs:{type:"info-circle"}}),t._v(" 打开"+t._s(t.ENTERPRICE_NAME)+"提醒，点击【编辑】，在【使用范围】内修改或添加成员 ")],1),e("img",{attrs:{alt:"如何添加成员",src:"/imgs/addRole2.png"}})])])},s=[],r={name:"AddRoleModal"},n=r,o=(i("e1b8"),i("2877")),c=Object(o["a"])(n,a,s,!1,null,"63db7446",null);e["a"]=c.exports},"14aa":function(t,e,i){"use strict";i("0561")},"1da1":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));i("d3b7");function a(t,e,i,a,s,r,n){try{var o=t[r](n),c=o.value}catch(l){return void i(l)}o.done?e(c):Promise.resolve(c).then(a,s)}function s(t){return function(){var e=this,i=arguments;return new Promise((function(s,r){var n=t.apply(e,i);function o(t){a(n,s,r,o,c,"next",t)}function c(t){a(n,s,r,o,c,"throw",t)}o(void 0)}))}}},"1f3e":function(t,e,i){"use strict";i("49c9")},"3c43":function(t,e,i){t.exports=i.p+"assets/avatar-room-default.de3b5fcd.svg"},"3e10":function(t,e,i){},"487a":function(t,e,i){(function(e,i){t.exports=i()})(0,(function(){"use strict";var t="@@InfiniteScroll",e=function(t,e){var i,a,s,r,n,o=function(){t.apply(r,n),a=i};return function(){if(r=this,n=arguments,i=Date.now(),s&&(clearTimeout(s),s=null),a){var t=e-(i-a);t<0?o():s=setTimeout((function(){o()}),t)}else o()}},i=function(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop},a=document.defaultView.getComputedStyle,s=function(t){var e=t;while(e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType){var i=a(e).overflowY;if("scroll"===i||"auto"===i)return e;e=e.parentNode}return window},r=function(t){return t===window?document.documentElement.clientHeight:t.clientHeight},n=function(t){return t===window?i(window):t.getBoundingClientRect().top+i(window)},o=function(t){var e=t.parentNode;while(e){if("HTML"===e.tagName)return!0;if(11===e.nodeType)return!1;e=e.parentNode}return!1},c=function(){if(!this.binded){this.binded=!0;var t=this,i=t.el,a=i.getAttribute("infinite-scroll-throttle-delay"),r=200;a&&(r=Number(t.vm[a]||a),(isNaN(r)||r<0)&&(r=200)),t.throttleDelay=r,t.scrollEventTarget=s(i),t.scrollListener=e(l.bind(t),t.throttleDelay),t.scrollEventTarget.addEventListener("scroll",t.scrollListener),this.vm.$on("hook:beforeDestroy",(function(){t.scrollEventTarget.removeEventListener("scroll",t.scrollListener)}));var n=i.getAttribute("infinite-scroll-disabled"),o=!1;n&&(this.vm.$watch(n,(function(e){t.disabled=e,!e&&t.immediateCheck&&l.call(t)})),o=Boolean(t.vm[n])),t.disabled=o;var c=i.getAttribute("infinite-scroll-distance"),u=0;c&&(u=Number(t.vm[c]||c),isNaN(u)&&(u=0)),t.distance=u;var d=i.getAttribute("infinite-scroll-immediate-check"),f=!0;d&&(f=Boolean(t.vm[d])),t.immediateCheck=f,f&&l.call(t);var p=i.getAttribute("infinite-scroll-listen-for-event");p&&t.vm.$on(p,(function(){l.call(t)}))}},l=function(t){var e=this.scrollEventTarget,a=this.el,s=this.distance;if(!0===t||!this.disabled){var o=i(e),c=o+r(e),l=!1;if(e===a)l=e.scrollHeight-c<=s;else{var u=n(a)-n(e)+a.offsetHeight+o;l=c+s>=u}l&&this.expression&&this.expression()}},u={bind:function(e,i,a){e[t]={el:e,vm:a.context,expression:i.value};var s=arguments;e[t].vm.$on("hook:mounted",(function(){e[t].vm.$nextTick((function(){o(e)&&c.call(e[t],s),e[t].bindTryCount=0;var i=function i(){e[t].bindTryCount>10||(e[t].bindTryCount++,o(e)?c.call(e[t],s):setTimeout(i,50))};i()}))}))},unbind:function(e){e&&e[t]&&e[t].scrollEventTarget&&e[t].scrollEventTarget.removeEventListener("scroll",e[t].scrollListener)}},d=function(t){t.directive("InfiniteScroll",u)};return window.Vue&&(window.infiniteScroll=u,Vue.use(d)),u.install=d,u}))},"49c9":function(t,e,i){},"4f1a":function(t,e,i){"use strict";i("d3b7"),i("ddb0"),i("caad"),i("2532");var a=function(){var t=this,e=t._self._c;return e("div",[e("h6",{staticClass:"dialog-title"},[t._v("选择群聊")]),e("section",[e("a-input-search",{attrs:{allowClear:"",placeholder:"请输入群名称"},on:{search:t.onSearchName},model:{value:t.searchNmae,callback:function(e){t.searchNmae=e},expression:"searchNmae"}}),e("div",{staticClass:"tree"},[e("p",{staticClass:"tree-head"},[t._v(" 全部群聊("+t._s(t.pagination.total)+") "),e("a-checkbox",{on:{change:t.changeAllCheckbox},model:{value:t.isSelectAll,callback:function(e){t.isSelectAll=e},expression:"isSelectAll"}},[t._v(" 全选 ")])],1),e("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.handleInfiniteOnLoad,expression:"handleInfiniteOnLoad"}],staticClass:"scroll-list",attrs:{"infinite-scroll-disabled":t.busy,"infinite-scroll-distance":10}},[t._l(t.groupList,(function(i,a){return e("li",{key:i.groupId,staticClass:"title-wrap"},[e("div",{staticClass:"title-chilred"},[e("a-avatar",{attrs:{size:40,src:"/icons/groupChat.svg",shape:"square"}}),e("div",{staticClass:"info-wrap"},[e("p",[t._v(t._s(i.chatName)+" "),e("a-tag",{attrs:{color:"blue"}},[t._v("外部")])],1),t.isShowNumber?e("p",{staticClass:"aks-tips"},[t._v(t._s(i.count)+"/200")]):e("p",{staticClass:"aks-tips"},[t._v(" 群主："+t._s(i.chatOwnerName))])])],1),e("div",[0!==i[t.keys]&&t.isSetRule?e("p",{staticClass:"aks-tips"},[t._v(t._s(t.tipText))]):e("a-checkbox",{attrs:{disabled:t.selectGroupIdIdList.includes(i.groupId)},on:{change:function(e){return t.changeChilren(a,e)}},model:{value:i.isSelect,callback:function(e){t.$set(i,"isSelect",e)},expression:"item.isSelect"}})],1)])})),t.loading?e("div",{staticClass:"loading-container"},[e("a-spin",{attrs:{tip:"正在加载中..."}})],1):t._e()],2)])],1),e("div",{staticClass:"foot-button"},[e("a-space",{attrs:{size:12}},[e("a-button",{on:{click:function(e){return t.$emit("cancle")}}},[t._v("取消")]),e("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.$emit("serviceOk",t.addGruoupChat)}}},[t._v("确定")])],1)],1)])},s=[],r=i("2909"),n=(i("d81d"),i("4de4"),i("159b"),i("ccdf")),o=i("487a"),c=i.n(o),l={name:"SelectGroupChat",directives:{infiniteScroll:c.a},props:{selectGroupList:{type:[Array],default:function(){return[]}},selectedList:{type:[Array],default:function(){return[]}},isSetRule:{type:Boolean,default:function(){return!0}},isShowNumber:{type:Boolean,default:function(){return!1}},notifyType:{type:String,default:function(){return"groupSop"}}},data:function(){return{searchNmae:"",busy:!1,loading:!1,groupList:[],isSelectAll:!1,pagination:{current:1,pageSize:10,total:0},tipText:"",keys:"",isEnter:!1,isOtherAll:!1}},computed:{selectGroupIdIdList:function(){return this.selectedList.map((function(t){return t.groupId}))},addGruoupChat:function(){var t={};return this.isOtherAll?t.excludeIdList=this.groupList.filter((function(t){return!t.isSelect})).map((function(t){return t.groupId})):t.groupChatIdList=this.groupList.filter((function(t){return t.isSelect})).map((function(t){return t.groupId})),t.groupList=this.groupList.filter((function(t){return t.isSelect})),t}},created:function(){this.getInfo()},methods:{getInfo:function(){switch(this.notifyType){case"groupSop":this.tipText="该群聊已设置规则",this.keys="sopStatus";break;case"groupCalendar":this.tipText="该群聊已设置日历",this.keys="calendarStatus";break;default:break}},changeChilren:function(t,e){if(this.groupList[t].isSelect=e.target.checked,e.target.checked){var i=this.groupList.filter((function(t){return!t.isSelect}));i.length<1&&(this.isSelectAll=!0)}else this.isSelectAll=!1},changeAllCheckbox:function(t){this.isOtherAll=t.target.checked,t.target.checked?this.groupList.forEach((function(t){t.isSelect=!0})):this.groupList.forEach((function(t){t.isSelect=!1}))},onSearchName:function(){this.pagination.current=1,this.groupList=[],this.busy=!1,this.isEnter=!0,this.queryGroupPageByGroupSop()},queryGroupPageByGroupSop:function(){var t=this,e={currentPage:this.pagination.current,pageSize:this.pagination.pageSize,keywords:this.searchNmae,notifyType:this.notifyType};this.loading=!0,Object(n["k"])(e).then((function(e){if(null!==e&&void 0!==e&&e.data){var i,a,s=t.selectGroupList.map((function(t){return t.groupId}));if(null===(i=e.data.list)||void 0===i||i.forEach((function(t){s.includes(t.groupId)?t.isSelect=!0:t.isSelect=!1})),(a=t.groupList).push.apply(a,Object(r["a"])(e.data.list)),t.pagination.current++,t.pagination.total=e.data.total,e.data.list.length<t.pagination.pageSize)return t.busy=!0,void(t.loading=!1);t.$nextTick((function(){t.isEnter=!1}))}})).catch((function(e){t.$message.error(e),t.loading=!1}))},handleInfiniteOnLoad:function(){!this.busy&&!this.isEnter&&this.queryGroupPageByGroupSop()}}},u=l,d=(i("1f3e"),i("2877")),f=Object(d["a"])(u,a,s,!1,null,"94e9cec6",null);e["a"]=f.exports},"57c5":function(t,e,i){"use strict";i("7cc4")},6825:function(t,e,i){"use strict";i.r(e);i("b0c0");var a=function(){var t=this,e=t._self._c;return e("div",[e("a-page-header",{staticClass:"page-header background-white",attrs:{title:"".concat(t.isAddText,"拉群")},on:{back:function(e){return t.$router.go(-1)}}}),e("section",{staticClass:"section background-white"},[e("a-form-model",{ref:"ruleForm",attrs:{"label-col":{span:2},"wrapper-col":{span:12},model:t.form,rules:t.rules}},[e("p",{directives:[{name:"show",rawName:"v-show",value:"新建"==t.isAddText,expression:"isAddText == '新建'"}],staticClass:"base-info"},[t._v("拉群方式")]),e("a-form-model-item",{directives:[{name:"show",rawName:"v-show",value:"新建"==t.isAddText,expression:"isAddText == '新建'"}],attrs:{label:"拉群方式"}},[e("a-radio-group",{on:{change:t.onChangeWay},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[e("a-radio",{attrs:{value:0}},[t._v("群二维码拉群")]),e("a-radio",{attrs:{value:1}},[t._v("企微活码拉群")])],1)],1),e("p",{staticClass:"base-info"},[t._v("基础信息")]),e("a-form-model-item",{attrs:{label:"二维码名称",prop:"name"}},[e("a-input",{attrs:{disabled:"edit"===t.state,placeholder:"名称不会展示给用户，用于企业记录渠道名称或使用场景",maxLength:30},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("a-form-item",{attrs:{label:"选择分组","wrapper-col":{span:4},required:""}},[e("a-select",{model:{value:t.groupId,callback:function(e){t.groupId=e},expression:"groupId"}},t._l(t.groupList,(function(i){return e("a-select-option",{key:i.groupId,attrs:{value:i.groupId}},[t._v(" "+t._s(i.groupName)+" ")])})),1)],1),e("a-form-model-item",{attrs:{label:"使用人员",prop:"staffList"}},[e("UsePerson",{attrs:{type:"deptId",placeHolder:"请选择使用成员账号"},model:{value:t.form.staffList,callback:function(e){t.$set(t.form,"staffList",e)},expression:"form.staffList"}})],1),e("a-form-item",{attrs:{label:"员工添加上限"}},[e("a-switch",{on:{click:t.hasAddLimitStaus},model:{value:t.hasAddLimit,callback:function(e){t.hasAddLimit=e},expression:"hasAddLimit"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasAddLimit,expression:"hasAddLimit"}],staticClass:"addlimt"},[e("div",{staticClass:"desc"},[e("span",[t._v("员工添加上限：")]),e("span",[t._v(" 1、员工从任何渠道添加的客户，都会计入员工添加上限； 2、到达添加上限后，只影响设置了添加上限的渠道活码。 ")])]),e("div",{staticClass:"choose-staff-box"},[e("div",{staticClass:"choose-staff-header"},[e("span",[t._v("共"+t._s(t.form.staffList.length)+"个员工")]),e("div",{staticClass:"info-box"},[e("span",[t._v("每日添加客户上限")])])])]),e("div",{staticClass:"choose-staff-content"},t._l(t.form.staffList,(function(i,a){return e("li",{key:a},[e("div",{staticClass:"basic"},[e("img",{attrs:{src:i.source.thumbAvatar}}),e("span",{staticClass:"name"},[t._v(t._s(i.title))])]),e("div",{staticClass:"info-box"},[e("a-input-number",{attrs:{min:0,precision:0,max:100,"default-value":i.value},on:{change:function(e){return t.onChange(e,a)}}})],1)])})),0)])],1),e("a-form-item",{attrs:{label:"备用人员",required:"必填"==t.sparetext}},[e("div",[e("div",[e("a-button",{staticClass:"r-10",attrs:{type:"plus"},on:{click:t.getMember}},[t._v("+ "+t._s(t.sparetext)+"，请选择备用员")]),t._v(" 当活码中所有员工均不可接待时，将分配客户给该员工 ")],1),t.spareList.length>0?e("div",[e("ul",{staticClass:"account-list"},t._l(t.spareList,(function(i,a){return e("li",{key:a},[e("img",{staticClass:"avatar",attrs:{src:i.source.thumbAvatar,alt:""}}),e("a-icon",{staticClass:"close",attrs:{type:"close-circle"},on:{click:function(e){return t.closespareDetel(a)}}}),t._v(" "+t._s(i.title)+" ")],1)})),0)]):t._e()])]),e("a-form-model-item",{attrs:{label:"好友验证"}},[e("a-space",[e("a-switch",{model:{value:t.form.isVerify,callback:function(e){t.$set(t.form,"isVerify",e)},expression:"form.isVerify"}}),e("a-tooltip",{attrs:{title:"开启好友验证后，用户扫码添加好友需要验证后才会添加成功，关闭好友验证后不需要验证，直接添加成功"}},[e("a-icon",{attrs:{type:"question-circle"}})],1)],1)],1),e("a-form-model-item",{attrs:{label:"标签"}},[e("a-switch",{model:{value:t.form.hasTag,callback:function(e){t.$set(t.form,"hasTag",e)},expression:"form.hasTag"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.form.hasTag,expression:"form.hasTag"}]},[e("a-space",[e("a-button",{staticClass:"aks-border-but",attrs:{size:"small"},on:{click:function(e){t.visibleTag=!0}}},[e("a-icon",{attrs:{type:"plus"}}),t._v(" 添加标签 ")],1),t._l(t.form.selectTagList,(function(i,a){return e("a-tag",{key:i.tagId,attrs:{closable:""},on:{close:function(e){return t.closeTag(a)}}},[t._v(" "+t._s(i.tagName)+" ")])}))],2)],1)],1),e("p",{staticClass:"base-info"},[t._v("群设置")]),e("div",{staticClass:"tips build-tip"},[e("a-icon",{attrs:{type:"bell",theme:"filled"}}),t._v(" 无需创建群聊即可在企微后台生成群聊活码，拉群二维码将永久有效，快来创建试试吧 "),e("a-button",{attrs:{type:"link"}},[t._v("查看如何创建")])],1),e("a-form-model-item",{attrs:{label:"入群引导语",prop:"message"}},[e("a-textarea",{attrs:{placeholder:"例：您好，我是".concat(t.ENTERPRICE_NAME,"助手客服！扫码下方二维码进群交流~如有问题，可随时咨询"),autoSize:{minRows:6,maxRows:6},"allow-clear":""},model:{value:t.form.message,callback:function(e){t.$set(t.form,"message",e)},expression:"form.message"}})],1),"1"==t.form.type?e("div",{staticClass:"tips build-tip yellow-theme"},[e("a-icon",{attrs:{type:"bell",theme:"filled"}}),t._v(" 入群人数统计规则：扫描"+t._s(t.ENTERPRICE_NAME)+"活码即认为客户入群，扫码人数会与实际扫企业微信活码入群人数有偏差 ")],1):e("div",{staticClass:"tips build-tip yellow-theme"},[e("a-icon",{attrs:{type:"bell",theme:"filled"}}),t._v(" 提示：1、可添加多个群聊，当前面的群人数达到上限后，自动发送后面的群二维码2、群人数上限最多为200人3、上传群二维码时请【仔细核对】，群二维码和群聊【对应错误】将导致【拉群任务失败】 ")],1),"1"==t.form.type?e("div",[t._l(t.form.codeList,(function(i,a){return e("a-form-model-item",{key:a,attrs:{label:"群活码".concat(a+1),required:0===t.index}},[e("div",{staticClass:"codeList"},[e("AddGroupChat",{attrs:{chatDetail:i,idx:a,isAddText:t.isAddText,isDisabled:"0"==i.status||"3"==i.status},on:{deactivateHuoMa:t.deactivateHuoMa}}),t.form.codeList.length>1&&"0"!=i.status?e("div",{staticClass:"delete-btn clickable",on:{click:function(e){return t.deletecodeList(a)}}},[e("a-icon",{staticClass:"tu",attrs:{type:"delete"}}),t._v("删除 ")],1):t._e()],1)])})),e("a-form-model-item",{attrs:{label:"群活码"}},[e("DefaultAddGroup",{on:{addCallback:t.addCallback}})],1)],2):e("div",[t._l(t.form.codeList,(function(a,s){return e("div",{key:s,staticClass:"row row3"},[e("span",{staticClass:"title title3"},[t._v("群聊"+t._s(s+1)+":")]),e("div",{staticClass:"group-content"},[e("div",{staticClass:"group-content-header"},[e("div",{staticClass:"group-card-content"},[e("div",{staticClass:"group-card"},[e("img",{attrs:{src:i("3c43")}}),e("div",[e("span",{staticClass:"name"},[t._v(t._s(a.chatName))]),e("span",{staticClass:"count"},[t._v(t._s(a.count||"0")+" / 200人")])])]),a.statusObj.text?e("div",{staticClass:"code-tag"},[e("a-tag",{attrs:{color:a.statusObj.color}},[t._v(t._s(a.statusObj.text))])],1):t._e(),e("span",{directives:[{name:"show",rawName:"v-show",value:"1"==a.status||"2"==a.status,expression:"item.status == '1' || item.status == '2'"}],staticClass:"tips-wrap"},[e("span",{on:{click:function(e){return t.detelGroup(t.index)}}},[e("a-icon",{staticClass:"anticon icon",attrs:{type:"delete"}})],1)])])]),e("div",{staticClass:"group-content-bottom"},[e("UpDateImg",{attrs:{isDisabled:"0"==a.status||"3"==a.status,url:a.qrUrl,title:"上传群二维码"},model:{value:a.originFileObj,callback:function(e){t.$set(a,"originFileObj",e)},expression:"item.originFileObj"}})],1),e("div",{staticClass:"tips-text",staticStyle:{color:"#bb5223"}},[t._v("注意：上传群二维码需跟该选择的群聊一致")]),e("div",{staticClass:"group-bottom-content"},[e("div",{staticClass:"group-count"},[t._v(" 群人数上限： "),e("a-input-number",{staticClass:"darwNumber",staticStyle:{width:"60px"},attrs:{precision:0,min:0,max:200,disabled:"0"==a.status||"3"==a.status},on:{change:function(e){return t.ongroupChange(e,a.count,s)}},model:{value:a.userLimit,callback:function(e){t.$set(a,"userLimit",e)},expression:"item.userLimit"}})],1),"0"!=a.status&&"2"!=a.status||"修改"!=t.isAddText?t._e():e("div",{staticClass:"stop-btn"},[e("a-button",{on:{click:function(e){return t.deactivate(s)}}},[t._v("停用")])],1)])])])})),e("div",{staticClass:"row"},[e("span",{staticClass:"title"},[t._v("群聊:")]),e("div",{staticClass:"content"},[e("a-button",{staticClass:"aks-border-but",on:{click:function(e){t.visibleTree=!0}}},[e("a-icon",{attrs:{type:"plus"}}),t._v("选择群聊 ")],1)],1)])],2),e("p",{staticClass:"base-info"},[t._v("功能设置")]),e("a-form-model-item",{attrs:{label:"二维码预览"}},[e("CodePreview",{attrs:{urlCode:t.urlCode,qrCode:t.qrCode,title:"更换头像",state:t.state},on:{qrcodeCallback:t.qrcodeCallback}}),e("p",[t._v("* 此二维码只是样式预览效果，请勿直接使用")])],1),e("a-form-model-item",{attrs:{"wrapper-col":{span:12,offset:2}}},[e("a-button",{attrs:{type:"primary","html-type":"submit",loading:t.loading},on:{click:t.submit}},[t._v(" "+t._s("".concat(t.isAddText,"活码"))+" ")])],1)],1)],1),e("a-modal",{attrs:{footer:null,centered:""},model:{value:t.visibleTag,callback:function(e){t.visibleTag=e},expression:"visibleTag"}},[e("SelectTags",{attrs:{selectTagList:t.form.selectTagList},on:{cancle:function(e){t.visibleTag=!1},serviceOk:t.serviceOk}})],1),e("a-modal",{attrs:{footer:null,width:"680px",destroyOnClose:"",centered:""},on:{cancle:function(e){t.AddspareVisible=!1}},model:{value:t.AddspareVisible,callback:function(e){t.AddspareVisible=e},expression:"AddspareVisible"}},[e("AddTransfer",{attrs:{selectList:t.spareList,maxLength:1,selectRoleIdList:t.selectRoleIdList,disabledId:"staffId",type:"deptId"},on:{serviceOk:t.servicespareOk,cancle:function(e){t.AddspareVisible=!1}}})],1),e("a-modal",{attrs:{footer:null,centered:"",width:"600px",destroyOnClose:""},model:{value:t.visibleTree,callback:function(e){t.visibleTree=e},expression:"visibleTree"}},[e("SelectGroupChat",{attrs:{selectedList:t.form.codeList,isSetRule:!1,isShowNumber:!0},on:{serviceOk:t.serviceGroupOk,cancle:function(e){t.visibleTree=!1}}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"all-center"},[e("a-spin")],1)],1)},s=[],r=i("5530"),n=i("c7eb"),o=i("1da1"),c=(i("d81d"),i("a434"),i("d3b7"),i("99af"),i("3ca3"),i("ddb0"),i("a9e3"),i("0481"),i("4069"),i("4de4"),i("b9cd")),l=i("4f1a"),u=i("e9de"),d=function(){var t=this,e=t._self._c;return e("div",[e("h6",[t._v("添加成员")]),e("p",[t._v("没有想要添加的成员? "),e("a-button",{attrs:{type:"link"},on:{click:function(e){t.addRoleModal=!0}}},[t._v("添加成员教程")])],1),e("a-transfer",{attrs:{"data-source":t.mockData,"show-search":"","target-keys":t.targetKeys,render:function(t){return t.title}},on:{change:t.handleChange}}),e("a-modal",{attrs:{width:"700px",footer:null},model:{value:t.addRoleModal,callback:function(e){t.addRoleModal=e},expression:"addRoleModal"}},[e("AddRoleModal")],1)],1)},f=[],p=i("0cd2"),h={name:"SelectCustomer",components:{AddRoleModal:p["a"]},data:function(){return{mockData:[{key:"title",title:"标题",disabled:!1},{key:"name",title:"名字",disabled:!1}],targetKeys:[],addRoleModal:!1}},methods:{handleChange:function(t,e,i){this.targetKeys=t}}},m=h,g=(i("57c5"),i("2877")),v=Object(g["a"])(m,d,f,!1,null,"18daa4fe",null),b=v.exports,L=i("6bd9"),y=i("1eb1"),x=i("888c"),w=i("c844"),C=function(){var t=this,e=t._self._c;return e("section",{staticClass:"card",staticStyle:{width:"650px"}},[e("div",{staticClass:"tips"},[e("a-icon",{attrs:{type:"bell",theme:"filled"}}),t._v(" 请上传在企业微信后台创建的活码 "),e("a-button",{attrs:{type:"link"}},[t._v("去创建,查看如何创建")])],1),"修改"==t.isAddText?e("div",{staticClass:"code-tag"},[e("a-tag",{attrs:{color:t.chatDetail.statusObj.color}},[t._v(t._s(t.chatDetail.statusObj.text))])],1):t._e(),e("div",{staticClass:"select-group"},[e("UpDateImg",{attrs:{url:t.chatDetail.qrUrl,isDisabled:t.isDisabled},model:{value:t.chatDetail.originFileObj,callback:function(e){t.$set(t.chatDetail,"originFileObj",e)},expression:"chatDetail.originFileObj"}})],1),e("div",{staticClass:"felx"},[e("div",{staticClass:"chat-person-num"},[t._v(" 群人数上限: "),e("a-input-number",{staticClass:"num",attrs:{placeholder:"请输入上限",disabled:"修改"==t.isAddText,min:1,max:200},model:{value:t.chatDetail.userLimit,callback:function(e){t.$set(t.chatDetail,"userLimit",e)},expression:"chatDetail.userLimit"}})],1),"0"!=t.chatDetail.status&&"2"!=t.chatDetail.status||"修改"!=t.isAddText?t._e():e("div",{staticClass:"stop-btn"},[e("a-button",{on:{click:function(e){return t.deactivate()}}},[t._v("停用")])],1)])])},_=[],k={props:{isDisabled:{type:Boolean,default:!1},isAddText:{type:String,default:""},idx:{type:Number,default:null},chatDetail:{type:[Object],default:function(){return{}}}},data:function(){return{file:""}},components:{UpDateImg:u["a"]},methods:{deactivate:function(){var t=this.idx;this.$emit("deactivateHuoMa",{idx:t})}}},A=k,O=(i("9777"),Object(g["a"])(A,C,_,!1,null,"3110618c",null)),P=O.exports,T=function(){var t=this,e=t._self._c;return e("div",{staticClass:"qrcode-wrap"},[e("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar",accept:t.accept,"file-list":t.fileList,showUploadList:!1,customRequest:t.customRequest},on:{preview:t.handlePreview,change:t.handleChange}},[e("a-button",{staticClass:"aks-border-but"},[e("a-icon",{attrs:{type:"plus"}}),t._v(" 上传活码 ")],1)],1)],1)},S=[],I={name:"DefaultAddGroup",data:function(){return{accept:".bmp,.jpg,.jpeg,.png,.tif,.gif,.pcx,.tga,.exif,.fpx,.svg,.psd,.cdr,.pcd,.dxf,.ufo,.eps,.ai,.raw,.WMF,.webp",previewVisible:!1,fileList:[]}},methods:{customRequest:function(t){t.onSuccess()},handlePreview:function(t){this.previewVisible=!0},getBase64:function(t,e){var i=new FileReader;i.addEventListener("load",(function(){return e(i.result)})),i.readAsDataURL(t)},handleChange:function(t){var e,i=this;("uploading"===t.file.status&&(this.getBase64(t.file.originFileObj,(function(e){var a;i.imageUrl=e,i.$emit("addCallback",{originFileObj:null===t||void 0===t||null===(a=t.fileList[0])||void 0===a?void 0:a.originFileObj,imageUrl:i.imageUrl})})),this.fileList=[t.fileList[t.fileList.length-1]],this.fileList[0].status="done"),"removed"===t.file.status)&&(this.fileList=[],this.imageUrl="",this.$emit("addCallback",{originFileObj:null===t||void 0===t||null===(e=t.fileList[0])||void 0===e?void 0:e.originFileObj,imageUrl:this.imageUrl}))}}},j=I,U=(i("d21a"),Object(g["a"])(j,T,S,!1,null,"406d2c78",null)),q=U.exports,E=i("0248"),N=i("a935"),$={name:"NewGruoup",components:{SelectCustomer:b,UsePerson:L["a"],CodePreview:x["a"],SelectTags:w["a"],AddGroupChat:P,DefaultAddGroup:q,AddTransfer:y["a"],UpDateImg:u["a"],SelectGroupChat:l["a"]},computed:{state:function(){return this.$route.query.state},selectCustomerIdList:function(){return this.spareList.map((function(t){return t.source.staffId}))},selectRoleIdList:function(){return this.form.staffList.map((function(t){return t.source.staffId}))},isAddText:function(){var t="";switch(this.$route.query.state){case"add":t="新建";break;case"edit":t="修改";break;case"look":t="查看";break}return t},autoPullId:function(){return this.$route.query.autoPullId}},data:function(){return{visibleTree:!1,sparetext:"选填",hasAddLimit:!1,AddspareVisible:!1,spareList:[],selectList:[],base64:"",groupId:"1",imageUrl:"",index:1,groupList:[],form:{type:0,name:"",isVerify:!1,selectTagList:[],message:"",hasTag:!1,staffList:[],codeList:[]},rules:{name:[{required:!0,message:"未填写二维码名称"}],staffList:[{required:!0,message:"请选择使用人员"}],message:[{required:!0,message:"请填写入群引导语"}]},visibleTag:!1,urlCode:"",qrCode:"",loading:!1,isBuildSucess:!1,addAutoPullId:"",backupStaffWxid:void 0}},created:function(){this.qrCode="",this.urlCode="",this.imageUrl="",this.base64="",this.addAutoPullId="",this.loading=!1,this.isBuildSucess=!1,this.getGroupList(),this.autoPullId?this.getDetailPage():this.form={type:0,name:"",isVerify:!1,selectTagList:[],message:"",hasTag:!1,staffList:[],codeList:[]}},methods:{deactivate:function(t){var e=this;this.$confirm({title:"提示",icon:"",okText:"确认",content:"是否停止该群聊拉人，停用后不能重新启用",onOk:function(){var i=c["h"][3];e.$set(e.form.codeList[t],"status",3),e.$set(e.form.codeList[t],"statusObj",i),e.$forceUpdate()}})},deactivateHuoMa:function(t){var e=t.idx,i=this;this.$confirm({title:"提示",icon:"",okText:"确认",content:"是否停止该群聊拉人，停用后不能重新启用",onOk:function(){var t=c["h"][3];i.$set(i.form.codeList[e],"status",3),i.$set(i.form.codeList[e],"statusObj",t),i.$forceUpdate()}})},ongroupChange:function(t,e,i){t<=e?this.$set(this.form.codeList[i],"userLimit",e+1):this.$set(this.form.codeList[i],"userLimit",t),this.$forceUpdate()},onChangeWay:function(){this.$set(this.form,"codeList",[])},serviceGroupOk:function(t){var e=this;this.visibleTree=!1,t.groupList.map((function(t,e){t.index=e,t.originFileObj=""})),t.groupList.map((function(t){t.userLimit=200,t.status=1,t.statusObj={color:"",text:""},e.form.codeList.push(t)}))},detelGroup:function(t){this.form.codeList.splice(t,1)},getMember:function(){this.form.staffList.length>0?this.AddspareVisible=!0:this.$message.warning("请先选择使用人员")},onChange:function(t,e){this.onlineTime,this.$set(this.form.staffList[e],"value",t)},servicespareOk:function(t){this.AddspareVisible=!1,this.spareList=t},closespareDetel:function(t){this.spareList.splice(t,1)},hasAddLimitStaus:function(){if(this.form.staffList.length<=0)return this.$message.warning("未添加使用成员，请先选择使用成员"),void(this.hasAddLimit=!1);this.hasAddLimit?this.sparetext="必填":this.sparetext="选填"},getGroupList:function(){var t=this,e={pageSize:999,currentPage:1};Object(E["f"])(e).then((function(e){t.groupList=e.data,t.groupId=t.groupList[0].groupId})).catch((function(e){t.$message.error(e)}))},deletecodeList:function(t){this.form.codeList.splice(t,1)},submit:function(){var t=this;this.$refs.ruleForm.validate(function(){var e=Object(o["a"])(Object(n["a"])().mark((function e(i){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!i){e.next=27;break}if(e.prev=1,!(t.form.codeList.length<=0)){e.next=5;break}return"0"==t.form.type?t.$message.error("群聊不可为空"):t.$message.error("群活码不可为空"),e.abrupt("return");case 5:if(!t.hasAddLimit){e.next=12;break}if(!(t.spareList.length<=0)){e.next=9;break}return t.$message.warning("请选择备用人员"),e.abrupt("return");case 9:t.backupStaffWxid=t.spareList[0].source.userid,e.next=13;break;case 12:t.spareList.length<=0?t.backupStaffWxid=void 0:t.backupStaffWxid=t.spareList[0].source.userid;case 13:return e.next=15,t.validate();case 15:return t.loading=!0,e.next=18,t.updateImage();case 18:return e.next=20,t.submitInterface();case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](1),t.loading=!1;case 25:e.next=28;break;case 27:return e.abrupt("return",!1);case 28:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t){return e.apply(this,arguments)}}())},validate:function(){var t=this;return new Promise((function(e,i){if(t.form.codeList.length>0)for(var a=t.form.codeList,s=0;s<a.length;s++){var r=a[s];if(!r.originFileObj){var n=void 0;n="0"==t.form.type?"群聊":"群活码",t.$message.warning("".concat(n).concat(s+1,"图片没有上传")),i("".concat(n).concat(s+1,"图片没有上传"))}}e()}))},submitInterface:function(){var t=this,e=this.getParams(),i=this.autoPullId?this.updatePage(e):this.addPage(e);this.isBuildSucess=!0,i.then((function(e){var i;null!==(i=e.data)&&void 0!==i&&i.qrCode&&(t.qrCode=e.data.qrCode,t.addAutoPullId=e.data.autoPullId),t.imageUrl?"edit"===t.state&&t.updatePic():(t.loading=!1,t.$message.success("".concat(t.isAddText,"拉群成功")),t.$router.go(-1))})).catch((function(e){t.$message.error(e)}))},addCallback:function(t){var e=t.originFileObj,i=t.imageUrl;this.form.codeList.push({qrUrl:i,qrMediaId:"",status:1,userLimit:200,step:"",statusObj:{color:"",text:""},originFileObj:e})},qrcodeCallback:function(t){var e=t.base64,i=t.imageUrl;this.base64=e,this.imageUrl=i,this.updatePic()},updatePic:function(){var t=this;if(this.imageUrl&&this.qrCode&&this.isBuildSucess){var e={autoPullId:this.addAutoPullId||this.autoPullId,base64:this.base64};Object(E["k"])(e).catch((function(e){t.$message.error("二维码头像更新失败")})).finally((function(){t.loading=!1,t.$message.success("".concat(t.isAddText,"拉群成功")),t.$router.go(-1)}))}},updateImage:function(){var t=this,e=this.form.codeList,i=e.map((function(e){return new Promise((function(i){var a;if(null!==(a=e.originFileObj)&&void 0!==a&&a.name){var s=new FormData;s.append("file",e.originFileObj),s.append("dir","groupAutoPull"),s.append("type","image"),Object(N["a"])(s).then((function(t){e.qrUrl=t.data.fileUrl,e.qrMediaId=t.data.mediaId,i()})).catch((function(){t.loading=!1,t.$message.error("图片上传失败")}))}else setTimeout((function(){i()}),0)}))}));return Promise.all(i).catch((function(e){t.loading=!1}))},getDetailPage:function(){var t=this;Object(E["d"])({autoPullId:this.autoPullId}).then((function(e){var i,a;e.data&&(t.form=Object(r["a"])(Object(r["a"])({},e.data),{},{isVerify:Boolean(e.data.isVerify),hasTag:(null===(i=e.data.tagList)||void 0===i?void 0:i.length)>0,selectTagList:e.data.tagList,staffList:null===(a=e.data.staffList)||void 0===a?void 0:a.map((function(t){return{title:t.staffName,key:String(t.staffId),source:t,value:t.userLimit}})),codeList:e.data.codeList.map((function(t){return t.status=t.status,t.count=t.userCount,t.originFileObj={},t.statusObj=c["h"][t.status],t.chatId=t.groupChatWxid||"",t.chatName=t.groupName||"",t}))}),e.data.backupStaffList.length>0?t.spareList=e.data.backupStaffList.map((function(t){var e={};return e.source={thumbAvatar:t.staffAvatar,userid:t.staffWxid},e.key=String(t.staffWxid),e.title=t.staffName,e})):t.spareList=[],"1"==e.data.openStaffAddLimit?(t.hasAddLimit=!0,t.sparetext="必填"):(t.sparetext="选填",t.hasAddLimit=!1),t.qrCode=e.data.qrCode,t.urlCode=e.data.urlCode)})).catch((function(e){t.$message.error(e)}))},getParams:function(){var t,e=this.form,i=[];"0"==e.type?this.form.codeList.map((function(t,e){var a={codeId:t.codeId||void 0,status:t.status,groupChatId:t.groupId,groupChatWxid:t.chatId,groupChatName:t.chatName,qrUrl:t.qrUrl,userLimit:t.userLimit,qrMediaId:t.qrMediaId,step:e+1};i.push(a)})):i=e.codeList.map((function(t,e){return{qrUrl:t.qrUrl,qrMediaId:t.qrMediaId,codeId:t.codeId,status:t.status,userLimit:t.userLimit,step:e+1}}));var a={type:e.type,name:e.name,groupId:this.groupId,backupStaffWxid:this.backupStaffWxid,openStaffAddLimit:this.hasAddLimit?1:0,isVerify:Number(e.isVerify),tagIdList:e.hasTag&&(null===(t=e.selectTagList)||void 0===t?void 0:t.map((function(t){return t.tagId})))||[],message:e.message,staffList:e.staffList.map((function(t){return{staffId:t.source.staffId,userid:t.source.userid,staffName:t.source.name,thumbAvatar:t.source.thumbAvatar,userLimit:t.value}})),codeList:i};return a},updatePage:function(t){return t.autoPullId=this.autoPullId,Object(E["j"])(t)},addPage:function(t){return Object(E["a"])(t)},closeTag:function(t){this.form.selectTagList.splice(t,1)},serviceOk:function(t){this.form.selectTagList=t.filter((function(t){return t.selectTagList.length>0})).map((function(t){return t.selectTagList})).flat(),this.visibleTag=!1}},watch:{state:function(){"add"==this.$route.query.state&&(this.sparetext="选填",this.hasAddLimit=!1,this.spareList=[],this.form.codeList=[])}}},R=$,D=(i("c1c4"),Object(g["a"])(R,a,s,!1,null,"68ba0b0c",null));e["default"]=D.exports},"6bd9":function(t,e,i){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"use-person"},[e("ul",{staticClass:"a-line-omit",on:{click:function(e){t.visibleUsePerson=!0}}},[t._l(t.usePersionList,(function(i){return e("li",{key:i.key,staticClass:"a-line-omit"},[e("a-tooltip",{attrs:{title:i.title}},[i.icon?e("a-icon",{staticClass:"icon",attrs:{type:i.icon}}):e("a-avatar",{staticClass:"imgs",attrs:{size:23,src:i.source.thumbAvatar||t.defaultThumbAvatar}}),e("span",{staticClass:"title"},[t._v(" "+t._s(i.title)+" ")])],1)],1)})),t.usePersionList.length<1?e("p",{staticClass:"font-color-black-25"},[t._v(t._s(t.placeHolder))]):t._e()],2),t.usePersionList.length>2?e("span",{staticClass:"omit"},[t._v("等"+t._s(t.usePersionList.length)+"个账号")]):t._e(),e("a-icon",{attrs:{type:"caret-down"}})],1),e("a-modal",{attrs:{footer:null,width:"680px",centered:""},model:{value:t.visibleUsePerson,callback:function(e){t.visibleUsePerson=e},expression:"visibleUsePerson"}},[e("AddTransfer",t._b({attrs:{type:t.type,title:t.title,selectList:t.usePersionList,selectRoleIdList:t.selectRoleIdList},on:{serviceOk:t.serviceOk,cancle:function(e){t.visibleUsePerson=!1}}},"AddTransfer",t.source,!1))],1)],1)},s=[],r=(i("d81d"),i("1eb1")),n={name:"UsePerson",props:{defaultUsePerson:{type:[Array],default:function(){return[]}},placeHolder:{type:[String],default:""},type:{type:[String],default:""},title:{type:[String],default:"选择成员"},value:{type:[Array],default:function(){return[]}},needControlReturn:{type:Boolean,default:!1},source:{type:Object,default:function(){return{}}}},components:{AddTransfer:r["a"]},data:function(){return{defaultThumbAvatar:i("b5c3"),visibleUsePerson:!1,selectRoleIdList:[],usePersionList:this.value}},watch:{value:function(){this.usePersionList=this.value}},methods:{serviceOk:function(t){var e=this;t.length<1?this.usePersionList=this.defaultUsePerson:this.usePersionList=t,this.usePersionList.map((function(t){t.value=100})),this.needControlReturn||(this.visibleUsePerson=!1),this.$emit("input",this.usePersionList),this.$emit("usePersionInfo",this.usePersionList,(function(){e.visibleUsePerson=!1}))}}},o=n,c=(i("f0b2"),i("2877")),l=Object(c["a"])(o,a,s,!1,null,"de146f5e",null);e["a"]=l.exports},"7b86":function(t,e,i){},"7cc4":function(t,e,i){},"888c":function(t,e,i){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"qrcode-wrap"},[e("div",{staticClass:"qr-code"},[e("img",{staticClass:"qr-img",attrs:{src:t.imgUrlCode,alt:"二维码"}}),t.urlCode?t._e():e("img",{staticClass:"qr-header",attrs:{src:t.defaultLogo}}),t.imageUrl?e("img",{staticClass:"qr-header",attrs:{src:t.imageUrl}}):t._e()]),e("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar","list-type":"picture-card",accept:t.accept,"file-list":t.fileList,customRequest:t.customRequest},on:{preview:t.handlePreview,change:t.handleChange}},[e("div",[e("a-icon",{attrs:{type:"plus"}}),e("div",{staticClass:"ant-upload-text"},[t._v(" "+t._s(t.title)+" ")])],1)]),e("a-modal",{attrs:{visible:t.previewVisible,footer:null},on:{cancel:function(e){t.previewVisible=!1}}},[e("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:t.imageUrl}})])],1)},s=[],r=i("ca00"),n={name:"CodePreview",props:{urlCode:{type:[String],default:""},qrCode:{type:[String],default:""},title:{type:[String],default:"选择图片"},state:{type:[String],default:"add"}},data:function(){return{accept:".bmp,.jpg,.jpeg,.png,.tif,.gif,.pcx,.tga,.exif,.fpx,.svg,.psd,.cdr,.pcd,.dxf,.ufo,.eps,.ai,.raw,.WMF,.webp",previewVisible:!1,imageUrl:"",fileList:[],defaultUrl:"/imgs/qr-preview.png",defaultLogo:"/imgs/default-logo.png"}},watch:{imgUrlQr:function(){var t=this;this.imageUrl&&Object(r["q"])(this.imgUrlQr,this.imageUrl).then((function(e){t.qrcodeCallback(e)}))}},activated:function(){this.imageUrl="",this.previewVisible=!1,this.fileList=[]},computed:{imgUrlCode:function(){return this.urlCode||this.defaultUrl},imgUrlQr:function(){return this.qrCode||this.defaultUrl}},mounted:function(){var t=this;"add"===this.state&&Object(r["q"])(this.imgUrlQr,this.defaultLogo).then((function(e){t.qrcodeCallback(e)}))},methods:{customRequest:function(t){t.onSuccess()},handlePreview:function(t){this.previewVisible=!0},getBase64:function(t,e){var i=new FileReader;i.addEventListener("load",(function(){return e(i.result)})),i.readAsDataURL(t)},handleChange:function(t){var e=this;this.$emit("qrcodeInfo",t),"uploading"===t.file.status&&(this.getBase64(t.file.originFileObj,(function(t){e.imageUrl=t,Object(r["q"])(e.imgUrlQr,e.imageUrl).then((function(t){e.qrcodeCallback(t)}))})),this.fileList=[t.fileList[t.fileList.length-1]],this.fileList[0].status="done"),"removed"===t.file.status&&(this.fileList=[],this.imageUrl="")},qrcodeCallback:function(t){this.$emit("qrcodeCallback",{base64:t,imageUrl:this.imageUrl})}}},o=n,c=(i("c59a"),i("2877")),l=Object(c["a"])(o,a,s,!1,null,"5625656c",null);e["a"]=l.exports},"91a5":function(t,e,i){},9777:function(t,e,i){"use strict";i("91a5")},a935:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var a=i("b775"),s={uploadMedia:"/client_group/upload/uploadMedia"};function r(t){return Object(a["b"])({url:s.uploadMedia,method:"post",data:t})}},acb6:function(t,e,i){},b4f0:function(t,e,i){},b5c3:function(t,e,i){t.exports=i.p+"assets/default.c42b7ede.svg"},b9cd:function(t,e,i){"use strict";i.d(e,"l",(function(){return a})),i.d(e,"j",(function(){return s})),i.d(e,"o",(function(){return r})),i.d(e,"n",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"g",(function(){return c})),i.d(e,"d",(function(){return l})),i.d(e,"a",(function(){return u})),i.d(e,"f",(function(){return d})),i.d(e,"k",(function(){return f})),i.d(e,"i",(function(){return p})),i.d(e,"e",(function(){return h})),i.d(e,"p",(function(){return m})),i.d(e,"c",(function(){return g})),i.d(e,"h",(function(){return v})),i.d(e,"q",(function(){return b})),i.d(e,"m",(function(){return L}));var a="LOSS_STATUS",s="GROUP_STATUS",r="ORDER_WAY",n="ORDER_CONDITION",o="ADD_WAY",c="GENDER",l="CUSTOMER_STATUS",u={0:"待分配",1:"待添加",2:"待通过",3:"已添加",4:"导入中"},d={1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六",7:"周日"},f=[{text:"未发送",color:"#ffc2c2",id:0},{text:"已发送",color:"",id:1},{text:"已不是好友",color:"#ffd4b6",id:2},{text:"客户接收达上限",color:"#fbe8ae",id:3},{text:"本月消息已经达到上限",color:"",id:4}],p=[{text:"未发送",color:"#ffc2c2",id:0},{text:"已发送",color:"",id:2},{text:"没有群发任务",color:"",id:4}],h={1:"微信",2:"企业微信"},m=[{id:"immediately",value:"立即发送"},{id:"timing",value:"定时发送"}],g={0:"渠道码",1:"区域扫码",2:"自动拉群",3:"一客一码",4:"加好友",5:"通过群码拉群"},v={0:{text:"拉人中",color:"green"},1:{text:"未开始",color:""},2:{text:"已达上限",color:"orange"},3:{text:"已停用",color:"red"}},b={0:{text:"创建失败",color:"green",id:0},1:{text:"待发送",color:"rgba(34,34,34,.85)",id:1},2:{text:"已发送",color:"rgba(34,34,34,.85)",id:2},3:{text:"已取消",color:"rgba(34,34,34,.85)",id:3},4:{text:"提醒发送",color:"#1890ff",id:4}},L=[{text:"文章",id:"0",format:""},{text:"链接",id:"1"},{text:"海报",id:"2",max:2,format:".bmp,.jpg,.jpeg,.png,.tif,.gif,.pcx,.tga,.exif,.fpx,.svg,.psd,.cdr,.pcd,.dxf,.ufo,.eps,.ai,.raw,.WMF,.webp",tips:"请上传png、jpg格式不超过2M的文件"},{text:"视频",id:"7",max:2e5,format:".MP4",tips:"请上传格式为MP4的视频文件"},{text:"PDF",id:"3",max:20,format:".pdf",icon:"/icons/pdf.png",tips:"请上传PDF格式不超过20M的文件"},{text:"PPT",id:"4",max:20,format:".pptx,.ppt,.pps",icon:"/icons/ppt.svg",tips:"请上传PPT格式不超过20M的文件"},{text:"表格",id:"5",max:20,format:".xlsx,.xls,.csv",icon:"/icons/excel.svg",tips:"请上传csv、xlsx格式不超过20M的文件"},{text:"文档",id:"6",max:20,format:".txt,.doc,.docx",icon:"/icons/word.svg",tips:"请上传doc、txt.docx格式不超过20M的文件"}]},c036:function(t,e,i){},c1c4:function(t,e,i){"use strict";i("3e10")},c59a:function(t,e,i){"use strict";i("acb6")},c7eb:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0"),i("b636"),i("944a"),i("0c47"),i("23dc"),i("3410"),i("159b"),i("b0c0"),i("131a"),i("fb6a");var a=i("53ca");function s(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
s=function(){return t};var t={},e=Object.prototype,i=e.hasOwnProperty,r=Object.defineProperty||function(t,e,i){t[e]=i.value},n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function u(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(S){u=function(t,e,i){return t[e]=i}}function d(t,e,i,a){var s=e&&e.prototype instanceof h?e:h,n=Object.create(s.prototype),o=new O(a||[]);return r(n,"_invoke",{value:C(t,i,o)}),n}function f(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(S){return{type:"throw",arg:S}}}t.wrap=d;var p={};function h(){}function m(){}function g(){}var v={};u(v,o,(function(){return this}));var b=Object.getPrototypeOf,L=b&&b(b(P([])));L&&L!==e&&i.call(L,o)&&(v=L);var y=g.prototype=h.prototype=Object.create(v);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function s(r,n,o,c){var l=f(t[r],t,n);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==Object(a["a"])(d)&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){s("next",t,o,c)}),(function(t){s("throw",t,o,c)})):e.resolve(d).then((function(t){u.value=t,o(u)}),(function(t){return s("throw",t,o,c)}))}c(l.arg)}var n;r(this,"_invoke",{value:function(t,i){function a(){return new e((function(e,a){s(t,i,e,a)}))}return n=n?n.then(a,a):a()}})}function C(t,e,i){var a="suspendedStart";return function(s,r){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===s)throw r;return T()}for(i.method=s,i.arg=r;;){var n=i.delegate;if(n){var o=_(n,i);if(o){if(o===p)continue;return o}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===a)throw a="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a="executing";var c=f(t,e,i);if("normal"===c.type){if(a=i.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(a="completed",i.method="throw",i.arg=c.arg)}}}function _(t,e){var i=e.method,a=t.iterator[i];if(void 0===a)return e.delegate=null,"throw"===i&&t.iterator["return"]&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var s=f(a,t.iterator,e.arg);if("throw"===s.type)return e.method="throw",e.arg=s.arg,e.delegate=null,p;var r=s.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,s=function e(){for(;++a<t.length;)if(i.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=void 0,e.done=!0,e};return s.next=s}}return{next:T}}function T(){return{value:void 0,done:!0}}return m.prototype=g,r(y,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:m,configurable:!0}),m.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,l,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},x(w.prototype),u(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,i,a,s,r){void 0===r&&(r=Promise);var n=new w(d(e,i,a,s),r);return t.isGeneratorFunction(i)?n:n.next().then((function(t){return t.done?t.value:n.next()}))},x(y),u(y,l,"Generator"),u(y,o,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),i=[];for(var a in e)i.push(a);return i.reverse(),function t(){for(;i.length;){var a=i.pop();if(a in e)return t.value=a,t.done=!1,t}return t.done=!0,t}},t.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(i,a){return n.type="throw",n.arg=t,e.next=i,a&&(e.method="next",e.arg=void 0),!!a}for(var s=this.tryEntries.length-1;s>=0;--s){var r=this.tryEntries[s],n=r.completion;if("root"===r.tryLoc)return a("end");if(r.tryLoc<=this.prev){var o=i.call(r,"catchLoc"),c=i.call(r,"finallyLoc");if(o&&c){if(this.prev<r.catchLoc)return a(r.catchLoc,!0);if(this.prev<r.finallyLoc)return a(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return a(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return a(r.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a];if(s.tryLoc<=this.prev&&i.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var r=s;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var n=r?r.completion:{};return n.type=t,n.arg=e,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(n)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),A(i),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var s=a.arg;A(i)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:P(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),p}},t}},d21a:function(t,e,i){"use strict";i("7b86")},e1b8:function(t,e,i){"use strict";i("c036")},e9de:function(t,e,i){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"qrcode-wrap"},[e("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar","list-type":"picture-card",accept:t.accept,disabled:t.isDisabled,"file-list":t.fileList,customRequest:t.customRequest},on:{preview:t.handlePreview,change:t.handleChange}},[e("div",[e("a-icon",{attrs:{type:"plus"}}),e("div",{staticClass:"ant-upload-text"},[t._v(" "+t._s(t.imageUrl?"重新选择":t.titleName)+" ")])],1)]),e("a-modal",{attrs:{visible:t.previewVisible,footer:null},on:{cancel:function(e){t.previewVisible=!1}}},[e("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:t.imageUrl}})])],1)},s=[],r={name:"UpDateImg",props:["value","url","title","isDisabled","articleFile"],data:function(){return{accept:".jpg,.png,",previewVisible:!1,imageUrl:"",titleName:this.title||"上传活码",fileList:[]}},watch:{url:{handler:function(){this.url&&(this.fileList[0]={uid:"-1",name:"image.png",status:"done",url:this.url},this.imageUrl=this.url)},immediate:!0},articleFile:{handler:function(){var t=this;this.articleFile&&this.getBase64(this.articleFile,(function(e){t.fileList[0]={uid:"-1",name:"image.png",status:"done",url:t.imageUrl},t.imageUrl=e}))},immediate:!0}},methods:{customRequest:function(t){t.onSuccess()},handlePreview:function(t){this.previewVisible=!0},getBase64:function(t,e){var i=new FileReader;i.addEventListener("load",(function(){return e(i.result)})),i.readAsDataURL(t)},handleChange:function(t){var e,i=this;"uploading"===t.file.status&&(this.getBase64(t.file.originFileObj,(function(t){i.imageUrl=t})),this.fileList=[t.fileList[t.fileList.length-1]],this.fileList[0].status="done"),"removed"===t.file.status&&(this.fileList=[],this.imageUrl=""),this.$emit("input",null===t||void 0===t||null===(e=t.fileList[t.fileList.length-1])||void 0===e?void 0:e.originFileObj)}}},n=r,o=(i("14aa"),i("2877")),c=Object(o["a"])(n,a,s,!1,null,"05819df1",null);e["a"]=c.exports},f0b2:function(t,e,i){"use strict";i("b4f0")}}]);