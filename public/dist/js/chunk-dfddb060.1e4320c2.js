(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dfddb060"],{"4b69":function(t,e,n){"use strict";n("80a0")},"5ffc":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"k",(function(){return o})),n.d(e,"l",(function(){return r})),n.d(e,"f",(function(){return c})),n.d(e,"j",(function(){return u})),n.d(e,"g",(function(){return d})),n.d(e,"h",(function(){return l})),n.d(e,"b",(function(){return m})),n.d(e,"i",(function(){return h})),n.d(e,"m",(function(){return p})),n.d(e,"c",(function(){return f})),n.d(e,"e",(function(){return b})),n.d(e,"d",(function(){return g}));var s=n("b775"),i={getList:"/channel/batchAddFriends/getList",downloadTemp:"/channel/batchAddFriends/downloadTemp",importCustomer:"/channel/batchAddFriends/importCustomer",deleteCustomer:"/channel/batchAddFriends/delete",record:"/channel/import/record",statistics:"/channel/import/statistics",deleteImport:"/channel/import/delete",remind:"/channel/batchAddFriends/remind",getInfo:"/channel/import/info",setting:"/channel/batchAddFriends/setting",settingInfo:"/channel/batchAddFriends/settingInfo",batchDistribute:"/channel/batchAddFriends/batchDistribute",exportData:"/channel/import/export"};function a(t){return Object(s["b"])({url:i.batchDistribute,method:"post",data:t})}function o(t){return Object(s["b"])({url:i.setting,method:"post",data:t})}function r(t){return Object(s["b"])({url:i.settingInfo,method:"get",params:t})}function c(t){return Object(s["b"])({url:i.getInfo,method:"get",params:t})}function u(t){return Object(s["b"])({url:i.remind,method:"post",params:t})}function d(t){return Object(s["b"])({url:i.getList,method:"get",params:t})}function l(t){return Object(s["b"])({url:i.importCustomer,method:"post",data:t})}function m(t){return Object(s["b"])({url:i.deleteCustomer,method:"post",data:t})}function h(t){return Object(s["b"])({url:i.record,method:"get",params:t})}function p(t){return Object(s["b"])({url:i.statistics,method:"get",params:t})}function f(t){return Object(s["b"])({url:i.deleteImport,method:"post",params:t})}function b(t){return Object(s["b"])({url:i.exportData,method:"post",data:t,responseType:"blob"})}function g(){window.open(PRD_VUE_APP_API_BASE_URL+i.downloadTemp,"_blank")}},"80a0":function(t,e,n){},b3de:function(t,e,n){"use strict";n.r(e);n("b0c0");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"recordDetail"},[e("a-page-header",{staticClass:"page-header background-white",attrs:{title:"详情"},on:{back:function(e){return t.$router.go(-1)}}}),e("div",{staticClass:"table-header page-box"},[e("div",{staticClass:"flexd"},[e("div",{staticStyle:{display:"flex"}},[e("strong",[t._v("共"+t._s(t.clientList.length)+"个客户")]),e("div",{staticClass:"a-vertical"}),e("span",[t._v("已添加"+t._s(t.num)+"个客户")])]),e("div",{staticStyle:{display:"flex"}},[e("div",{staticClass:"r-t",staticStyle:{display:"flex"}},[e("div",{staticClass:"txt"},[t._v("添加状态：")]),e("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择状态"},on:{change:t.customerChange},model:{value:t.customerSource,callback:function(e){t.customerSource=e},expression:"customerSource"}},t._l(t.customerSourceList,(function(n,s){return e("a-select-option",{key:s,attrs:{value:n.value}},[t._v(" "+t._s(n.name)+" ")])})),1)],1),e("div",{staticStyle:{display:"flex"}},[e("a-input-search",{staticStyle:{width:"200px"},attrs:{placeholder:"请搜索电话"},on:{search:t.onSearchNmae,pressEnter:t.onSearchNmae},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}})],1)])])]),e("a-table",{staticClass:"table-bg page-box",attrs:{columns:t.columns,"data-source":t.clientList,pagination:t.pagination,loading:t.tableLoading},on:{change:t.change},scopedSlots:t._u([{key:"customer",fn:function(n){return e("div",{staticClass:"name-list"},[e("p",[t._v(t._s(n.customerPhone||"-"))]),e("span",{directives:[{name:"show",rawName:"v-show",value:"1"==n.isDel,expression:" customer.isDel=='1'"}],staticClass:"err"},[t._v("客户已被删除")])])}},{key:"distributionStaffName",fn:function(n){return e("a-tag",{},[e("a-icon",{staticStyle:{color:"#7da3d1"},attrs:{type:"user"}}),t._v(" "+t._s(n)+" ")],1)}},{key:"operation",fn:function(n,s,i){return e("div",{staticStyle:{display:"flex"},attrs:{index:i}},[e("a-button",{attrs:{type:"link",disabled:"3"==s.status||"1"==s.isDel},on:{click:function(e){return t.operationTips(s.id)}}},[t._v("提醒添加")])],1)}}])},[e("div",{attrs:{slot:"statusTitle"},slot:"statusTitle"},[t._v(" 添加状态 "),e("a-tooltip",{attrs:{title:"待分配：未分配跟进成员的客户。待添加：成员未添加的客户。待通过：已发送申请，等待通过的客户。已添加：成功添加的客户"}},[e("a-icon",{staticStyle:{"margin-left":"4px"},attrs:{type:"question-circle"}})],1)],1)]),e("a-modal",{staticClass:"noBottomBorder",attrs:{centered:!0,okText:"发送",width:416},on:{ok:t.tipsOk},model:{value:t.tipsShow,callback:function(e){t.tipsShow=e},expression:"tipsShow"}},[e("p",{staticClass:"tips-p"},[t._v("提醒")]),e("div",{staticClass:"tips-content"},[t._v("将通过"+t._s(t.ENTERPRICE_NAME)+"提醒给该成员添加该手机号为好友，是否确认发送？")])])],1)},i=[],a=(n("d3b7"),n("d81d"),n("5ffc")),o={data:function(){return{reId:null,customerSource:[],clientList:[],columns:[{title:"电话号码",dataIndex:"customer",key:"customer",scopedSlots:{customRender:"customer"}},{title:"备注名",dataIndex:"customerRemarks",key:"customerRemarks",customRender:function(t,e,n){return t||"-"}},{title:"员工",dataIndex:"distributionStaffName",scopedSlots:{customRender:"distributionStaffName"},key:"distributionStaffName"},{dataIndex:"statusText",key:"status",slots:{title:"statusTitle"},customRender:function(t,e,n){return t||"-"}},{title:"操作",dataIndex:"operation",key:"operation",scopedSlots:{customRender:"operation"}}],searchName:"",tipsShow:!1,status:"",num:0,customerSourceList:[{name:"全部",value:""},{name:"待分配",value:"0"},{name:"待添加",value:"1"},{name:"待通过",value:"2"},{name:"已添加",value:"3"}],tableLoading:!1,pagination:{current:1,pageSize:10,total:0}}},created:function(){this.remindId=this.$route.query.remindId,this.num=this.$route.query.num,this.remindId&&this.getListDetail()},methods:{operationTips:function(t){this.reId=t,this.tipsShow=!0},tipsOk:function(){var t=this,e={id:this.reId};Object(a["j"])(e).then((function(e){t.$message.success("提醒成功")})).catch((function(e){t.$message.error(e)})).finally((function(){t.tipsShow=!1}))},getListDetail:function(){var t=this,e={id:this.remindId,status:this.status,customerPhone:this.searchName,currentPage:this.pagination.current,pageSize:this.pagination.pageSize};"1"==this.pagination.current&&(this.clientList=[]),Object(a["f"])(e).then((function(e){var n;null!==e&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&n.list&&(t.pagination.total=e.data.total,t.disposeClientList(e.data.list))})).catch((function(e){t.$message.error(e)})).finally((function(){t.tableLoading=!1}))},disposeClientList:function(t){this.clientList=t.map((function(t){return"0"==(null===t||void 0===t?void 0:t.status)?t.statusText="待分配":"1"==(null===t||void 0===t?void 0:t.status)?t.statusText="待添加":"2"==(null===t||void 0===t?void 0:t.status)?t.statusText="待通过":"3"==(null===t||void 0===t?void 0:t.status)&&(t.statusText="已添加"),t.key=t.id,t.customer={customerPhone:t.customerPhone,isDel:t.isDel||"0"},Object.assign({},t)}))},onSearchNmae:function(){this.getListDetail()},customerChange:function(t){this.status=t,this.getListDetail()},change:function(t){var e=t.current;this.pagination.current=e,this.getListDetail()}}},r=o,c=(n("4b69"),n("2877")),u=Object(c["a"])(r,s,i,!1,null,"78a964ce",null);e["default"]=u.exports}}]);