(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23c2ed57"],{"1c9c":function(t,e,n){"use strict";n.d(e,"s",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"t",(function(){return s})),n.d(e,"j",(function(){return c})),n.d(e,"n",(function(){return u})),n.d(e,"y",(function(){return l})),n.d(e,"w",(function(){return d})),n.d(e,"g",(function(){return f})),n.d(e,"B",(function(){return m})),n.d(e,"c",(function(){return p})),n.d(e,"h",(function(){return g})),n.d(e,"a",(function(){return h})),n.d(e,"q",(function(){return b})),n.d(e,"i",(function(){return v})),n.d(e,"v",(function(){return y})),n.d(e,"p",(function(){return O})),n.d(e,"b",(function(){return C})),n.d(e,"l",(function(){return _})),n.d(e,"m",(function(){return T})),n.d(e,"z",(function(){return x})),n.d(e,"C",(function(){return j})),n.d(e,"k",(function(){return S})),n.d(e,"A",(function(){return L})),n.d(e,"x",(function(){return w})),n.d(e,"r",(function(){return D})),n.d(e,"o",(function(){return N})),n.d(e,"d",(function(){return k})),n.d(e,"f",(function(){return R})),n.d(e,"u",(function(){return I}));var a=n("b775"),r={staff:"/enterprise/role/staff",roleList:"/enterprise/role",roleResource:"/enterprise/role/getRoleResource",syncAll:"/enterprise/staff/syncAll",getCustGrpList:"/client_group/customerGroup/getCustGrpList",changeRole:"/enterprise/role/change",departmentStaff:"/enterprise/department/staff",addStaffRole:"/enterprise/role/addStaffRole",getQuitStaff:"/client_manager/transfer/getQuitStaff",getStaff:"/enterprise/staff/get",department:"/enterprise/department",getDepartmentStaff:"/enterprise/department/getStaff",loginAdmin:"/enterprise/staff/loginAdmin",getRoleRes:"/enterprise/role/getRoleRes",changeRes:"/enterprise/role/change/res",getPermissionLog:"/enterprise/permissionLog/query",staffInfo:"/enterprise/staff/statistics/get/staffInfo",yesterdayData:"/enterprise/staff/statistics/get/yesterdayData",getDate:"/enterprise/staff/statistics/get/date",editDelConfig:"/client_manager/customerdelremind/editDelConfig",queryDelConfig:"/client_manager/customerdelremind/queryDelConfig",customStage:"/enterprise/staff/statistics/get/stage",idOrUserIdGet:"/enterprise/staff/idOrUserIdGet",staffOKR:"/enterprise/staffOKR/staffOKR",saveOKR:"/enterprise/staffOKR/save",getStaffOKRList:"/enterprise/staffOKR/getStaffOKRList",getRepeatList:"/enterprise/staffOKR/getRepeatList",checkTime:"enterprise/staffOKR/checkTime",delOkr:"/enterprise/staffOKR/del",modify:"/enterprise/staffOKR/modify"};function i(t){return Object(a["b"])({url:r.idOrUserIdGet,method:"get",params:t})}function o(t){return Object(a["b"])({url:r.customStage,method:"get",params:t})}function s(t){return Object(a["b"])({url:r.loginAdmin,method:"get",params:t})}function c(t){return Object(a["b"])({url:r.getCustGrpList,method:"post",data:t})}function u(t){return Object(a["b"])({url:r.getQuitStaff,method:"get",params:t})}function l(t){return Object(a["b"])({url:r.staff,method:"get",params:t})}function d(){return Object(a["b"])({url:r.roleList,method:"get"})}function f(){return Object(a["b"])({url:r.department,method:"get"})}function m(){return Object(a["b"])({url:r.syncAll,method:"get"})}function p(t){return Object(a["b"])({url:r.changeRole,method:"get",params:t})}function g(){return Object(a["b"])({url:r.departmentStaff,method:"get"})}function h(t){return Object(a["b"])({url:r.addStaffRole,method:"post",data:t})}function b(t){return Object(a["b"])({url:r.getStaff,method:"get",params:t})}function v(t){return Object(a["b"])({url:r.editDelConfig,method:"post",data:t})}function y(t){return Object(a["b"])({url:r.queryDelConfig,method:"post",data:t})}function O(t){return Object(a["b"])({url:r.getRoleRes,method:"get",params:t})}function C(t){return Object(a["b"])({url:r.changeRes,method:"post",data:t})}function _(t){return Object(a["b"])({url:r.getDepartmentStaff,method:"get",params:t})}function T(t){return Object(a["b"])({url:r.getPermissionLog,method:"post",data:t})}function x(t){return Object(a["b"])({url:r.staffInfo,method:"get",params:t})}function j(t){return Object(a["b"])({url:r.yesterdayData,method:"get",params:t})}function S(t){return Object(a["b"])({url:r.getDate,method:"get",params:t})}function L(t){return Object(a["b"])({url:r.staffOKR,method:"get",params:t})}function w(t){return Object(a["b"])({url:r.saveOKR,method:"post",data:t})}function D(t){return Object(a["b"])({url:r.getStaffOKRList,method:"get",params:t})}function N(t){return Object(a["b"])({url:r.getRepeatList,method:"get",params:t})}function k(t){return Object(a["b"])({url:r.checkTime,method:"get",params:t})}function R(t){return Object(a["b"])({url:r.delOkr,method:"post",data:t})}function I(t){return Object(a["b"])({url:r.modify,method:"post",data:t})}},2909:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n("6b75");function r(t){if(Array.isArray(t))return Object(a["a"])(t)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function i(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var o=n("06c5");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return r(t)||i(t)||Object(o["a"])(t)||s()}},"487a":function(t,e,n){(function(e,n){t.exports=n()})(0,(function(){"use strict";var t="@@InfiniteScroll",e=function(t,e){var n,a,r,i,o,s=function(){t.apply(i,o),a=n};return function(){if(i=this,o=arguments,n=Date.now(),r&&(clearTimeout(r),r=null),a){var t=e-(n-a);t<0?s():r=setTimeout((function(){s()}),t)}else s()}},n=function(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop},a=document.defaultView.getComputedStyle,r=function(t){var e=t;while(e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType){var n=a(e).overflowY;if("scroll"===n||"auto"===n)return e;e=e.parentNode}return window},i=function(t){return t===window?document.documentElement.clientHeight:t.clientHeight},o=function(t){return t===window?n(window):t.getBoundingClientRect().top+n(window)},s=function(t){var e=t.parentNode;while(e){if("HTML"===e.tagName)return!0;if(11===e.nodeType)return!1;e=e.parentNode}return!1},c=function(){if(!this.binded){this.binded=!0;var t=this,n=t.el,a=n.getAttribute("infinite-scroll-throttle-delay"),i=200;a&&(i=Number(t.vm[a]||a),(isNaN(i)||i<0)&&(i=200)),t.throttleDelay=i,t.scrollEventTarget=r(n),t.scrollListener=e(u.bind(t),t.throttleDelay),t.scrollEventTarget.addEventListener("scroll",t.scrollListener),this.vm.$on("hook:beforeDestroy",(function(){t.scrollEventTarget.removeEventListener("scroll",t.scrollListener)}));var o=n.getAttribute("infinite-scroll-disabled"),s=!1;o&&(this.vm.$watch(o,(function(e){t.disabled=e,!e&&t.immediateCheck&&u.call(t)})),s=Boolean(t.vm[o])),t.disabled=s;var c=n.getAttribute("infinite-scroll-distance"),l=0;c&&(l=Number(t.vm[c]||c),isNaN(l)&&(l=0)),t.distance=l;var d=n.getAttribute("infinite-scroll-immediate-check"),f=!0;d&&(f=Boolean(t.vm[d])),t.immediateCheck=f,f&&u.call(t);var m=n.getAttribute("infinite-scroll-listen-for-event");m&&t.vm.$on(m,(function(){u.call(t)}))}},u=function(t){var e=this.scrollEventTarget,a=this.el,r=this.distance;if(!0===t||!this.disabled){var s=n(e),c=s+i(e),u=!1;if(e===a)u=e.scrollHeight-c<=r;else{var l=o(a)-o(e)+a.offsetHeight+s;u=c+r>=l}u&&this.expression&&this.expression()}},l={bind:function(e,n,a){e[t]={el:e,vm:a.context,expression:n.value};var r=arguments;e[t].vm.$on("hook:mounted",(function(){e[t].vm.$nextTick((function(){s(e)&&c.call(e[t],r),e[t].bindTryCount=0;var n=function n(){e[t].bindTryCount>10||(e[t].bindTryCount++,s(e)?c.call(e[t],r):setTimeout(n,50))};n()}))}))},unbind:function(e){e&&e[t]&&e[t].scrollEventTarget&&e[t].scrollEventTarget.removeEventListener("scroll",e[t].scrollListener)}},d=function(t){t.directive("InfiniteScroll",l)};return window.Vue&&(window.infiniteScroll=l,Vue.use(d)),l.install=d,l}))},4886:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e("a-page-header",{staticClass:"page-header background-white",attrs:{title:"规则详情"},on:{back:function(e){return t.$router.go(-1)}}}),e("pageContent",{attrs:{detailData:t.detailData}}),e("SearchFrom",{attrs:{detailData:t.detailData}})],1)},r=[],i=n("5530"),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-content"},[e("h6",{staticClass:"base-info"},[t._v("基本信息")]),e("div",{staticClass:"flex-row card-wrap"},[e("div",{staticClass:"card card-left"},[e("ul",[e("li",{staticClass:"flex-row left-list"},[e("label",[t._v("规则名称：")]),t._v(" "+t._s(t.detailData.ruleName)+" ")]),t._m(0),e("li",{staticClass:"flex-row left-list"},[e("label",[t._v("创建者：")]),e("span",{staticClass:"aks-tag"},[e("a-icon",{staticClass:"user",attrs:{type:"user"}}),t._v(t._s(t.detailData.creatorName))],1)]),e("li",{staticClass:"flex-row left-list"},[e("label",[t._v("生效群聊：")]),e("p",{staticClass:"group-list-txt"},t._l(t.tagRule,(function(n,a){return e("span",{key:a},[t._v(" "+t._s("【"+n.chatName+"】")+" ")])})),0),t.tagRule.length>1?e("span",[t._v("等"+t._s(t.tagRule.length)+"个群聊")]):t._e(),e("a-popover",{attrs:{trigger:"click",placement:"rightTop"}},[e("template",{slot:"content"},[e("div",{staticClass:"tootip-title"},[e("ul",{staticClass:"tootip-list-wrap"},t._l(t.detailData.grpBriefList,(function(n,a){return e("li",{key:a,staticClass:"tooltip-list"},[e("a-avatar",{staticClass:"img",attrs:{size:38,src:"/icons/groupChat.png",shape:"square"}}),e("div",[e("a-tooltip",{attrs:{title:n.chatName}},[e("p",{staticClass:"rule-name"},[t._v(t._s(n.chatName))])]),e("p",[t._v(t._s(n.count))])],1)],1)})),0)])]),e("template",{slot:"title"},[e("p",{staticClass:"tip"},[t._v("规则下的群聊")])]),e("a-button",{attrs:{type:"link"}},[t._v("查看")])],2)],1),e("li",{staticClass:"flex-row left-list"},[e("label",[t._v("创建时间：")]),t._v(" "+t._s(t.detailData.createTime)+" ")]),e("li",{staticClass:"flex-row left-list"},[e("label",[t._v("规则状态：")]),e("a-switch",{attrs:{defaultChecked:t.useStatus},on:{change:function(e){return t.changeActive(t.autoTaggingId,e)}}})],1)])]),e("div",{staticClass:"card card-right"},[e("span",{staticClass:"rule-setting"},[t._v("规则设置:")]),e("ul",{staticClass:"card-list"},[e("p",[t._v("共"+t._s(t.detailData.grps&&t.detailData.grps.length)+"条规则")]),t._l(t.detailData.grps,(function(n,a){return e("li",{key:a},[e("p",{staticClass:"list-title"},[e("span",{staticClass:"bar"}),t._v("规则"+t._s(a+1))]),e("p",{domProps:{innerHTML:t._s(t.getRuleName(n))}})])}))],2)])]),e("h6",{staticClass:"base-info"},[t._v(" 数据统计 "),e("a-tooltip",{attrs:{placement:"right"}},[e("div",{attrs:{slot:"title"},slot:"title"},[e("p",[t._v("打标签总数：该规则下打标签的全部客户数；")]),e("p",[t._v("今日打标签数：该规则下今日打标签的客户数")])]),e("a-icon",{attrs:{type:"question-circle"}})],1)],1),e("div",{staticClass:"flex-row"},[e("div",{staticClass:"card all-num"},[e("div",{staticClass:"inner"},[e("div",{staticStyle:{"padding-right":"24px"}},[e("div",{staticClass:"flex-row data-panel"},[e("div",{staticClass:"col-1"},[e("h2",[t._v(t._s(t.detailData.tagTotal))]),e("p",[t._v("打标签总数")])]),e("div",{staticClass:"col-1"},[e("h2",[t._v(t._s(t.detailData.dailyTotal))]),e("p",[t._v("今日打标签数")])])])])])])])])},s=[function(){var t=this,e=t._self._c;return e("li",{staticClass:"flex-row left-list"},[e("label",[t._v("打标签方式：")]),t._v(" 根据客户入群行为 ")])}],c=(n("a15b"),n("d81d"),n("99af"),n("7ba4")),u={props:{detailData:{type:Object,default:function(){}}},data:function(){return{}},computed:{useStatus:function(){return!Boolean(this.detailData.useStatus)},autoTaggingId:function(){return this.$route.query.autoTaggingId},tagList:function(){var t=[];return this.detailData.tagBitmapNames&&(t=this.detailData.tagBitmapNames.split(",")),t},tagRule:function(){var t;return(null===(t=this.detailData)||void 0===t?void 0:t.grpBriefList)||[]}},methods:{getRuleName:function(t){var e,n,a="「".concat(t.custGrpNames,"」"),r=null===(e=t.tagBitmapNames)||void 0===e||null===(n=e.split(","))||void 0===n?void 0:n.map((function(t){return'<a-tag class="tag">'.concat(t,"</a-tag>")})).join("");return"用户加入群聊".concat(a,"时，打上标签").concat(r,"并添加评分+").concat(t.score,"分")},changeActive:function(t,e){var n=this,a=e?"开启":"关闭",r={ruleId:t,status:e?0:1};Object(c["g"])(r).then((function(){n.$message.success("开关已".concat(a))}))}}},l=u,d=(n("491c"),n("2877")),f=Object(d["a"])(l,o,s,!1,null,"73db072a",null),m=f.exports,p=function(){var t=this,e=t._self._c;return e("div",[e("a-form-model",{ref:"ruleForm",staticClass:"form flex-row align-side auto-box",staticStyle:{"padding-top":"16px"},attrs:{model:t.form,layout:"inline",labelAlign:"right"}},[e("div",{staticStyle:{width:"100%",heigt:"100%"},on:{click:function(e){return t.hideDaysbox()}}},[e("a-row",{attrs:{type:"flex"}},[e("a-col",{staticClass:"r-b-16"},[e("a-form-model-item",{attrs:{label:"搜索用户",prop:"searchName"}},[e("a-input-search",{staticStyle:{width:"200px"},attrs:{allowClear:"",placeholder:"请输入要搜索的客户"},on:{search:t.onSearchName},model:{value:t.form.searchName,callback:function(e){t.$set(t.form,"searchName",e)},expression:"form.searchName"}})],1)],1),e("a-col",{staticClass:"r-b-16"},[e("a-form-model-item",{attrs:{label:"所属客服",prop:"staffId"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{allowClear:"",suffixIcon:"down",mode:"multiple",placeholder:"请选择客服","option-label-prop":"label",dropdownMatchSelectWidth:!1,open:t.isOpen},on:{focus:function(e){t.isOpen=!0},change:t.serviceChange},model:{value:t.serviceList,callback:function(e){t.serviceList=e},expression:"serviceList"}},[e("div",{staticClass:"transfer",attrs:{slot:"dropdownRender"},slot:"dropdownRender"},[e("StaffList",{attrs:{type:"customer"},on:{closeopencustomer:t.closeopencustomer}})],1)])],1)],1),e("a-col",{staticClass:"r-b-16"},[e("a-form-model-item",{attrs:{label:"群聊名称",prop:"grpName"}},[e("a-input-search",{staticStyle:{width:"200px"},attrs:{allowClear:"",placeholder:"请输入要搜索的客户"},on:{search:t.onSearchGrpName},model:{value:t.form.grpName,callback:function(e){t.$set(t.form,"grpName",e)},expression:"form.grpName"}})],1)],1),e("a-col",{staticClass:"r-b-16"},[e("a-form-model-item",{attrs:{label:"加入群聊时间",prop:"rangePicker"}},[e("a-range-picker",{staticStyle:{width:"280px"},on:{change:t.changeAddDate},model:{value:t.form.rangePicker,callback:function(e){t.$set(t.form,"rangePicker",e)},expression:"form.rangePicker"}},[e("a-icon",{attrs:{slot:"suffixIcon",type:"calendar"},slot:"suffixIcon"})],1)],1)],1)],1),e("a-row",{attrs:{type:"flex"}},[e("a-col",{staticClass:"r-b-16"},[e("a-form-model-item",{attrs:{label:"入群方式"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择入群方式",allowClear:""},on:{change:t.changeChat},model:{value:t.joinGroupType,callback:function(e){t.joinGroupType=e},expression:"joinGroupType"}},t._l(t.enumWay,(function(n){return e("a-select-option",{key:n.id,attrs:{value:n.id}},[t._v(" "+t._s(n.text)+" ")])})),1)],1)],1),e("a-col",{staticClass:"r-b-16",attrs:{offset:16}},[e("a-button",{staticClass:"reset-btn",on:{click:t.handleReset}},[t._v("重置")])],1)],1)],1)]),e("KeyWordTabel",{attrs:{pagination:t.pagination,pageList:t.pageList,loading:t.loading},on:{change:t.change}})],1)},g=[],h=(n("d3b7"),n("b0c0"),n("b7fd")),b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tabel-wrap background-white"},[e("header",{staticClass:"header"},[t._v(" 共"+t._s(t.pagination.total)+"个客户 "),e("a-divider",{attrs:{type:"vertical"}})],1),e("a-table",{attrs:{"data-source":t.pageList,columns:t.columns,pagination:t.pagination,loading:t.loading},on:{change:t.change},scopedSlots:t._u([{key:"staffNameList",fn:function(n){return[e("div",t._l(n,(function(n,a){return e("a-tag",{key:a},[e("a-icon",{attrs:{type:"user"}}),t._v(" "+t._s(n)+" ")],1)})),1)]}},{key:"joinScene",fn:function(n){return[e("p",[t._v(t._s(t.enumWay[n]))])]}}])})],1)},v=[],y={name:"KeyWordTabel",props:{pagination:{type:Object,default:function(){}},pageList:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},data:function(){return{enumWay:{1:"群成员直接邀请入群",2:"群成员通过链接邀请入群",3:"通过扫描群二维码入群"},columns:[{title:"客户",dataIndex:"wxCustomerName",key:"wxCustomerName",scopedSlots:{customRender:"wxCustomerName"}},{title:"所属客服",dataIndex:"staffNameList",key:"staffNameList",scopedSlots:{customRender:"staffNameList"}},{title:"用户添加群聊",dataIndex:"grpChatName",key:"grpChatName",scopedSlots:{customRender:"grpChatName"}},{title:"入群方式",dataIndex:"joinScene",key:"joinScene",scopedSlots:{customRender:"joinScene"}},{title:"加入群聊时间",dataIndex:"joinDate",key:"joinDate",scopedSlots:{customRender:"joinDate"}}]}},methods:{refresh:function(){},change:function(t){var e=t.current;this.$emit("change",{current:e}),this.pagination.current=e}}},O=y,C=(n("e9aa"),Object(d["a"])(O,b,v,!1,null,"fab504fc",null)),_=C.exports,T=(n("90a8"),n("b9cd"),{data:function(){return{serviceList:[],isOpen:!1,loading:!1,form:{searchName:"",beginTime:"",staffId:"",endTime:"",grpName:"",rangePicker:[]},pageList:[],pagination:{current:1,pageSize:8,total:0},joinGroupType:"",enumWay:[{text:"全部方式",id:""},{text:"群成员直接邀请入群",id:1},{text:"群成员通过链接邀请入群",id:2},{text:"通过扫描群二维码入群",id:3}]}},components:{StaffList:h["a"],KeyWordTabel:_},computed:{autoTaggingId:function(){return this.$route.query.autoTaggingId}},activated:function(){this.init()},methods:{changeChat:function(){this.init()},init:function(){var t=this,e={autoTaggingId:this.autoTaggingId,type:2,custName:this.form.searchName,staffId:this.form.staffId,grpName:this.form.grpName,beginTime:this.form.beginTime,endTime:this.form.endTime,joinGroupType:this.joinGroupType,ruleType:"",currentPage:this.pagination.current,pageSize:this.pagination.pageSize};this.loading=!0,Object(c["e"])(e).then((function(e){var n;e.data?(t.pageList=null===(n=e.data.list)||void 0===n?void 0:n.map((function(t){var e,n,a=Object(i["a"])(Object(i["a"])({},t),{},{key:t.id,staffNameList:null===(e=t.staffNames)||void 0===e?void 0:e.split(","),keywordList:null===(n=t.keyword)||void 0===n?void 0:n.split(",")});return a.operation=a,a})),t.pagination.total=e.data.total):t.pageList=[]})).catch((function(e){t.$message.error(e),t.pageList=[]})).finally((function(){t.loading=!1}))},change:function(t){var e=t.current;this.pagination.current=e,this.init()},hideDaysbox:function(){this.isOpen=!1},onSearchName:function(){this.init()},onSearchGrpName:function(){this.init()},handleReset:function(){this.$refs.ruleForm.resetFields(),this.serviceList=[],this.joinGroupType="",this.init()},serviceChange:function(t){this.serviceList=t,this.form.staffId="",this.init()},closeopencustomer:function(t){this.serviceList=[t.name],this.form.staffId=t.staffId,this.isOpen=!1,this.init()},changeAddDate:function(t){var e,n;t.length>1?(this.form.endTime=null===(e=t[1])||void 0===e?void 0:e.format("X"),this.form.beginTime=null===(n=t[0])||void 0===n?void 0:n.format("X")):(this.form.endTime="",this.form.beginTime="");this.form.rangePicker=t,this.init()}}}),x=T,j=(n("b6c7"),Object(d["a"])(x,p,g,!1,null,"be041668",null)),S=j.exports,L={name:"AddGroupWayDetail",components:{pageContent:m,SearchFrom:S},computed:{autoTaggingId:function(){return this.$route.query.autoTaggingId}},data:function(){return{detailData:{grps:[]}}},activated:function(){this.init()},methods:{init:function(){var t=this;Object(c["i"])({autoTaggingId:this.autoTaggingId}).then((function(e){t.detailData=Object(i["a"])(Object(i["a"])({},t.detailData),e.data)}));var e={autoTaggingId:this.autoTaggingId,ruleType:2};Object(c["j"])(e).then((function(e){t.detailData=Object(i["a"])(Object(i["a"])({},t.detailData),e.data)}))}}},w=L,D=Object(d["a"])(w,a,r,!1,null,"19de1192",null);e["default"]=D.exports},"491c":function(t,e,n){"use strict";n("6360")},6360:function(t,e,n){},"7ba4":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"g",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"i",(function(){return d})),n.d(e,"j",(function(){return f})),n.d(e,"e",(function(){return m})),n.d(e,"h",(function(){return p}));var a=n("b775"),r={autoTaggingQueryList:"/client_transformation/autoTagging/autoTaggingQueryList",openRule:"/client_transformation/autoTagging/openRule",delRule:"/client_transformation/autoTagging/delRule",createAutoTaggingKeyWord:"/client_transformation/autoTagging/createAutoTaggingKeyWord",createAutoTaggingGrp:"/client_transformation/autoTagging/createAutoTaggingGrp",createAutoTaggingTime:"/client_transformation/autoTagging/createAutoTaggingTime",ruleDetail:"/client_transformation/autoTagging/ruleDetail",statistics:"/client_transformation/autoTaggingStatistics/statistics",customerList:"/client_transformation/autoTaggingStatistics/customerList",remindList:"/client_manager/customerdelremind/remindList"};function i(t){return Object(a["b"])({url:r.autoTaggingQueryList,method:"post",data:t})}function o(t){return Object(a["b"])({url:r.openRule,method:"post",data:t})}function s(t){return Object(a["b"])({url:r.delRule,method:"post",data:t})}function c(t){return Object(a["b"])({url:r.createAutoTaggingKeyWord,method:"post",data:t})}function u(t){return Object(a["b"])({url:r.createAutoTaggingGrp,method:"post",data:t})}function l(t){return Object(a["b"])({url:r.createAutoTaggingTime,method:"post",data:t})}function d(t){return Object(a["b"])({url:r.ruleDetail,method:"post",data:t})}function f(t){return Object(a["b"])({url:r.statistics,method:"post",data:t})}function m(t){return Object(a["b"])({url:r.customerList,method:"post",data:t})}function p(t){return Object(a["b"])({url:r.remindList,method:"post",data:t})}},"7dfa":function(t,e,n){},"90a8":function(t,e,n){"use strict";n.d(e,"q",(function(){return i})),n.d(e,"p",(function(){return o})),n.d(e,"x",(function(){return s})),n.d(e,"e",(function(){return c})),n.d(e,"j",(function(){return u})),n.d(e,"A",(function(){return l})),n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"v",(function(){return m})),n.d(e,"w",(function(){return p})),n.d(e,"z",(function(){return g})),n.d(e,"h",(function(){return h})),n.d(e,"i",(function(){return b})),n.d(e,"o",(function(){return v})),n.d(e,"u",(function(){return y})),n.d(e,"m",(function(){return O})),n.d(e,"f",(function(){return C})),n.d(e,"k",(function(){return _})),n.d(e,"l",(function(){return T})),n.d(e,"y",(function(){return x})),n.d(e,"g",(function(){return j})),n.d(e,"d",(function(){return S})),n.d(e,"c",(function(){return L})),n.d(e,"s",(function(){return w})),n.d(e,"r",(function(){return D})),n.d(e,"t",(function(){return N})),n.d(e,"n",(function(){return k}));var a=n("b775"),r={customerList:"/client_manager/client/getCustomerList",dictionaryByCode:"/client_manager/client/getDictionaryByCode",distinctNum:"/client_manager/client/getDistinctNum",syncCustomerData:"/client_manager/client/syncCustomerData",tagGroup:"/client_manager/CustomerTag/getTagGroup ",customerLoss:"/client_manager/customerLoss/page",batchTagging:"/client_manager/CustomerTag/batchTagging",batchTaggingFront:"/client_manager/CustomerTag/batchTaggingFront",batchDelTagFront:"/client_manager/CustomerTag/batchDelTagFront",findByCustomerGroup:"/client_manager/client/findByCustomerGroup",findByCustomerEvent:"/client_manager/client/findByCustomerEvent",findEventByCustomerWxid:"/client_manager/client/findEventByCustomerWxid",findByCustomField:"/client_manager/client/findByCustomField",exportDown:"/client_manager/customerLoss/export",getCustomerListExport:"/client_manager/client/getCustomerListExport",findByCustomFieldExport:"/client_manager/client/findByCustomFieldExport",customerScoreExport:"/client_manager/customerScore/customerScoreExport",customerScore:"/client_manager/customerScore/customerScore",updateScore:"/client_manager/customerScore/updateScore",historyList:"/client_manager/customerScore/list",getTemplateList:"/client_manager/customerEvent/getTemplateList",addTemplateEvent:"/client_manager/customerEvent/addTemplateEvent",addTemplate:"/client_manager/customerEvent/addTemplate",updateTemplate:"/client_manager/customerEvent/updateTemplate",delTemplate:"/client_manager/customerEvent/delTemplate",findByCustomIntegral:"/client_manager/customerIntegral/findByCustomIntegral",findByCustomIntegralExport:"/client_manager/customerIntegral/findByCustomIntegralExport",channelList:"/client_manager/customerIntegral/channelList",integralList:"/client_manager/customerIntegral/integralList"};function i(t){return Object(a["b"])({url:r.findByCustomIntegralExport,method:"post",data:t,responseType:"blob"})}function o(t){return Object(a["b"])({url:r.findByCustomIntegral,method:"post",data:t})}function s(t){return Object(a["b"])({url:r.integralList,method:"post",data:t})}function c(t){return Object(a["b"])({url:r.channelList,method:"get",params:t})}function u(t){return Object(a["b"])({url:r.delTemplate,method:"get",params:t})}function l(t){return Object(a["b"])({url:r.updateTemplate,method:"get",params:t})}function d(t){return Object(a["b"])({url:r.addTemplate,method:"get",params:t})}function f(t){return Object(a["b"])({url:r.addTemplateEvent,method:"get",params:t})}function m(t){return Object(a["b"])({url:r.getTemplateList,method:"get",params:t})}function p(t){return Object(a["b"])({url:r.historyList,method:"get",params:t})}function g(t){return Object(a["b"])({url:r.updateScore,method:"post",data:t})}function h(t){return Object(a["b"])({url:r.customerScore,method:"post",data:t})}function b(t){return Object(a["b"])({url:r.customerScoreExport,method:"post",data:t,responseType:"blob"})}function v(t){return Object(a["b"])({url:r.findByCustomFieldExport,method:"post",data:t,responseType:"blob"})}function y(t){return Object(a["b"])({url:r.getCustomerListExport,method:"get",params:t,responseType:"blob"})}function O(t){return Object(a["b"])({url:r.exportDown,method:"post",data:t,responseType:"blob"})}function C(t){return Object(a["b"])({url:r.customerList,method:"get",params:t})}function _(t){return Object(a["b"])({url:r.dictionaryByCode,method:"get",params:t})}function T(t){return Object(a["b"])({url:r.distinctNum,method:"get",params:t})}function x(){return Object(a["b"])({url:r.tagGroup,method:"post",data:{}})}function j(t){return Object(a["b"])({url:r.customerLoss,method:"post",data:t})}function S(t){return Object(a["b"])({url:r.batchTaggingFront,method:"post",data:t})}function L(t){return Object(a["b"])({url:r.batchDelTagFront,method:"post",data:t})}function w(t){return Object(a["b"])({url:r.findByCustomerGroup,method:"post",data:t})}function D(t){return Object(a["b"])({url:r.findByCustomerEvent,method:"post",data:t})}function N(t){return Object(a["b"])({url:r.findEventByCustomerWxid,method:"post",data:t})}function k(t){return Object(a["b"])({url:r.findByCustomField,method:"post",data:t})}},9694:function(t,e,n){},"9ae3":function(t,e,n){},b52b:function(t,e,n){"use strict";n.d(e,"j",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"i",(function(){return c})),n.d(e,"g",(function(){return u})),n.d(e,"e",(function(){return l})),n.d(e,"h",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"d",(function(){return m})),n.d(e,"f",(function(){return p}));var a=n("b775"),r={labelGroupList:"/client_group/tagBuildGroup/page",labelGroupAdd:"/client_group/tagBuildGroup/add",labelGroupDel:"/client_group/tagBuildGroup/delGroupTagPull",getChat:"/client_group/tagBuildGroup/getChat",getStatistics:"/client_group/tagBuildGroup/getStatistics",queryCustomers:"/client_group/tagBuildGroup/customer/get",customersDetail:"/client_group/tagBuildGroup/staff/get",remind:"/client_group/tagBuildGroup/remind",calculateNum:"/client_group/tagBuildGroup/calculateNum",updateDate:"/client_group/tagBuildGroup/getNewData"};function i(t){return Object(a["b"])({url:r.updateDate,method:"get",params:t})}function o(t){return Object(a["b"])({url:r.getChat,method:"get",params:t})}function s(t){return Object(a["b"])({url:r.calculateNum,method:"post",data:t})}function c(t){return Object(a["b"])({url:r.remind,method:"post",data:t})}function u(t){return Object(a["b"])({url:r.labelGroupList,method:"get",params:t})}function l(t){return Object(a["b"])({url:r.labelGroupAdd,method:"post",data:t})}function d(t){return Object(a["b"])({url:r.queryCustomers,method:"post",data:t})}function f(t){return Object(a["b"])({url:r.customersDetail,method:"post",data:t})}function m(t){return Object(a["b"])({url:r.getStatistics,method:"get",params:t})}function p(t){return Object(a["b"])({url:r.labelGroupDel,method:"post",params:t})}},b5c3:function(t,e,n){t.exports=n.p+"assets/default.c42b7ede.svg"},b6c7:function(t,e,n){"use strict";n("9ae3")},b7fd:function(t,e,n){"use strict";n("b0c0");var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"groupbox"},[e("div",{staticClass:"title"},[t._v(" 全部"+t._s(t.title)+" ("+t._s(t.total)+") ")]),e("div",{staticClass:"search-box"},[e("a-input-search",{attrs:{allowClear:"",placeholder:"请输入".concat(t.title,"名称")},on:{search:t.onSearchGroupleader,pressEnter:t.onSearchGroupleader,blur:t.blursearch,focus:t.searchClick},model:{value:t.searchGroupleader,callback:function(e){t.searchGroupleader=e},expression:"searchGroupleader"}})],1),e("div",{staticClass:"list-wrap"},[e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.allemployees,expression:"allemployees"}],staticClass:"demo-infinite-container",attrs:{"infinite-scroll-disabled":t.busy,"infinite-scroll-distance":10}},[t.staffdata.length>0?e("a-list",{attrs:{"data-source":t.staffdata},scopedSlots:t._u([{key:"renderItem",fn:function(n,a){return e("div",{key:a,staticClass:"list-item",on:{click:function(e){return t.choiceGroup(n)}}},[e("div",{staticClass:"item-content"},[e("img",{staticClass:"avatar",attrs:{src:n.thumbAvatar||t.defaultThumbAvatar,alt:""}}),e("span",{staticClass:"name"},[t._v(t._s(n.name||n.groupName||n.staffName))])]),t.defalytStaffIndex==(n.staffId||n.groupId)?e("a-icon",{staticClass:"img",attrs:{type:"check-circle"}}):e("div",{staticClass:"circle"})],1)}}],null,!1,1114407245)}):e("div",{staticClass:"cter"},[t._v("没有更多相关"+t._s(t.title)+"哦~~")])],1)])])},r=[],i=n("2909"),o=(n("d81d"),n("99af"),n("1c9c")),s=n("b52b"),c=n("487a"),u=n.n(c),l={directives:{infiniteScroll:u.a},props:{type:{type:String,default:"Staff"},title:{type:String,default:"员工"},tagPullId:{type:String,default:""}},data:function(){return{defaultThumbAvatar:n("b5c3"),staffdata:[],defalytStaffIndex:"",loading:!1,busy:!1,total:0,page:1,limit:10,searchGroupleader:""}},created:function(){},methods:{searchClick:function(){this.$emit("isSearchNoHide","1")},blursearch:function(){this.$emit("isSearchNoHide","2")},allemployees:function(){var t=this;switch(this.type){case"Staff":var e={currentPage:this.page,pageSize:this.limit,name:this.searchGroupleader||""};if(this.loading=!0,"0"!=this.total&&this.staffdata.length>=this.total)return void(this.busy=!0);Object(o["q"])(e).then((function(e){e.data.list.map((function(t){t.flag=!1}));var n=e.data.list;t.total=e.data.total,t.staffdata.length>=t.total?t.busy=!0:(t.page>1?t.staffdata=[].concat(Object(i["a"])(t.staffdata),Object(i["a"])(n)):t.staffdata=Object(i["a"])(n),t.page=t.page+1,t.loading=!1)}));break;case"customersDetail":var n={tagPullId:this.tagPullId||""};Object(s["b"])(n).then((function(e){t.total=e.data.total,t.staffdata=e.data.list||[]}));break;case"customer":var a={name:this.searchGroupleader||""};Object(o["n"])(a).then((function(e){t.total=e.data.total,t.staffdata=e.data.list||[]}));break;case"custGrpList":var r={grpName:this.searchGroupleader||"",filterType:0,grpStatus:0,orderCondition:1,orderWay:1,date:"",currentPage:1,pageSize:9999};Object(o["j"])(r).then((function(e){t.total=e.data.total,t.staffdata=e.data.list||[]}));break}},onSearchGroupleader:function(){this.$emit("isSearchNoHide","0"),this.page=1,this.staffdata=[],this.allemployees()},choiceGroup:function(t){this.defalytStaffIndex=t.userid||t.groupId||t.staffId,"Staff"==this.type?(this.$emit("closeopenstaff",t),this.$emit("closeopencustomer",t)):"customer"==this.type?this.$emit("closeopencustomer",t):"custGrpList"==this.type?this.$emit("closeopengroup",t):"customersDetail"==this.type&&this.$emit("closeopencustomer",t)}}},d=l,f=(n("be8d"),n("2877")),m=Object(f["a"])(d,a,r,!1,null,"e031d236",null);e["a"]=m.exports},b9cd:function(t,e,n){"use strict";n.d(e,"l",(function(){return a})),n.d(e,"j",(function(){return r})),n.d(e,"o",(function(){return i})),n.d(e,"n",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"g",(function(){return c})),n.d(e,"d",(function(){return u})),n.d(e,"a",(function(){return l})),n.d(e,"f",(function(){return d})),n.d(e,"k",(function(){return f})),n.d(e,"i",(function(){return m})),n.d(e,"e",(function(){return p})),n.d(e,"p",(function(){return g})),n.d(e,"c",(function(){return h})),n.d(e,"h",(function(){return b})),n.d(e,"q",(function(){return v})),n.d(e,"m",(function(){return y}));var a="LOSS_STATUS",r="GROUP_STATUS",i="ORDER_WAY",o="ORDER_CONDITION",s="ADD_WAY",c="GENDER",u="CUSTOMER_STATUS",l={0:"待分配",1:"待添加",2:"待通过",3:"已添加",4:"导入中"},d={1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六",7:"周日"},f=[{text:"未发送",color:"#ffc2c2",id:0},{text:"已发送",color:"",id:1},{text:"已不是好友",color:"#ffd4b6",id:2},{text:"客户接收达上限",color:"#fbe8ae",id:3},{text:"本月消息已经达到上限",color:"",id:4}],m=[{text:"未发送",color:"#ffc2c2",id:0},{text:"已发送",color:"",id:2},{text:"没有群发任务",color:"",id:4}],p={1:"微信",2:"企业微信"},g=[{id:"immediately",value:"立即发送"},{id:"timing",value:"定时发送"}],h={0:"渠道码",1:"区域扫码",2:"自动拉群",3:"一客一码",4:"加好友",5:"通过群码拉群"},b={0:{text:"拉人中",color:"green"},1:{text:"未开始",color:""},2:{text:"已达上限",color:"orange"},3:{text:"已停用",color:"red"}},v={0:{text:"创建失败",color:"green",id:0},1:{text:"待发送",color:"rgba(34,34,34,.85)",id:1},2:{text:"已发送",color:"rgba(34,34,34,.85)",id:2},3:{text:"已取消",color:"rgba(34,34,34,.85)",id:3},4:{text:"提醒发送",color:"#1890ff",id:4}},y=[{text:"文章",id:"0",format:""},{text:"链接",id:"1"},{text:"海报",id:"2",max:2,format:".bmp,.jpg,.jpeg,.png,.tif,.gif,.pcx,.tga,.exif,.fpx,.svg,.psd,.cdr,.pcd,.dxf,.ufo,.eps,.ai,.raw,.WMF,.webp",tips:"请上传png、jpg格式不超过2M的文件"},{text:"视频",id:"7",max:2e5,format:".MP4",tips:"请上传格式为MP4的视频文件"},{text:"PDF",id:"3",max:20,format:".pdf",icon:"/icons/pdf.png",tips:"请上传PDF格式不超过20M的文件"},{text:"PPT",id:"4",max:20,format:".pptx,.ppt,.pps",icon:"/icons/ppt.svg",tips:"请上传PPT格式不超过20M的文件"},{text:"表格",id:"5",max:20,format:".xlsx,.xls,.csv",icon:"/icons/excel.svg",tips:"请上传csv、xlsx格式不超过20M的文件"},{text:"文档",id:"6",max:20,format:".txt,.doc,.docx",icon:"/icons/word.svg",tips:"请上传doc、txt.docx格式不超过20M的文件"}]},be8d:function(t,e,n){"use strict";n("9694")},e9aa:function(t,e,n){"use strict";n("7dfa")}}]);